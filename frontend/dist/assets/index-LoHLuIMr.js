function Ap(e,t){for(var s=0;s<t.length;s++){const g=t[s];if(typeof g!="string"&&!Array.isArray(g)){for(const i in g)if(i!=="default"&&!(i in e)){const p=Object.getOwnPropertyDescriptor(g,i);p&&Object.defineProperty(e,i,p.get?p:{enumerable:!0,get:()=>g[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))g(i);new MutationObserver(i=>{for(const p of i)if(p.type==="childList")for(const c of p.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&g(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const p={};return i.integrity&&(p.integrity=i.integrity),i.referrerPolicy&&(p.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?p.credentials="include":i.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function g(i){if(i.ep)return;i.ep=!0;const p=s(i);fetch(i.href,p)}})();function Op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yd={exports:{}},ho={},kd={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),Ip=Symbol.for("react.portal"),Rp=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Wp=Symbol.for("react.memo"),Vp=Symbol.for("react.lazy"),Pu=Symbol.iterator;function qp(e){return e===null||typeof e!="object"?null:(e=Pu&&e[Pu]||e["@@iterator"],typeof e=="function"?e:null)}var xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bd=Object.assign,wd={};function zr(e,t,s){this.props=e,this.context=t,this.refs=wd,this.updater=s||xd}zr.prototype.isReactComponent={};zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sd(){}Sd.prototype=zr.prototype;function jl(e,t,s){this.props=e,this.context=t,this.refs=wd,this.updater=s||xd}var Dl=jl.prototype=new Sd;Dl.constructor=jl;bd(Dl,zr.prototype);Dl.isPureReactComponent=!0;var Au=Array.isArray,Td=Object.prototype.hasOwnProperty,Ml={current:null},Cd={key:!0,ref:!0,__self:!0,__source:!0};function Ed(e,t,s){var g,i={},p=null,c=null;if(t!=null)for(g in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(p=""+t.key),t)Td.call(t,g)&&!Cd.hasOwnProperty(g)&&(i[g]=t[g]);var u=arguments.length-2;if(u===1)i.children=s;else if(1<u){for(var h=Array(u),a=0;a<u;a++)h[a]=arguments[a+2];i.children=h}if(e&&e.defaultProps)for(g in u=e.defaultProps,u)i[g]===void 0&&(i[g]=u[g]);return{$$typeof:Hi,type:e,key:p,ref:c,props:i,_owner:Ml.current}}function Gp(e,t){return{$$typeof:Hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hi}function Yp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Ou=/\/+/g;function Ho(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yp(""+e.key):t.toString(36)}function ya(e,t,s,g,i){var p=typeof e;(p==="undefined"||p==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(p){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Hi:case Ip:c=!0}}if(c)return c=e,i=i(c),e=g===""?"."+Ho(c,0):g,Au(i)?(s="",e!=null&&(s=e.replace(Ou,"$&/")+"/"),ya(i,t,s,"",function(a){return a})):i!=null&&(Pl(i)&&(i=Gp(i,s+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(Ou,"$&/")+"/")+e)),t.push(i)),1;if(c=0,g=g===""?".":g+":",Au(e))for(var u=0;u<e.length;u++){p=e[u];var h=g+Ho(p,u);c+=ya(p,t,s,h,i)}else if(h=qp(e),typeof h=="function")for(e=h.call(e),u=0;!(p=e.next()).done;)p=p.value,h=g+Ho(p,u++),c+=ya(p,t,s,h,i);else if(p==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Zi(e,t,s){if(e==null)return e;var g=[],i=0;return ya(e,g,"","",function(p){return t.call(s,p,i++)}),g}function Kp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},ka={transition:null},Xp={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Ml};function $d(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Zi,forEach:function(e,t,s){Zi(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Zi(e,function(){t++}),t},toArray:function(e){return Zi(e,function(t){return t})||[]},only:function(e){if(!Pl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=zr;xe.Fragment=Rp;xe.Profiler=Fp;xe.PureComponent=jl;xe.StrictMode=Lp;xe.Suspense=Up;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp;xe.act=$d;xe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var g=bd({},e.props),i=e.key,p=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(p=t.ref,c=Ml.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(h in t)Td.call(t,h)&&!Cd.hasOwnProperty(h)&&(g[h]=t[h]===void 0&&u!==void 0?u[h]:t[h])}var h=arguments.length-2;if(h===1)g.children=s;else if(1<h){u=Array(h);for(var a=0;a<h;a++)u[a]=arguments[a+2];g.children=u}return{$$typeof:Hi,type:e.type,key:i,ref:p,props:g,_owner:c}};xe.createContext=function(e){return e={$$typeof:Hp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zp,_context:e},e.Consumer=e};xe.createElement=Ed;xe.createFactory=function(e){var t=Ed.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:Bp,render:e}};xe.isValidElement=Pl;xe.lazy=function(e){return{$$typeof:Vp,_payload:{_status:-1,_result:e},_init:Kp}};xe.memo=function(e,t){return{$$typeof:Wp,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};xe.unstable_act=$d;xe.useCallback=function(e,t){return lt.current.useCallback(e,t)};xe.useContext=function(e){return lt.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};xe.useEffect=function(e,t){return lt.current.useEffect(e,t)};xe.useId=function(){return lt.current.useId()};xe.useImperativeHandle=function(e,t,s){return lt.current.useImperativeHandle(e,t,s)};xe.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return lt.current.useMemo(e,t)};xe.useReducer=function(e,t,s){return lt.current.useReducer(e,t,s)};xe.useRef=function(e){return lt.current.useRef(e)};xe.useState=function(e){return lt.current.useState(e)};xe.useSyncExternalStore=function(e,t,s){return lt.current.useSyncExternalStore(e,t,s)};xe.useTransition=function(){return lt.current.useTransition()};xe.version="18.3.1";kd.exports=xe;var Y=kd.exports;const Nd=Op(Y),Jp=Ap({__proto__:null,default:Nd},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=Y,Zp=Symbol.for("react.element"),eg=Symbol.for("react.fragment"),tg=Object.prototype.hasOwnProperty,ng=Qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rg={key:!0,ref:!0,__self:!0,__source:!0};function jd(e,t,s){var g,i={},p=null,c=null;s!==void 0&&(p=""+s),t.key!==void 0&&(p=""+t.key),t.ref!==void 0&&(c=t.ref);for(g in t)tg.call(t,g)&&!rg.hasOwnProperty(g)&&(i[g]=t[g]);if(e&&e.defaultProps)for(g in t=e.defaultProps,t)i[g]===void 0&&(i[g]=t[g]);return{$$typeof:Zp,type:e,key:p,ref:c,props:i,_owner:ng.current}}ho.Fragment=eg;ho.jsx=jd;ho.jsxs=jd;yd.exports=ho;var C=yd.exports,ys={},Dd={exports:{}},bt={},Md={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,H){var q=R.length;R.push(H);e:for(;0<q;){var G=q-1>>>1,L=R[G];if(0<i(L,H))R[G]=H,R[q]=L,q=G;else break e}}function s(R){return R.length===0?null:R[0]}function g(R){if(R.length===0)return null;var H=R[0],q=R.pop();if(q!==H){R[0]=q;e:for(var G=0,L=R.length,F=L>>>1;G<F;){var J=2*(G+1)-1,z=R[J],X=J+1,ne=R[X];if(0>i(z,q))X<L&&0>i(ne,z)?(R[G]=ne,R[X]=q,G=X):(R[G]=z,R[J]=q,G=J);else if(X<L&&0>i(ne,q))R[G]=ne,R[X]=q,G=X;else break e}}return H}function i(R,H){var q=R.sortIndex-H.sortIndex;return q!==0?q:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],a=[],l=1,r=null,n=3,o=!1,d=!1,f=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var H=s(a);H!==null;){if(H.callback===null)g(a);else if(H.startTime<=R)g(a),H.sortIndex=H.expirationTime,t(h,H);else break;H=s(a)}}function k(R){if(f=!1,y(R),!d)if(s(h)!==null)d=!0,O(x);else{var H=s(a);H!==null&&B(k,H.startTime-R)}}function x(R,H){d=!1,f&&(f=!1,m(S),S=-1),o=!0;var q=n;try{for(y(H),r=s(h);r!==null&&(!(r.expirationTime>H)||R&&!$());){var G=r.callback;if(typeof G=="function"){r.callback=null,n=r.priorityLevel;var L=G(r.expirationTime<=H);H=e.unstable_now(),typeof L=="function"?r.callback=L:r===s(h)&&g(h),y(H)}else g(h);r=s(h)}if(r!==null)var F=!0;else{var J=s(a);J!==null&&B(k,J.startTime-H),F=!1}return F}finally{r=null,n=q,o=!1}}var w=!1,b=null,S=-1,T=5,N=-1;function $(){return!(e.unstable_now()-N<T)}function E(){if(b!==null){var R=e.unstable_now();N=R;var H=!0;try{H=b(!0,R)}finally{H?D():(w=!1,b=null)}}else w=!1}var D;if(typeof v=="function")D=function(){v(E)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,I=P.port2;P.port1.onmessage=E,D=function(){I.postMessage(null)}}else D=function(){_(E,0)};function O(R){b=R,w||(w=!0,D())}function B(R,H){S=_(function(){R(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){d||o||(d=!0,O(x))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return n},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(R){switch(n){case 1:case 2:case 3:var H=3;break;default:H=n}var q=n;n=H;try{return R()}finally{n=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=n;n=R;try{return H()}finally{n=q}},e.unstable_scheduleCallback=function(R,H,q){var G=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,R){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,R={id:l++,callback:H,priorityLevel:R,startTime:q,expirationTime:L,sortIndex:-1},q>G?(R.sortIndex=q,t(a,R),s(h)===null&&R===s(a)&&(f?(m(S),S=-1):f=!0,B(k,q-G))):(R.sortIndex=L,t(h,R),d||o||(d=!0,O(x))),R},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(R){var H=n;return function(){var q=n;n=H;try{return R.apply(this,arguments)}finally{n=q}}}})(Pd);Md.exports=Pd;var ig=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=Y,xt=ig;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,ki={};function ar(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(ki[e]=t,e=0;e<t.length;e++)Ad.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=Object.prototype.hasOwnProperty,og=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iu={},Ru={};function sg(e){return ks.call(Ru,e)?!0:ks.call(Iu,e)?!1:og.test(e)?Ru[e]=!0:(Iu[e]=!0,!1)}function lg(e,t,s,g){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return g?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ug(e,t,s,g){if(t===null||typeof t>"u"||lg(e,t,s,g))return!0;if(g)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,s,g,i,p,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=g,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=c}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Al=/[\-:]([a-z])/g;function Ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Al,Ol);Ze[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Al,Ol);Ze[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Al,Ol);Ze[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Il(e,t,s,g){var i=Ze.hasOwnProperty(t)?Ze[t]:null;(i!==null?i.type!==0:g||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ug(t,s,i,g)&&(s=null),g||i===null?sg(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,g=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,g?e.setAttributeNS(g,t,s):e.setAttribute(t,s))))}var un=ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ea=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Rl=Symbol.for("react.strict_mode"),xs=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Id=Symbol.for("react.context"),Ll=Symbol.for("react.forward_ref"),bs=Symbol.for("react.suspense"),ws=Symbol.for("react.suspense_list"),Fl=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),Lu=Symbol.iterator;function Yr(e){return e===null||typeof e!="object"?null:(e=Lu&&e[Lu]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,Bo;function si(e){if(Bo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Bo=t&&t[1]||""}return`
`+Bo+e}var Uo=!1;function Wo(e,t){if(!e||Uo)return"";Uo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var g=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){g=a}e.call(t.prototype)}else{try{throw Error()}catch(a){g=a}e()}}catch(a){if(a&&g&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),p=g.stack.split(`
`),c=i.length-1,u=p.length-1;1<=c&&0<=u&&i[c]!==p[u];)u--;for(;1<=c&&0<=u;c--,u--)if(i[c]!==p[u]){if(c!==1||u!==1)do if(c--,u--,0>u||i[c]!==p[u]){var h=`
`+i[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=u);break}}}finally{Uo=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?si(e):""}function cg(e){switch(e.tag){case 5:return si(e.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return e=Wo(e.type,!1),e;case 11:return e=Wo(e.type.render,!1),e;case 1:return e=Wo(e.type,!0),e;default:return""}}function Ss(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case dr:return"Portal";case xs:return"Profiler";case Rl:return"StrictMode";case bs:return"Suspense";case ws:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Id:return(e.displayName||"Context")+".Consumer";case Od:return(e._context.displayName||"Context")+".Provider";case Ll:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fl:return t=e.displayName||null,t!==null?t:Ss(e.type)||"Memo";case gn:t=e._payload,e=e._init;try{return Ss(e(t))}catch{}}return null}function dg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ss(t);case 8:return t===Rl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ld(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fg(e){var t=Ld(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),g=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){g=""+c,p.call(this,c)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return g},setValue:function(c){g=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ta(e){e._valueTracker||(e._valueTracker=fg(e))}function Fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),g="";return e&&(g=Ld(e)?e.checked?"true":"false":e.value),e=g,e!==s?(t.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ts(e,t){var s=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Fu(e,t){var s=t.defaultValue==null?"":t.defaultValue,g=t.checked!=null?t.checked:t.defaultChecked;s=Mn(t.value!=null?t.value:s),e._wrapperState={initialChecked:g,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zd(e,t){t=t.checked,t!=null&&Il(e,"checked",t,!1)}function Cs(e,t){zd(e,t);var s=Mn(t.value),g=t.type;if(s!=null)g==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(g==="submit"||g==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Es(e,t.type,s):t.hasOwnProperty("defaultValue")&&Es(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var g=t.type;if(!(g!=="submit"&&g!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Es(e,t,s){(t!=="number"||Ia(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var li=Array.isArray;function Sr(e,t,s,g){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&g&&(e[s].defaultSelected=!0)}else{for(s=""+Mn(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,g&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $s(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(oe(92));if(li(s)){if(1<s.length)throw Error(oe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Mn(s)}}function Hd(e,t){var s=Mn(t.value),g=Mn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),g!=null&&(e.defaultValue=""+g)}function Bu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ns(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var na,Ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,g,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,g,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hg=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(e){hg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),di[t]=di[e]})});function Wd(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||di.hasOwnProperty(e)&&di[e]?(""+t).trim():t+"px"}function Vd(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var g=s.indexOf("--")===0,i=Wd(s,t[s],g);s==="float"&&(s="cssFloat"),g?e.setProperty(s,i):e[s]=i}}var pg=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function js(e,t){if(t){if(pg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Ds(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=null;function zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,Tr=null,Cr=null;function Uu(e){if(e=Wi(e)){if(typeof Ps!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=vo(t),Ps(e.stateNode,e.type,t))}}function qd(e){Tr?Cr?Cr.push(e):Cr=[e]:Tr=e}function Gd(){if(Tr){var e=Tr,t=Cr;if(Cr=Tr=null,Uu(e),t)for(e=0;e<t.length;e++)Uu(t[e])}}function Yd(e,t){return e(t)}function Kd(){}var Vo=!1;function Xd(e,t,s){if(Vo)return e(t,s);Vo=!0;try{return Yd(e,t,s)}finally{Vo=!1,(Tr!==null||Cr!==null)&&(Kd(),Gd())}}function bi(e,t){var s=e.stateNode;if(s===null)return null;var g=vo(s);if(g===null)return null;s=g[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(e=e.type,g=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!g;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(oe(231,t,typeof s));return s}var As=!1;if(rn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){As=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{As=!1}function gg(e,t,s,g,i,p,c,u,h){var a=Array.prototype.slice.call(arguments,3);try{t.apply(s,a)}catch(l){this.onError(l)}}var fi=!1,Ra=null,La=!1,Os=null,_g={onError:function(e){fi=!0,Ra=e}};function mg(e,t,s,g,i,p,c,u,h){fi=!1,Ra=null,gg.apply(_g,arguments)}function vg(e,t,s,g,i,p,c,u,h){if(mg.apply(this,arguments),fi){if(fi){var a=Ra;fi=!1,Ra=null}else throw Error(oe(198));La||(La=!0,Os=a)}}function or(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wu(e){if(or(e)!==e)throw Error(oe(188))}function yg(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var s=e,g=t;;){var i=s.return;if(i===null)break;var p=i.alternate;if(p===null){if(g=i.return,g!==null){s=g;continue}break}if(i.child===p.child){for(p=i.child;p;){if(p===s)return Wu(i),e;if(p===g)return Wu(i),t;p=p.sibling}throw Error(oe(188))}if(s.return!==g.return)s=i,g=p;else{for(var c=!1,u=i.child;u;){if(u===s){c=!0,s=i,g=p;break}if(u===g){c=!0,g=i,s=p;break}u=u.sibling}if(!c){for(u=p.child;u;){if(u===s){c=!0,s=p,g=i;break}if(u===g){c=!0,g=p,s=i;break}u=u.sibling}if(!c)throw Error(oe(189))}}if(s.alternate!==g)throw Error(oe(190))}if(s.tag!==3)throw Error(oe(188));return s.stateNode.current===s?e:t}function Qd(e){return e=yg(e),e!==null?Zd(e):null}function Zd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zd(e);if(t!==null)return t;e=e.sibling}return null}var ef=xt.unstable_scheduleCallback,Vu=xt.unstable_cancelCallback,kg=xt.unstable_shouldYield,xg=xt.unstable_requestPaint,ze=xt.unstable_now,bg=xt.unstable_getCurrentPriorityLevel,Hl=xt.unstable_ImmediatePriority,tf=xt.unstable_UserBlockingPriority,Fa=xt.unstable_NormalPriority,wg=xt.unstable_LowPriority,nf=xt.unstable_IdlePriority,po=null,Kt=null;function Sg(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(po,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Eg,Tg=Math.log,Cg=Math.LN2;function Eg(e){return e>>>=0,e===0?32:31-(Tg(e)/Cg|0)|0}var ra=64,ia=4194304;function ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,t){var s=e.pendingLanes;if(s===0)return 0;var g=0,i=e.suspendedLanes,p=e.pingedLanes,c=s&268435455;if(c!==0){var u=c&~i;u!==0?g=ui(u):(p&=c,p!==0&&(g=ui(p)))}else c=s&~i,c!==0?g=ui(c):p!==0&&(g=ui(p));if(g===0)return 0;if(t!==0&&t!==g&&!(t&i)&&(i=g&-g,p=t&-t,i>=p||i===16&&(p&4194240)!==0))return t;if(g&4&&(g|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=g;0<t;)s=31-Lt(t),i=1<<s,g|=e[s],t&=~i;return g}function $g(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ng(e,t){for(var s=e.suspendedLanes,g=e.pingedLanes,i=e.expirationTimes,p=e.pendingLanes;0<p;){var c=31-Lt(p),u=1<<c,h=i[c];h===-1?(!(u&s)||u&g)&&(i[c]=$g(u,t)):h<=t&&(e.expiredLanes|=u),p&=~u}}function Is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rf(){var e=ra;return ra<<=1,!(ra&4194240)&&(ra=64),e}function qo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Bi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=s}function jg(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var g=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Lt(s),p=1<<i;t[i]=0,g[i]=-1,e[i]=-1,s&=~p}}function Bl(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var g=31-Lt(s),i=1<<g;i&t|e[g]&t&&(e[g]|=t),s&=~i}}var Ee=0;function af(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var of,Ul,sf,lf,uf,Rs=!1,aa=[],wn=null,Sn=null,Tn=null,wi=new Map,Si=new Map,mn=[],Dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function Xr(e,t,s,g,i,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:s,eventSystemFlags:g,nativeEvent:p,targetContainers:[i]},t!==null&&(t=Wi(t),t!==null&&Ul(t)),e):(e.eventSystemFlags|=g,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Mg(e,t,s,g,i){switch(t){case"focusin":return wn=Xr(wn,e,t,s,g,i),!0;case"dragenter":return Sn=Xr(Sn,e,t,s,g,i),!0;case"mouseover":return Tn=Xr(Tn,e,t,s,g,i),!0;case"pointerover":var p=i.pointerId;return wi.set(p,Xr(wi.get(p)||null,e,t,s,g,i)),!0;case"gotpointercapture":return p=i.pointerId,Si.set(p,Xr(Si.get(p)||null,e,t,s,g,i)),!0}return!1}function cf(e){var t=Wn(e.target);if(t!==null){var s=or(t);if(s!==null){if(t=s.tag,t===13){if(t=Jd(s),t!==null){e.blockedOn=t,uf(e.priority,function(){sf(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ls(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var g=new s.constructor(s.type,s);Ms=g,s.target.dispatchEvent(g),Ms=null}else return t=Wi(s),t!==null&&Ul(t),e.blockedOn=s,!1;t.shift()}return!0}function Gu(e,t,s){xa(e)&&s.delete(t)}function Pg(){Rs=!1,wn!==null&&xa(wn)&&(wn=null),Sn!==null&&xa(Sn)&&(Sn=null),Tn!==null&&xa(Tn)&&(Tn=null),wi.forEach(Gu),Si.forEach(Gu)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Rs||(Rs=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Pg)))}function Ti(e){function t(i){return Jr(i,e)}if(0<aa.length){Jr(aa[0],e);for(var s=1;s<aa.length;s++){var g=aa[s];g.blockedOn===e&&(g.blockedOn=null)}}for(wn!==null&&Jr(wn,e),Sn!==null&&Jr(Sn,e),Tn!==null&&Jr(Tn,e),wi.forEach(t),Si.forEach(t),s=0;s<mn.length;s++)g=mn[s],g.blockedOn===e&&(g.blockedOn=null);for(;0<mn.length&&(s=mn[0],s.blockedOn===null);)cf(s),s.blockedOn===null&&mn.shift()}var Er=un.ReactCurrentBatchConfig,Ha=!0;function Ag(e,t,s,g){var i=Ee,p=Er.transition;Er.transition=null;try{Ee=1,Wl(e,t,s,g)}finally{Ee=i,Er.transition=p}}function Og(e,t,s,g){var i=Ee,p=Er.transition;Er.transition=null;try{Ee=4,Wl(e,t,s,g)}finally{Ee=i,Er.transition=p}}function Wl(e,t,s,g){if(Ha){var i=Ls(e,t,s,g);if(i===null)ns(e,t,g,Ba,s),qu(e,g);else if(Mg(i,e,t,s,g))g.stopPropagation();else if(qu(e,g),t&4&&-1<Dg.indexOf(e)){for(;i!==null;){var p=Wi(i);if(p!==null&&of(p),p=Ls(e,t,s,g),p===null&&ns(e,t,g,Ba,s),p===i)break;i=p}i!==null&&g.stopPropagation()}else ns(e,t,g,null,s)}}var Ba=null;function Ls(e,t,s,g){if(Ba=null,e=zl(g),e=Wn(e),e!==null)if(t=or(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Jd(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ba=e,null}function df(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bg()){case Hl:return 1;case tf:return 4;case Fa:case wg:return 16;case nf:return 536870912;default:return 16}default:return 16}}var kn=null,Vl=null,ba=null;function ff(){if(ba)return ba;var e,t=Vl,s=t.length,g,i="value"in kn?kn.value:kn.textContent,p=i.length;for(e=0;e<s&&t[e]===i[e];e++);var c=s-e;for(g=1;g<=c&&t[s-g]===i[p-g];g++);return ba=i.slice(e,1<g?1-g:void 0)}function wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oa(){return!0}function Yu(){return!1}function wt(e){function t(s,g,i,p,c){this._reactName=s,this._targetInst=i,this.type=g,this.nativeEvent=p,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(s=e[u],this[u]=s?s(p):p[u]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?oa:Yu,this.isPropagationStopped=Yu,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=wt(Hr),Ui=Re({},Hr,{view:0,detail:0}),Ig=wt(Ui),Go,Yo,Qr,go=Re({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(Go=e.screenX-Qr.screenX,Yo=e.screenY-Qr.screenY):Yo=Go=0,Qr=e),Go)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),Ku=wt(go),Rg=Re({},go,{dataTransfer:0}),Lg=wt(Rg),Fg=Re({},Ui,{relatedTarget:0}),Ko=wt(Fg),zg=Re({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hg=wt(zg),Bg=Re({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ug=wt(Bg),Wg=Re({},Hr,{data:0}),Xu=wt(Wg),Vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gg[e])?!!t[e]:!1}function Gl(){return Yg}var Kg=Re({},Ui,{key:function(e){if(e.key){var t=Vg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gl,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xg=wt(Kg),Jg=Re({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=wt(Jg),Qg=Re({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gl}),Zg=wt(Qg),e_=Re({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),t_=wt(e_),n_=Re({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r_=wt(n_),i_=[9,13,27,32],Yl=rn&&"CompositionEvent"in window,hi=null;rn&&"documentMode"in document&&(hi=document.documentMode);var a_=rn&&"TextEvent"in window&&!hi,hf=rn&&(!Yl||hi&&8<hi&&11>=hi),Qu=" ",Zu=!1;function pf(e,t){switch(e){case"keyup":return i_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function o_(e,t){switch(e){case"compositionend":return gf(t);case"keypress":return t.which!==32?null:(Zu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Zu?null:e;default:return null}}function s_(e,t){if(hr)return e==="compositionend"||!Yl&&pf(e,t)?(e=ff(),ba=Vl=kn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hf&&t.locale!=="ko"?null:t.data;default:return null}}var l_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l_[e.type]:t==="textarea"}function _f(e,t,s,g){qd(g),t=Ua(t,"onChange"),0<t.length&&(s=new ql("onChange","change",null,s,g),e.push({event:s,listeners:t}))}var pi=null,Ci=null;function u_(e){Ef(e,0)}function _o(e){var t=_r(e);if(Fd(t))return e}function c_(e,t){if(e==="change")return t}var mf=!1;if(rn){var Xo;if(rn){var Jo="oninput"in document;if(!Jo){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Jo=typeof tc.oninput=="function"}Xo=Jo}else Xo=!1;mf=Xo&&(!document.documentMode||9<document.documentMode)}function nc(){pi&&(pi.detachEvent("onpropertychange",vf),Ci=pi=null)}function vf(e){if(e.propertyName==="value"&&_o(Ci)){var t=[];_f(t,Ci,e,zl(e)),Xd(u_,t)}}function d_(e,t,s){e==="focusin"?(nc(),pi=t,Ci=s,pi.attachEvent("onpropertychange",vf)):e==="focusout"&&nc()}function f_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(Ci)}function h_(e,t){if(e==="click")return _o(t)}function p_(e,t){if(e==="input"||e==="change")return _o(t)}function g_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:g_;function Ei(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),g=Object.keys(t);if(s.length!==g.length)return!1;for(g=0;g<s.length;g++){var i=s[g];if(!ks.call(t,i)||!zt(e[i],t[i]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ic(e,t){var s=rc(e);e=0;for(var g;s;){if(s.nodeType===3){if(g=e+s.textContent.length,e<=t&&g>=t)return{node:s,offset:t-e};e=g}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rc(s)}}function yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kf(){for(var e=window,t=Ia();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ia(e.document)}return t}function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function __(e){var t=kf(),s=e.focusedElem,g=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&yf(s.ownerDocument.documentElement,s)){if(g!==null&&Kl(s)){if(t=g.start,e=g.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,p=Math.min(g.start,i);g=g.end===void 0?p:Math.min(g.end,i),!e.extend&&p>g&&(i=g,g=p,p=i),i=ic(s,p);var c=ic(s,g);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),p>g?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m_=rn&&"documentMode"in document&&11>=document.documentMode,pr=null,Fs=null,gi=null,zs=!1;function ac(e,t,s){var g=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zs||pr==null||pr!==Ia(g)||(g=pr,"selectionStart"in g&&Kl(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),gi&&Ei(gi,g)||(gi=g,g=Ua(Fs,"onSelect"),0<g.length&&(t=new ql("onSelect","select",null,t,s),e.push({event:t,listeners:g}),t.target=pr)))}function sa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var gr={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},Qo={},xf={};rn&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function mo(e){if(Qo[e])return Qo[e];if(!gr[e])return e;var t=gr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in xf)return Qo[e]=t[s];return e}var bf=mo("animationend"),wf=mo("animationiteration"),Sf=mo("animationstart"),Tf=mo("transitionend"),Cf=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Cf.set(e,t),ar(t,[e])}for(var Zo=0;Zo<oc.length;Zo++){var es=oc[Zo],v_=es.toLowerCase(),y_=es[0].toUpperCase()+es.slice(1);On(v_,"on"+y_)}On(bf,"onAnimationEnd");On(wf,"onAnimationIteration");On(Sf,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(Tf,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function sc(e,t,s){var g=e.type||"unknown-event";e.currentTarget=s,vg(g,t,void 0,e),e.currentTarget=null}function Ef(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var g=e[s],i=g.event;g=g.listeners;e:{var p=void 0;if(t)for(var c=g.length-1;0<=c;c--){var u=g[c],h=u.instance,a=u.currentTarget;if(u=u.listener,h!==p&&i.isPropagationStopped())break e;sc(i,u,a),p=h}else for(c=0;c<g.length;c++){if(u=g[c],h=u.instance,a=u.currentTarget,u=u.listener,h!==p&&i.isPropagationStopped())break e;sc(i,u,a),p=h}}}if(La)throw e=Os,La=!1,Os=null,e}function De(e,t){var s=t[Vs];s===void 0&&(s=t[Vs]=new Set);var g=e+"__bubble";s.has(g)||($f(t,e,2,!1),s.add(g))}function ts(e,t,s){var g=0;t&&(g|=4),$f(s,e,g,t)}var la="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[la]){e[la]=!0,Ad.forEach(function(s){s!=="selectionchange"&&(k_.has(s)||ts(s,!1,e),ts(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[la]||(t[la]=!0,ts("selectionchange",!1,t))}}function $f(e,t,s,g){switch(df(t)){case 1:var i=Ag;break;case 4:i=Og;break;default:i=Wl}s=i.bind(null,t,s,e),i=void 0,!As||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),g?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function ns(e,t,s,g,i){var p=g;if(!(t&1)&&!(t&2)&&g!==null)e:for(;;){if(g===null)return;var c=g.tag;if(c===3||c===4){var u=g.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(c===4)for(c=g.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;c=c.return}for(;u!==null;){if(c=Wn(u),c===null)return;if(h=c.tag,h===5||h===6){g=p=c;continue e}u=u.parentNode}}g=g.return}Xd(function(){var a=p,l=zl(s),r=[];e:{var n=Cf.get(e);if(n!==void 0){var o=ql,d=e;switch(e){case"keypress":if(wa(s)===0)break e;case"keydown":case"keyup":o=Xg;break;case"focusin":d="focus",o=Ko;break;case"focusout":d="blur",o=Ko;break;case"beforeblur":case"afterblur":o=Ko;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=Lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Zg;break;case bf:case wf:case Sf:o=Hg;break;case Tf:o=t_;break;case"scroll":o=Ig;break;case"wheel":o=r_;break;case"copy":case"cut":case"paste":o=Ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ju}var f=(t&4)!==0,_=!f&&e==="scroll",m=f?n!==null?n+"Capture":null:n;f=[];for(var v=a,y;v!==null;){y=v;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=bi(v,m),k!=null&&f.push(Ni(v,k,y)))),_)break;v=v.return}0<f.length&&(n=new o(n,d,null,s,l),r.push({event:n,listeners:f}))}}if(!(t&7)){e:{if(n=e==="mouseover"||e==="pointerover",o=e==="mouseout"||e==="pointerout",n&&s!==Ms&&(d=s.relatedTarget||s.fromElement)&&(Wn(d)||d[an]))break e;if((o||n)&&(n=l.window===l?l:(n=l.ownerDocument)?n.defaultView||n.parentWindow:window,o?(d=s.relatedTarget||s.toElement,o=a,d=d?Wn(d):null,d!==null&&(_=or(d),d!==_||d.tag!==5&&d.tag!==6)&&(d=null)):(o=null,d=a),o!==d)){if(f=Ku,k="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(f=Ju,k="onPointerLeave",m="onPointerEnter",v="pointer"),_=o==null?n:_r(o),y=d==null?n:_r(d),n=new f(k,v+"leave",o,s,l),n.target=_,n.relatedTarget=y,k=null,Wn(l)===a&&(f=new f(m,v+"enter",d,s,l),f.target=y,f.relatedTarget=_,k=f),_=k,o&&d)t:{for(f=o,m=d,v=0,y=f;y;y=ur(y))v++;for(y=0,k=m;k;k=ur(k))y++;for(;0<v-y;)f=ur(f),v--;for(;0<y-v;)m=ur(m),y--;for(;v--;){if(f===m||m!==null&&f===m.alternate)break t;f=ur(f),m=ur(m)}f=null}else f=null;o!==null&&lc(r,n,o,f,!1),d!==null&&_!==null&&lc(r,_,d,f,!0)}}e:{if(n=a?_r(a):window,o=n.nodeName&&n.nodeName.toLowerCase(),o==="select"||o==="input"&&n.type==="file")var x=c_;else if(ec(n))if(mf)x=p_;else{x=f_;var w=d_}else(o=n.nodeName)&&o.toLowerCase()==="input"&&(n.type==="checkbox"||n.type==="radio")&&(x=h_);if(x&&(x=x(e,a))){_f(r,x,s,l);break e}w&&w(e,n,a),e==="focusout"&&(w=n._wrapperState)&&w.controlled&&n.type==="number"&&Es(n,"number",n.value)}switch(w=a?_r(a):window,e){case"focusin":(ec(w)||w.contentEditable==="true")&&(pr=w,Fs=a,gi=null);break;case"focusout":gi=Fs=pr=null;break;case"mousedown":zs=!0;break;case"contextmenu":case"mouseup":case"dragend":zs=!1,ac(r,s,l);break;case"selectionchange":if(m_)break;case"keydown":case"keyup":ac(r,s,l)}var b;if(Yl)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else hr?pf(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(hf&&s.locale!=="ko"&&(hr||S!=="onCompositionStart"?S==="onCompositionEnd"&&hr&&(b=ff()):(kn=l,Vl="value"in kn?kn.value:kn.textContent,hr=!0)),w=Ua(a,S),0<w.length&&(S=new Xu(S,e,null,s,l),r.push({event:S,listeners:w}),b?S.data=b:(b=gf(s),b!==null&&(S.data=b)))),(b=a_?o_(e,s):s_(e,s))&&(a=Ua(a,"onBeforeInput"),0<a.length&&(l=new Xu("onBeforeInput","beforeinput",null,s,l),r.push({event:l,listeners:a}),l.data=b))}Ef(r,t)})}function Ni(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ua(e,t){for(var s=t+"Capture",g=[];e!==null;){var i=e,p=i.stateNode;i.tag===5&&p!==null&&(i=p,p=bi(e,s),p!=null&&g.unshift(Ni(e,p,i)),p=bi(e,t),p!=null&&g.push(Ni(e,p,i))),e=e.return}return g}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lc(e,t,s,g,i){for(var p=t._reactName,c=[];s!==null&&s!==g;){var u=s,h=u.alternate,a=u.stateNode;if(h!==null&&h===g)break;u.tag===5&&a!==null&&(u=a,i?(h=bi(s,p),h!=null&&c.unshift(Ni(s,h,u))):i||(h=bi(s,p),h!=null&&c.push(Ni(s,h,u)))),s=s.return}c.length!==0&&e.push({event:t,listeners:c})}var x_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function uc(e){return(typeof e=="string"?e:""+e).replace(x_,`
`).replace(b_,"")}function ua(e,t,s){if(t=uc(t),uc(e)!==t&&s)throw Error(oe(425))}function Wa(){}var Hs=null,Bs=null;function Us(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ws=typeof setTimeout=="function"?setTimeout:void 0,w_=typeof clearTimeout=="function"?clearTimeout:void 0,cc=typeof Promise=="function"?Promise:void 0,S_=typeof queueMicrotask=="function"?queueMicrotask:typeof cc<"u"?function(e){return cc.resolve(null).then(e).catch(T_)}:Ws;function T_(e){setTimeout(function(){throw e})}function rs(e,t){var s=t,g=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(g===0){e.removeChild(i),Ti(t);return}g--}else s!=="$"&&s!=="$?"&&s!=="$!"||g++;s=i}while(s);Ti(t)}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),qt="__reactFiber$"+Br,ji="__reactProps$"+Br,an="__reactContainer$"+Br,Vs="__reactEvents$"+Br,C_="__reactListeners$"+Br,E_="__reactHandles$"+Br;function Wn(e){var t=e[qt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[an]||s[qt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=dc(e);e!==null;){if(s=e[qt])return s;e=dc(e)}return t}e=s,s=e.parentNode}return null}function Wi(e){return e=e[qt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function vo(e){return e[ji]||null}var qs=[],mr=-1;function In(e){return{current:e}}function Me(e){0>mr||(e.current=qs[mr],qs[mr]=null,mr--)}function Ne(e,t){mr++,qs[mr]=e.current,e.current=t}var Pn={},it=In(Pn),ft=In(!1),Qn=Pn;function Mr(e,t){var s=e.type.contextTypes;if(!s)return Pn;var g=e.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===t)return g.__reactInternalMemoizedMaskedChildContext;var i={},p;for(p in s)i[p]=t[p];return g&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ht(e){return e=e.childContextTypes,e!=null}function Va(){Me(ft),Me(it)}function fc(e,t,s){if(it.current!==Pn)throw Error(oe(168));Ne(it,t),Ne(ft,s)}function Nf(e,t,s){var g=e.stateNode;if(t=t.childContextTypes,typeof g.getChildContext!="function")return s;g=g.getChildContext();for(var i in g)if(!(i in t))throw Error(oe(108,dg(e)||"Unknown",i));return Re({},s,g)}function qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Qn=it.current,Ne(it,e),Ne(ft,ft.current),!0}function hc(e,t,s){var g=e.stateNode;if(!g)throw Error(oe(169));s?(e=Nf(e,t,Qn),g.__reactInternalMemoizedMergedChildContext=e,Me(ft),Me(it),Ne(it,e)):Me(ft),Ne(ft,s)}var Zt=null,yo=!1,is=!1;function jf(e){Zt===null?Zt=[e]:Zt.push(e)}function $_(e){yo=!0,jf(e)}function Rn(){if(!is&&Zt!==null){is=!0;var e=0,t=Ee;try{var s=Zt;for(Ee=1;e<s.length;e++){var g=s[e];do g=g(!0);while(g!==null)}Zt=null,yo=!1}catch(i){throw Zt!==null&&(Zt=Zt.slice(e+1)),ef(Hl,Rn),i}finally{Ee=t,is=!1}}return null}var vr=[],yr=0,Ga=null,Ya=0,Et=[],$t=0,Zn=null,en=1,tn="";function Hn(e,t){vr[yr++]=Ya,vr[yr++]=Ga,Ga=e,Ya=t}function Df(e,t,s){Et[$t++]=en,Et[$t++]=tn,Et[$t++]=Zn,Zn=e;var g=en;e=tn;var i=32-Lt(g)-1;g&=~(1<<i),s+=1;var p=32-Lt(t)+i;if(30<p){var c=i-i%5;p=(g&(1<<c)-1).toString(32),g>>=c,i-=c,en=1<<32-Lt(t)+i|s<<i|g,tn=p+e}else en=1<<p|s<<i|g,tn=e}function Xl(e){e.return!==null&&(Hn(e,1),Df(e,1,0))}function Jl(e){for(;e===Ga;)Ga=vr[--yr],vr[yr]=null,Ya=vr[--yr],vr[yr]=null;for(;e===Zn;)Zn=Et[--$t],Et[$t]=null,tn=Et[--$t],Et[$t]=null,en=Et[--$t],Et[$t]=null}var kt=null,yt=null,Ae=!1,Rt=null;function Mf(e,t){var s=Nt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function pc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,yt=Cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Zn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Nt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,kt=e,yt=null,!0):!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ys(e){if(Ae){var t=yt;if(t){var s=t;if(!pc(e,t)){if(Gs(e))throw Error(oe(418));t=Cn(s.nextSibling);var g=kt;t&&pc(e,t)?Mf(g,s):(e.flags=e.flags&-4097|2,Ae=!1,kt=e)}}else{if(Gs(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Ae=!1,kt=e}}}function gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function ca(e){if(e!==kt)return!1;if(!Ae)return gc(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Us(e.type,e.memoizedProps)),t&&(t=yt)){if(Gs(e))throw Pf(),Error(oe(418));for(;t;)Mf(e,t),t=Cn(t.nextSibling)}if(gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){yt=Cn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=kt?Cn(e.stateNode.nextSibling):null;return!0}function Pf(){for(var e=yt;e;)e=Cn(e.nextSibling)}function Pr(){yt=kt=null,Ae=!1}function Ql(e){Rt===null?Rt=[e]:Rt.push(e)}var N_=un.ReactCurrentBatchConfig;function Zr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(oe(309));var g=s.stateNode}if(!g)throw Error(oe(147,e));var i=g,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(c){var u=i.refs;c===null?delete u[p]:u[p]=c},t._stringRef=p,t)}if(typeof e!="string")throw Error(oe(284));if(!s._owner)throw Error(oe(290,e))}return e}function da(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function Af(e){function t(m,v){if(e){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function s(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function g(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=jn(m,v),m.index=0,m.sibling=null,m}function p(m,v,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function c(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,v,y,k){return v===null||v.tag!==6?(v=ds(y,m.mode,k),v.return=m,v):(v=i(v,y),v.return=m,v)}function h(m,v,y,k){var x=y.type;return x===fr?l(m,v,y.props.children,k,y.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===gn&&_c(x)===v.type)?(k=i(v,y.props),k.ref=Zr(m,v,y),k.return=m,k):(k=ja(y.type,y.key,y.props,null,m.mode,k),k.ref=Zr(m,v,y),k.return=m,k)}function a(m,v,y,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=fs(y,m.mode,k),v.return=m,v):(v=i(v,y.children||[]),v.return=m,v)}function l(m,v,y,k,x){return v===null||v.tag!==7?(v=Xn(y,m.mode,k,x),v.return=m,v):(v=i(v,y),v.return=m,v)}function r(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ds(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ea:return y=ja(v.type,v.key,v.props,null,m.mode,y),y.ref=Zr(m,null,v),y.return=m,y;case dr:return v=fs(v,m.mode,y),v.return=m,v;case gn:var k=v._init;return r(m,k(v._payload),y)}if(li(v)||Yr(v))return v=Xn(v,m.mode,y,null),v.return=m,v;da(m,v)}return null}function n(m,v,y,k){var x=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:u(m,v,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ea:return y.key===x?h(m,v,y,k):null;case dr:return y.key===x?a(m,v,y,k):null;case gn:return x=y._init,n(m,v,x(y._payload),k)}if(li(y)||Yr(y))return x!==null?null:l(m,v,y,k,null);da(m,y)}return null}function o(m,v,y,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,u(v,m,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ea:return m=m.get(k.key===null?y:k.key)||null,h(v,m,k,x);case dr:return m=m.get(k.key===null?y:k.key)||null,a(v,m,k,x);case gn:var w=k._init;return o(m,v,y,w(k._payload),x)}if(li(k)||Yr(k))return m=m.get(y)||null,l(v,m,k,x,null);da(v,k)}return null}function d(m,v,y,k){for(var x=null,w=null,b=v,S=v=0,T=null;b!==null&&S<y.length;S++){b.index>S?(T=b,b=null):T=b.sibling;var N=n(m,b,y[S],k);if(N===null){b===null&&(b=T);break}e&&b&&N.alternate===null&&t(m,b),v=p(N,v,S),w===null?x=N:w.sibling=N,w=N,b=T}if(S===y.length)return s(m,b),Ae&&Hn(m,S),x;if(b===null){for(;S<y.length;S++)b=r(m,y[S],k),b!==null&&(v=p(b,v,S),w===null?x=b:w.sibling=b,w=b);return Ae&&Hn(m,S),x}for(b=g(m,b);S<y.length;S++)T=o(b,m,S,y[S],k),T!==null&&(e&&T.alternate!==null&&b.delete(T.key===null?S:T.key),v=p(T,v,S),w===null?x=T:w.sibling=T,w=T);return e&&b.forEach(function($){return t(m,$)}),Ae&&Hn(m,S),x}function f(m,v,y,k){var x=Yr(y);if(typeof x!="function")throw Error(oe(150));if(y=x.call(y),y==null)throw Error(oe(151));for(var w=x=null,b=v,S=v=0,T=null,N=y.next();b!==null&&!N.done;S++,N=y.next()){b.index>S?(T=b,b=null):T=b.sibling;var $=n(m,b,N.value,k);if($===null){b===null&&(b=T);break}e&&b&&$.alternate===null&&t(m,b),v=p($,v,S),w===null?x=$:w.sibling=$,w=$,b=T}if(N.done)return s(m,b),Ae&&Hn(m,S),x;if(b===null){for(;!N.done;S++,N=y.next())N=r(m,N.value,k),N!==null&&(v=p(N,v,S),w===null?x=N:w.sibling=N,w=N);return Ae&&Hn(m,S),x}for(b=g(m,b);!N.done;S++,N=y.next())N=o(b,m,S,N.value,k),N!==null&&(e&&N.alternate!==null&&b.delete(N.key===null?S:N.key),v=p(N,v,S),w===null?x=N:w.sibling=N,w=N);return e&&b.forEach(function(E){return t(m,E)}),Ae&&Hn(m,S),x}function _(m,v,y,k){if(typeof y=="object"&&y!==null&&y.type===fr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ea:e:{for(var x=y.key,w=v;w!==null;){if(w.key===x){if(x=y.type,x===fr){if(w.tag===7){s(m,w.sibling),v=i(w,y.props.children),v.return=m,m=v;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===gn&&_c(x)===w.type){s(m,w.sibling),v=i(w,y.props),v.ref=Zr(m,w,y),v.return=m,m=v;break e}s(m,w);break}else t(m,w);w=w.sibling}y.type===fr?(v=Xn(y.props.children,m.mode,k,y.key),v.return=m,m=v):(k=ja(y.type,y.key,y.props,null,m.mode,k),k.ref=Zr(m,v,y),k.return=m,m=k)}return c(m);case dr:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){s(m,v.sibling),v=i(v,y.children||[]),v.return=m,m=v;break e}else{s(m,v);break}else t(m,v);v=v.sibling}v=fs(y,m.mode,k),v.return=m,m=v}return c(m);case gn:return w=y._init,_(m,v,w(y._payload),k)}if(li(y))return d(m,v,y,k);if(Yr(y))return f(m,v,y,k);da(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(s(m,v.sibling),v=i(v,y),v.return=m,m=v):(s(m,v),v=ds(y,m.mode,k),v.return=m,m=v),c(m)):s(m,v)}return _}var Ar=Af(!0),Of=Af(!1),Ka=In(null),Xa=null,kr=null,Zl=null;function eu(){Zl=kr=Xa=null}function tu(e){var t=Ka.current;Me(Ka),e._currentValue=t}function Ks(e,t,s){for(;e!==null;){var g=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,g!==null&&(g.childLanes|=t)):g!==null&&(g.childLanes&t)!==t&&(g.childLanes|=t),e===s)break;e=e.return}}function $r(e,t){Xa=e,Zl=kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(Zl!==e)if(e={context:e,memoizedValue:t,next:null},kr===null){if(Xa===null)throw Error(oe(308));kr=e,Xa.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Vn=null;function nu(e){Vn===null?Vn=[e]:Vn.push(e)}function If(e,t,s,g){var i=t.interleaved;return i===null?(s.next=s,nu(t)):(s.next=i.next,i.next=s),t.interleaved=s,on(e,g)}function on(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var _n=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,s){var g=e.updateQueue;if(g===null)return null;if(g=g.shared,be&2){var i=g.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),g.pending=t,on(e,s)}return i=g.interleaved,i===null?(t.next=t,nu(g)):(t.next=i.next,i.next=t),g.interleaved=t,on(e,s)}function Sa(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var g=t.lanes;g&=e.pendingLanes,s|=g,t.lanes=s,Bl(e,s)}}function mc(e,t){var s=e.updateQueue,g=e.alternate;if(g!==null&&(g=g.updateQueue,s===g)){var i=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var c={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?i=p=c:p=p.next=c,s=s.next}while(s!==null);p===null?i=p=t:p=p.next=t}else i=p=t;s={baseState:g.baseState,firstBaseUpdate:i,lastBaseUpdate:p,shared:g.shared,effects:g.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ja(e,t,s,g){var i=e.updateQueue;_n=!1;var p=i.firstBaseUpdate,c=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,a=h.next;h.next=null,c===null?p=a:c.next=a,c=h;var l=e.alternate;l!==null&&(l=l.updateQueue,u=l.lastBaseUpdate,u!==c&&(u===null?l.firstBaseUpdate=a:u.next=a,l.lastBaseUpdate=h))}if(p!==null){var r=i.baseState;c=0,l=a=h=null,u=p;do{var n=u.lane,o=u.eventTime;if((g&n)===n){l!==null&&(l=l.next={eventTime:o,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var d=e,f=u;switch(n=t,o=s,f.tag){case 1:if(d=f.payload,typeof d=="function"){r=d.call(o,r,n);break e}r=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=f.payload,n=typeof d=="function"?d.call(o,r,n):d,n==null)break e;r=Re({},r,n);break e;case 2:_n=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,n=i.effects,n===null?i.effects=[u]:n.push(u))}else o={eventTime:o,lane:n,tag:u.tag,payload:u.payload,callback:u.callback,next:null},l===null?(a=l=o,h=r):l=l.next=o,c|=n;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;n=u,u=n.next,n.next=null,i.lastBaseUpdate=n,i.shared.pending=null}}while(!0);if(l===null&&(h=r),i.baseState=h,i.firstBaseUpdate=a,i.lastBaseUpdate=l,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else p===null&&(i.shared.lanes=0);tr|=c,e.lanes=c,e.memoizedState=r}}function vc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var g=e[t],i=g.callback;if(i!==null){if(g.callback=null,g=s,typeof i!="function")throw Error(oe(191,i));i.call(g)}}}var Vi={},Xt=In(Vi),Di=In(Vi),Mi=In(Vi);function qn(e){if(e===Vi)throw Error(oe(174));return e}function iu(e,t){switch(Ne(Mi,t),Ne(Di,e),Ne(Xt,Vi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ns(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ns(t,e)}Me(Xt),Ne(Xt,t)}function Or(){Me(Xt),Me(Di),Me(Mi)}function Lf(e){qn(Mi.current);var t=qn(Xt.current),s=Ns(t,e.type);t!==s&&(Ne(Di,e),Ne(Xt,s))}function au(e){Di.current===e&&(Me(Xt),Me(Di))}var Oe=In(0);function Qa(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function ou(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var Ta=un.ReactCurrentDispatcher,os=un.ReactCurrentBatchConfig,er=0,Ie=null,qe=null,Ke=null,Za=!1,_i=!1,Pi=0,j_=0;function et(){throw Error(oe(321))}function su(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!zt(e[s],t[s]))return!1;return!0}function lu(e,t,s,g,i,p){if(er=p,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=e===null||e.memoizedState===null?A_:O_,e=s(g,i),_i){p=0;do{if(_i=!1,Pi=0,25<=p)throw Error(oe(301));p+=1,Ke=qe=null,t.updateQueue=null,Ta.current=I_,e=s(g,i)}while(_i)}if(Ta.current=eo,t=qe!==null&&qe.next!==null,er=0,Ke=qe=Ie=null,Za=!1,t)throw Error(oe(300));return e}function uu(){var e=Pi!==0;return Pi=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Mt(){if(qe===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ke===null?Ie.memoizedState:Ke.next;if(t!==null)Ke=t,qe=e;else{if(e===null)throw Error(oe(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ai(e,t){return typeof t=="function"?t(e):t}function ss(e){var t=Mt(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var g=qe,i=g.baseQueue,p=s.pending;if(p!==null){if(i!==null){var c=i.next;i.next=p.next,p.next=c}g.baseQueue=i=p,s.pending=null}if(i!==null){p=i.next,g=g.baseState;var u=c=null,h=null,a=p;do{var l=a.lane;if((er&l)===l)h!==null&&(h=h.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),g=a.hasEagerState?a.eagerState:e(g,a.action);else{var r={lane:l,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};h===null?(u=h=r,c=g):h=h.next=r,Ie.lanes|=l,tr|=l}a=a.next}while(a!==null&&a!==p);h===null?c=g:h.next=u,zt(g,t.memoizedState)||(dt=!0),t.memoizedState=g,t.baseState=c,t.baseQueue=h,s.lastRenderedState=g}if(e=s.interleaved,e!==null){i=e;do p=i.lane,Ie.lanes|=p,tr|=p,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ls(e){var t=Mt(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var g=s.dispatch,i=s.pending,p=t.memoizedState;if(i!==null){s.pending=null;var c=i=i.next;do p=e(p,c.action),c=c.next;while(c!==i);zt(p,t.memoizedState)||(dt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),s.lastRenderedState=p}return[p,g]}function Ff(){}function zf(e,t){var s=Ie,g=Mt(),i=t(),p=!zt(g.memoizedState,i);if(p&&(g.memoizedState=i,dt=!0),g=g.queue,cu(Uf.bind(null,s,g,e),[e]),g.getSnapshot!==t||p||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,Oi(9,Bf.bind(null,s,g,i,t),void 0,null),Xe===null)throw Error(oe(349));er&30||Hf(s,t,i)}return i}function Hf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Bf(e,t,s,g){t.value=s,t.getSnapshot=g,Wf(t)&&Vf(e)}function Uf(e,t,s){return s(function(){Wf(t)&&Vf(e)})}function Wf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!zt(e,s)}catch{return!0}}function Vf(e){var t=on(e,1);t!==null&&Ft(t,e,1,-1)}function yc(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=P_.bind(null,Ie,e),[t.memoizedState,e]}function Oi(e,t,s,g){return e={tag:e,create:t,destroy:s,deps:g,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(g=s.next,s.next=e,e.next=g,t.lastEffect=e)),e}function qf(){return Mt().memoizedState}function Ca(e,t,s,g){var i=Vt();Ie.flags|=e,i.memoizedState=Oi(1|t,s,void 0,g===void 0?null:g)}function ko(e,t,s,g){var i=Mt();g=g===void 0?null:g;var p=void 0;if(qe!==null){var c=qe.memoizedState;if(p=c.destroy,g!==null&&su(g,c.deps)){i.memoizedState=Oi(t,s,p,g);return}}Ie.flags|=e,i.memoizedState=Oi(1|t,s,p,g)}function kc(e,t){return Ca(8390656,8,e,t)}function cu(e,t){return ko(2048,8,e,t)}function Gf(e,t){return ko(4,2,e,t)}function Yf(e,t){return ko(4,4,e,t)}function Kf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xf(e,t,s){return s=s!=null?s.concat([e]):null,ko(4,4,Kf.bind(null,t,e),s)}function du(){}function Jf(e,t){var s=Mt();t=t===void 0?null:t;var g=s.memoizedState;return g!==null&&t!==null&&su(t,g[1])?g[0]:(s.memoizedState=[e,t],e)}function Qf(e,t){var s=Mt();t=t===void 0?null:t;var g=s.memoizedState;return g!==null&&t!==null&&su(t,g[1])?g[0]:(e=e(),s.memoizedState=[e,t],e)}function Zf(e,t,s){return er&21?(zt(s,t)||(s=rf(),Ie.lanes|=s,tr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=s)}function D_(e,t){var s=Ee;Ee=s!==0&&4>s?s:4,e(!0);var g=os.transition;os.transition={};try{e(!1),t()}finally{Ee=s,os.transition=g}}function eh(){return Mt().memoizedState}function M_(e,t,s){var g=Nn(e);if(s={lane:g,action:s,hasEagerState:!1,eagerState:null,next:null},th(e))nh(t,s);else if(s=If(e,t,s,g),s!==null){var i=st();Ft(s,e,g,i),rh(s,t,g)}}function P_(e,t,s){var g=Nn(e),i={lane:g,action:s,hasEagerState:!1,eagerState:null,next:null};if(th(e))nh(t,i);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var c=t.lastRenderedState,u=p(c,s);if(i.hasEagerState=!0,i.eagerState=u,zt(u,c)){var h=t.interleaved;h===null?(i.next=i,nu(t)):(i.next=h.next,h.next=i),t.interleaved=i;return}}catch{}finally{}s=If(e,t,i,g),s!==null&&(i=st(),Ft(s,e,g,i),rh(s,t,g))}}function th(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function nh(e,t){_i=Za=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function rh(e,t,s){if(s&4194240){var g=t.lanes;g&=e.pendingLanes,s|=g,t.lanes=s,Bl(e,s)}}var eo={readContext:Dt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},A_={readContext:Dt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:kc,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ca(4194308,4,Kf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ca(4,2,e,t)},useMemo:function(e,t){var s=Vt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var g=Vt();return t=s!==void 0?s(t):t,g.memoizedState=g.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},g.queue=e,e=e.dispatch=M_.bind(null,Ie,e),[g.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:yc,useDebugValue:du,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=yc(!1),t=e[0];return e=D_.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var g=Ie,i=Vt();if(Ae){if(s===void 0)throw Error(oe(407));s=s()}else{if(s=t(),Xe===null)throw Error(oe(349));er&30||Hf(g,t,s)}i.memoizedState=s;var p={value:s,getSnapshot:t};return i.queue=p,kc(Uf.bind(null,g,p,e),[e]),g.flags|=2048,Oi(9,Bf.bind(null,g,p,s,t),void 0,null),s},useId:function(){var e=Vt(),t=Xe.identifierPrefix;if(Ae){var s=tn,g=en;s=(g&~(1<<32-Lt(g)-1)).toString(32)+s,t=":"+t+"R"+s,s=Pi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=j_++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},O_={readContext:Dt,useCallback:Jf,useContext:Dt,useEffect:cu,useImperativeHandle:Xf,useInsertionEffect:Gf,useLayoutEffect:Yf,useMemo:Qf,useReducer:ss,useRef:qf,useState:function(){return ss(Ai)},useDebugValue:du,useDeferredValue:function(e){var t=Mt();return Zf(t,qe.memoizedState,e)},useTransition:function(){var e=ss(Ai)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Ff,useSyncExternalStore:zf,useId:eh,unstable_isNewReconciler:!1},I_={readContext:Dt,useCallback:Jf,useContext:Dt,useEffect:cu,useImperativeHandle:Xf,useInsertionEffect:Gf,useLayoutEffect:Yf,useMemo:Qf,useReducer:ls,useRef:qf,useState:function(){return ls(Ai)},useDebugValue:du,useDeferredValue:function(e){var t=Mt();return qe===null?t.memoizedState=e:Zf(t,qe.memoizedState,e)},useTransition:function(){var e=ls(Ai)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Ff,useSyncExternalStore:zf,useId:eh,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Xs(e,t,s,g){t=e.memoizedState,s=s(g,t),s=s==null?t:Re({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xo={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var g=st(),i=Nn(e),p=nn(g,i);p.payload=t,s!=null&&(p.callback=s),t=En(e,p,i),t!==null&&(Ft(t,e,i,g),Sa(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var g=st(),i=Nn(e),p=nn(g,i);p.tag=1,p.payload=t,s!=null&&(p.callback=s),t=En(e,p,i),t!==null&&(Ft(t,e,i,g),Sa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=st(),g=Nn(e),i=nn(s,g);i.tag=2,t!=null&&(i.callback=t),t=En(e,i,g),t!==null&&(Ft(t,e,g,s),Sa(t,e,g))}};function xc(e,t,s,g,i,p,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(g,p,c):t.prototype&&t.prototype.isPureReactComponent?!Ei(s,g)||!Ei(i,p):!0}function ih(e,t,s){var g=!1,i=Pn,p=t.contextType;return typeof p=="object"&&p!==null?p=Dt(p):(i=ht(t)?Qn:it.current,g=t.contextTypes,p=(g=g!=null)?Mr(e,i):Pn),t=new t(s,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xo,e.stateNode=t,t._reactInternals=e,g&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=p),t}function bc(e,t,s,g){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,g),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,g),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Js(e,t,s,g){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},ru(e);var p=t.contextType;typeof p=="object"&&p!==null?i.context=Dt(p):(p=ht(t)?Qn:it.current,i.context=Mr(e,p)),i.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(Xs(e,t,p,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xo.enqueueReplaceState(i,i.state,null),Ja(e,s,i,g),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,t){try{var s="",g=t;do s+=cg(g),g=g.return;while(g);var i=s}catch(p){i=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Qs(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var R_=typeof WeakMap=="function"?WeakMap:Map;function ah(e,t,s){s=nn(-1,s),s.tag=3,s.payload={element:null};var g=t.value;return s.callback=function(){no||(no=!0,ll=g),Qs(e,t)},s}function oh(e,t,s){s=nn(-1,s),s.tag=3;var g=e.type.getDerivedStateFromError;if(typeof g=="function"){var i=t.value;s.payload=function(){return g(i)},s.callback=function(){Qs(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){Qs(e,t),typeof g!="function"&&($n===null?$n=new Set([this]):$n.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),s}function wc(e,t,s){var g=e.pingCache;if(g===null){g=e.pingCache=new R_;var i=new Set;g.set(t,i)}else i=g.get(t),i===void 0&&(i=new Set,g.set(t,i));i.has(s)||(i.add(s),e=J_.bind(null,e,t,s),t.then(e,e))}function Sc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tc(e,t,s,g,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=nn(-1,1),t.tag=2,En(s,t,1))),s.lanes|=1),e)}var L_=un.ReactCurrentOwner,dt=!1;function at(e,t,s,g){t.child=e===null?Of(t,null,s,g):Ar(t,e.child,s,g)}function Cc(e,t,s,g,i){s=s.render;var p=t.ref;return $r(t,i),g=lu(e,t,s,g,p,i),s=uu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sn(e,t,i)):(Ae&&s&&Xl(t),t.flags|=1,at(e,t,g,i),t.child)}function Ec(e,t,s,g,i){if(e===null){var p=s.type;return typeof p=="function"&&!yu(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=p,sh(e,t,p,g,i)):(e=ja(s.type,null,g,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!(e.lanes&i)){var c=p.memoizedProps;if(s=s.compare,s=s!==null?s:Ei,s(c,g)&&e.ref===t.ref)return sn(e,t,i)}return t.flags|=1,e=jn(p,g),e.ref=t.ref,e.return=t,t.child=e}function sh(e,t,s,g,i){if(e!==null){var p=e.memoizedProps;if(Ei(p,g)&&e.ref===t.ref)if(dt=!1,t.pendingProps=g=p,(e.lanes&i)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,sn(e,t,i)}return Zs(e,t,s,g,i)}function lh(e,t,s){var g=t.pendingProps,i=g.children,p=e!==null?e.memoizedState:null;if(g.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(br,vt),vt|=s;else{if(!(s&1073741824))return e=p!==null?p.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(br,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=p!==null?p.baseLanes:s,Ne(br,vt),vt|=g}else p!==null?(g=p.baseLanes|s,t.memoizedState=null):g=s,Ne(br,vt),vt|=g;return at(e,t,i,s),t.child}function uh(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Zs(e,t,s,g,i){var p=ht(s)?Qn:it.current;return p=Mr(t,p),$r(t,i),s=lu(e,t,s,g,p,i),g=uu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sn(e,t,i)):(Ae&&g&&Xl(t),t.flags|=1,at(e,t,s,i),t.child)}function $c(e,t,s,g,i){if(ht(s)){var p=!0;qa(t)}else p=!1;if($r(t,i),t.stateNode===null)Ea(e,t),ih(t,s,g),Js(t,s,g,i),g=!0;else if(e===null){var c=t.stateNode,u=t.memoizedProps;c.props=u;var h=c.context,a=s.contextType;typeof a=="object"&&a!==null?a=Dt(a):(a=ht(s)?Qn:it.current,a=Mr(t,a));var l=s.getDerivedStateFromProps,r=typeof l=="function"||typeof c.getSnapshotBeforeUpdate=="function";r||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==g||h!==a)&&bc(t,c,g,a),_n=!1;var n=t.memoizedState;c.state=n,Ja(t,g,c,i),h=t.memoizedState,u!==g||n!==h||ft.current||_n?(typeof l=="function"&&(Xs(t,s,l,g),h=t.memoizedState),(u=_n||xc(t,s,u,g,n,h,a))?(r||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=g,t.memoizedState=h),c.props=g,c.state=h,c.context=a,g=u):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),g=!1)}else{c=t.stateNode,Rf(e,t),u=t.memoizedProps,a=t.type===t.elementType?u:Ot(t.type,u),c.props=a,r=t.pendingProps,n=c.context,h=s.contextType,typeof h=="object"&&h!==null?h=Dt(h):(h=ht(s)?Qn:it.current,h=Mr(t,h));var o=s.getDerivedStateFromProps;(l=typeof o=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==r||n!==h)&&bc(t,c,g,h),_n=!1,n=t.memoizedState,c.state=n,Ja(t,g,c,i);var d=t.memoizedState;u!==r||n!==d||ft.current||_n?(typeof o=="function"&&(Xs(t,s,o,g),d=t.memoizedState),(a=_n||xc(t,s,a,g,n,d,h)||!1)?(l||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(g,d,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(g,d,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&n===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&n===e.memoizedState||(t.flags|=1024),t.memoizedProps=g,t.memoizedState=d),c.props=g,c.state=d,c.context=h,g=a):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&n===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&n===e.memoizedState||(t.flags|=1024),g=!1)}return el(e,t,s,g,p,i)}function el(e,t,s,g,i,p){uh(e,t);var c=(t.flags&128)!==0;if(!g&&!c)return i&&hc(t,s,!1),sn(e,t,p);g=t.stateNode,L_.current=t;var u=c&&typeof s.getDerivedStateFromError!="function"?null:g.render();return t.flags|=1,e!==null&&c?(t.child=Ar(t,e.child,null,p),t.child=Ar(t,null,u,p)):at(e,t,u,p),t.memoizedState=g.state,i&&hc(t,s,!0),t.child}function ch(e){var t=e.stateNode;t.pendingContext?fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fc(e,t.context,!1),iu(e,t.containerInfo)}function Nc(e,t,s,g,i){return Pr(),Ql(i),t.flags|=256,at(e,t,s,g),t.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function dh(e,t,s){var g=t.pendingProps,i=Oe.current,p=!1,c=(t.flags&128)!==0,u;if((u=c)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ne(Oe,i&1),e===null)return Ys(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=g.children,e=g.fallback,p?(g=t.mode,p=t.child,c={mode:"hidden",children:c},!(g&1)&&p!==null?(p.childLanes=0,p.pendingProps=c):p=So(c,g,0,null),e=Xn(e,g,s,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=nl(s),t.memoizedState=tl,e):fu(t,c));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return F_(e,t,c,g,u,i,s);if(p){p=g.fallback,c=t.mode,i=e.child,u=i.sibling;var h={mode:"hidden",children:g.children};return!(c&1)&&t.child!==i?(g=t.child,g.childLanes=0,g.pendingProps=h,t.deletions=null):(g=jn(i,h),g.subtreeFlags=i.subtreeFlags&14680064),u!==null?p=jn(u,p):(p=Xn(p,c,s,null),p.flags|=2),p.return=t,g.return=t,g.sibling=p,t.child=g,g=p,p=t.child,c=e.child.memoizedState,c=c===null?nl(s):{baseLanes:c.baseLanes|s,cachePool:null,transitions:c.transitions},p.memoizedState=c,p.childLanes=e.childLanes&~s,t.memoizedState=tl,g}return p=e.child,e=p.sibling,g=jn(p,{mode:"visible",children:g.children}),!(t.mode&1)&&(g.lanes=s),g.return=t,g.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=g,t.memoizedState=null,g}function fu(e,t){return t=So({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fa(e,t,s,g){return g!==null&&Ql(g),Ar(t,e.child,null,s),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F_(e,t,s,g,i,p,c){if(s)return t.flags&256?(t.flags&=-257,g=us(Error(oe(422))),fa(e,t,c,g)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=g.fallback,i=t.mode,g=So({mode:"visible",children:g.children},i,0,null),p=Xn(p,i,c,null),p.flags|=2,g.return=t,p.return=t,g.sibling=p,t.child=g,t.mode&1&&Ar(t,e.child,null,c),t.child.memoizedState=nl(c),t.memoizedState=tl,p);if(!(t.mode&1))return fa(e,t,c,null);if(i.data==="$!"){if(g=i.nextSibling&&i.nextSibling.dataset,g)var u=g.dgst;return g=u,p=Error(oe(419)),g=us(p,g,void 0),fa(e,t,c,g)}if(u=(c&e.childLanes)!==0,dt||u){if(g=Xe,g!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(g.suspendedLanes|c)?0:i,i!==0&&i!==p.retryLane&&(p.retryLane=i,on(e,i),Ft(g,e,i,-1))}return vu(),g=us(Error(oe(421))),fa(e,t,c,g)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Q_.bind(null,e),i._reactRetry=t,null):(e=p.treeContext,yt=Cn(i.nextSibling),kt=t,Ae=!0,Rt=null,e!==null&&(Et[$t++]=en,Et[$t++]=tn,Et[$t++]=Zn,en=e.id,tn=e.overflow,Zn=t),t=fu(t,g.children),t.flags|=4096,t)}function jc(e,t,s){e.lanes|=t;var g=e.alternate;g!==null&&(g.lanes|=t),Ks(e.return,t,s)}function cs(e,t,s,g,i){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:g,tail:s,tailMode:i}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=g,p.tail=s,p.tailMode=i)}function fh(e,t,s){var g=t.pendingProps,i=g.revealOrder,p=g.tail;if(at(e,t,g.children,s),g=Oe.current,g&2)g=g&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jc(e,s,t);else if(e.tag===19)jc(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}g&=1}if(Ne(Oe,g),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Qa(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),cs(t,!1,i,s,p);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qa(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}cs(t,!0,s,null,p);break;case"together":cs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,s=jn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=jn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function z_(e,t,s){switch(t.tag){case 3:ch(t),Pr();break;case 5:Lf(t);break;case 1:ht(t.type)&&qa(t);break;case 4:iu(t,t.stateNode.containerInfo);break;case 10:var g=t.type._context,i=t.memoizedProps.value;Ne(Ka,g._currentValue),g._currentValue=i;break;case 13:if(g=t.memoizedState,g!==null)return g.dehydrated!==null?(Ne(Oe,Oe.current&1),t.flags|=128,null):s&t.child.childLanes?dh(e,t,s):(Ne(Oe,Oe.current&1),e=sn(e,t,s),e!==null?e.sibling:null);Ne(Oe,Oe.current&1);break;case 19:if(g=(s&t.childLanes)!==0,e.flags&128){if(g)return fh(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Oe,Oe.current),g)break;return null;case 22:case 23:return t.lanes=0,lh(e,t,s)}return sn(e,t,s)}var hh,rl,ph,gh;hh=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};rl=function(){};ph=function(e,t,s,g){var i=e.memoizedProps;if(i!==g){e=t.stateNode,qn(Xt.current);var p=null;switch(s){case"input":i=Ts(e,i),g=Ts(e,g),p=[];break;case"select":i=Re({},i,{value:void 0}),g=Re({},g,{value:void 0}),p=[];break;case"textarea":i=$s(e,i),g=$s(e,g),p=[];break;default:typeof i.onClick!="function"&&typeof g.onClick=="function"&&(e.onclick=Wa)}js(s,g);var c;s=null;for(a in i)if(!g.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var u=i[a];for(c in u)u.hasOwnProperty(c)&&(s||(s={}),s[c]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ki.hasOwnProperty(a)?p||(p=[]):(p=p||[]).push(a,null));for(a in g){var h=g[a];if(u=i!=null?i[a]:void 0,g.hasOwnProperty(a)&&h!==u&&(h!=null||u!=null))if(a==="style")if(u){for(c in u)!u.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(s||(s={}),s[c]="");for(c in h)h.hasOwnProperty(c)&&u[c]!==h[c]&&(s||(s={}),s[c]=h[c])}else s||(p||(p=[]),p.push(a,s)),s=h;else a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(p=p||[]).push(a,h)):a==="children"?typeof h!="string"&&typeof h!="number"||(p=p||[]).push(a,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(ki.hasOwnProperty(a)?(h!=null&&a==="onScroll"&&De("scroll",e),p||u===h||(p=[])):(p=p||[]).push(a,h))}s&&(p=p||[]).push("style",s);var a=p;(t.updateQueue=a)&&(t.flags|=4)}};gh=function(e,t,s,g){s!==g&&(t.flags|=4)};function ei(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var g=null;s!==null;)s.alternate!==null&&(g=s),s=s.sibling;g===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:g.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,g=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,g|=i.subtreeFlags&14680064,g|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,g|=i.subtreeFlags,g|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=g,e.childLanes=s,t}function H_(e,t,s){var g=t.pendingProps;switch(Jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return ht(t.type)&&Va(),tt(t),null;case 3:return g=t.stateNode,Or(),Me(ft),Me(it),ou(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rt!==null&&(dl(Rt),Rt=null))),rl(e,t),tt(t),null;case 5:au(t);var i=qn(Mi.current);if(s=t.type,e!==null&&t.stateNode!=null)ph(e,t,s,g,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!g){if(t.stateNode===null)throw Error(oe(166));return tt(t),null}if(e=qn(Xt.current),ca(t)){g=t.stateNode,s=t.type;var p=t.memoizedProps;switch(g[qt]=t,g[ji]=p,e=(t.mode&1)!==0,s){case"dialog":De("cancel",g),De("close",g);break;case"iframe":case"object":case"embed":De("load",g);break;case"video":case"audio":for(i=0;i<ci.length;i++)De(ci[i],g);break;case"source":De("error",g);break;case"img":case"image":case"link":De("error",g),De("load",g);break;case"details":De("toggle",g);break;case"input":Fu(g,p),De("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!p.multiple},De("invalid",g);break;case"textarea":Hu(g,p),De("invalid",g)}js(s,p),i=null;for(var c in p)if(p.hasOwnProperty(c)){var u=p[c];c==="children"?typeof u=="string"?g.textContent!==u&&(p.suppressHydrationWarning!==!0&&ua(g.textContent,u,e),i=["children",u]):typeof u=="number"&&g.textContent!==""+u&&(p.suppressHydrationWarning!==!0&&ua(g.textContent,u,e),i=["children",""+u]):ki.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&De("scroll",g)}switch(s){case"input":ta(g),zu(g,p,!0);break;case"textarea":ta(g),Bu(g);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(g.onclick=Wa)}g=i,t.updateQueue=g,g!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bd(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof g.is=="string"?e=c.createElement(s,{is:g.is}):(e=c.createElement(s),s==="select"&&(c=e,g.multiple?c.multiple=!0:g.size&&(c.size=g.size))):e=c.createElementNS(e,s),e[qt]=t,e[ji]=g,hh(e,t,!1,!1),t.stateNode=e;e:{switch(c=Ds(s,g),s){case"dialog":De("cancel",e),De("close",e),i=g;break;case"iframe":case"object":case"embed":De("load",e),i=g;break;case"video":case"audio":for(i=0;i<ci.length;i++)De(ci[i],e);i=g;break;case"source":De("error",e),i=g;break;case"img":case"image":case"link":De("error",e),De("load",e),i=g;break;case"details":De("toggle",e),i=g;break;case"input":Fu(e,g),i=Ts(e,g),De("invalid",e);break;case"option":i=g;break;case"select":e._wrapperState={wasMultiple:!!g.multiple},i=Re({},g,{value:void 0}),De("invalid",e);break;case"textarea":Hu(e,g),i=$s(e,g),De("invalid",e);break;default:i=g}js(s,i),u=i;for(p in u)if(u.hasOwnProperty(p)){var h=u[p];p==="style"?Vd(e,h):p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Ud(e,h)):p==="children"?typeof h=="string"?(s!=="textarea"||h!=="")&&xi(e,h):typeof h=="number"&&xi(e,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ki.hasOwnProperty(p)?h!=null&&p==="onScroll"&&De("scroll",e):h!=null&&Il(e,p,h,c))}switch(s){case"input":ta(e),zu(e,g,!1);break;case"textarea":ta(e),Bu(e);break;case"option":g.value!=null&&e.setAttribute("value",""+Mn(g.value));break;case"select":e.multiple=!!g.multiple,p=g.value,p!=null?Sr(e,!!g.multiple,p,!1):g.defaultValue!=null&&Sr(e,!!g.multiple,g.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wa)}switch(s){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)gh(e,t,e.memoizedProps,g);else{if(typeof g!="string"&&t.stateNode===null)throw Error(oe(166));if(s=qn(Mi.current),qn(Xt.current),ca(t)){if(g=t.stateNode,s=t.memoizedProps,g[qt]=t,(p=g.nodeValue!==s)&&(e=kt,e!==null))switch(e.tag){case 3:ua(g.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ua(g.nodeValue,s,(e.mode&1)!==0)}p&&(t.flags|=4)}else g=(s.nodeType===9?s:s.ownerDocument).createTextNode(g),g[qt]=t,t.stateNode=g}return tt(t),null;case 13:if(Me(Oe),g=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&yt!==null&&t.mode&1&&!(t.flags&128))Pf(),Pr(),t.flags|=98560,p=!1;else if(p=ca(t),g!==null&&g.dehydrated!==null){if(e===null){if(!p)throw Error(oe(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(oe(317));p[qt]=t}else Pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),p=!1}else Rt!==null&&(dl(Rt),Rt=null),p=!0;if(!p)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(g=g!==null,g!==(e!==null&&e.memoizedState!==null)&&g&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Ye===0&&(Ye=3):vu())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Or(),rl(e,t),e===null&&$i(t.stateNode.containerInfo),tt(t),null;case 10:return tu(t.type._context),tt(t),null;case 17:return ht(t.type)&&Va(),tt(t),null;case 19:if(Me(Oe),p=t.memoizedState,p===null)return tt(t),null;if(g=(t.flags&128)!==0,c=p.rendering,c===null)if(g)ei(p,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Qa(e),c!==null){for(t.flags|=128,ei(p,!1),g=c.updateQueue,g!==null&&(t.updateQueue=g,t.flags|=4),t.subtreeFlags=0,g=s,s=t.child;s!==null;)p=s,e=g,p.flags&=14680066,c=p.alternate,c===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,p.type=c.type,e=c.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ne(Oe,Oe.current&1|2),t.child}e=e.sibling}p.tail!==null&&ze()>Rr&&(t.flags|=128,g=!0,ei(p,!1),t.lanes=4194304)}else{if(!g)if(e=Qa(c),e!==null){if(t.flags|=128,g=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ei(p,!0),p.tail===null&&p.tailMode==="hidden"&&!c.alternate&&!Ae)return tt(t),null}else 2*ze()-p.renderingStartTime>Rr&&s!==1073741824&&(t.flags|=128,g=!0,ei(p,!1),t.lanes=4194304);p.isBackwards?(c.sibling=t.child,t.child=c):(s=p.last,s!==null?s.sibling=c:t.child=c,p.last=c)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=ze(),t.sibling=null,s=Oe.current,Ne(Oe,g?s&1|2:s&1),t):(tt(t),null);case 22:case 23:return mu(),g=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==g&&(t.flags|=8192),g&&t.mode&1?vt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function B_(e,t){switch(Jl(t),t.tag){case 1:return ht(t.type)&&Va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),Me(ft),Me(it),ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return au(t),null;case 13:if(Me(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Oe),null;case 4:return Or(),null;case 10:return tu(t.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var ha=!1,nt=!1,U_=typeof WeakSet=="function"?WeakSet:Set,he=null;function xr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(g){Le(e,t,g)}else s.current=null}function il(e,t,s){try{s()}catch(g){Le(e,t,g)}}var Dc=!1;function W_(e,t){if(Hs=Ha,e=kf(),Kl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var g=s.getSelection&&s.getSelection();if(g&&g.rangeCount!==0){s=g.anchorNode;var i=g.anchorOffset,p=g.focusNode;g=g.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var c=0,u=-1,h=-1,a=0,l=0,r=e,n=null;t:for(;;){for(var o;r!==s||i!==0&&r.nodeType!==3||(u=c+i),r!==p||g!==0&&r.nodeType!==3||(h=c+g),r.nodeType===3&&(c+=r.nodeValue.length),(o=r.firstChild)!==null;)n=r,r=o;for(;;){if(r===e)break t;if(n===s&&++a===i&&(u=c),n===p&&++l===g&&(h=c),(o=r.nextSibling)!==null)break;r=n,n=r.parentNode}r=o}s=u===-1||h===-1?null:{start:u,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;for(Bs={focusedElem:e,selectionRange:s},Ha=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var d=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var f=d.memoizedProps,_=d.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?f:Ot(t.type,f),_);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(k){Le(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return d=Dc,Dc=!1,d}function mi(e,t,s){var g=t.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var i=g=g.next;do{if((i.tag&e)===e){var p=i.destroy;i.destroy=void 0,p!==void 0&&il(t,s,p)}i=i.next}while(i!==g)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var g=s.create;s.destroy=g()}s=s.next}while(s!==t)}}function al(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function _h(e){var t=e.alternate;t!==null&&(e.alternate=null,_h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[ji],delete t[Vs],delete t[C_],delete t[E_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mh(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ol(e,t,s){var g=e.tag;if(g===5||g===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Wa));else if(g!==4&&(e=e.child,e!==null))for(ol(e,t,s),e=e.sibling;e!==null;)ol(e,t,s),e=e.sibling}function sl(e,t,s){var g=e.tag;if(g===5||g===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(g!==4&&(e=e.child,e!==null))for(sl(e,t,s),e=e.sibling;e!==null;)sl(e,t,s),e=e.sibling}var Je=null,It=!1;function fn(e,t,s){for(s=s.child;s!==null;)vh(e,t,s),s=s.sibling}function vh(e,t,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(po,s)}catch{}switch(s.tag){case 5:nt||xr(s,t);case 6:var g=Je,i=It;Je=null,fn(e,t,s),Je=g,It=i,Je!==null&&(It?(e=Je,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Je.removeChild(s.stateNode));break;case 18:Je!==null&&(It?(e=Je,s=s.stateNode,e.nodeType===8?rs(e.parentNode,s):e.nodeType===1&&rs(e,s),Ti(e)):rs(Je,s.stateNode));break;case 4:g=Je,i=It,Je=s.stateNode.containerInfo,It=!0,fn(e,t,s),Je=g,It=i;break;case 0:case 11:case 14:case 15:if(!nt&&(g=s.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){i=g=g.next;do{var p=i,c=p.destroy;p=p.tag,c!==void 0&&(p&2||p&4)&&il(s,t,c),i=i.next}while(i!==g)}fn(e,t,s);break;case 1:if(!nt&&(xr(s,t),g=s.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(u){Le(s,t,u)}fn(e,t,s);break;case 21:fn(e,t,s);break;case 22:s.mode&1?(nt=(g=nt)||s.memoizedState!==null,fn(e,t,s),nt=g):fn(e,t,s);break;default:fn(e,t,s)}}function Pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new U_),t.forEach(function(g){var i=Z_.bind(null,e,g);s.has(g)||(s.add(g),g.then(i,i))})}}function Pt(e,t){var s=t.deletions;if(s!==null)for(var g=0;g<s.length;g++){var i=s[g];try{var p=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 5:Je=u.stateNode,It=!1;break e;case 3:Je=u.stateNode.containerInfo,It=!0;break e;case 4:Je=u.stateNode.containerInfo,It=!0;break e}u=u.return}if(Je===null)throw Error(oe(160));vh(p,c,i),Je=null,It=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(a){Le(i,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yh(t,e),t=t.sibling}function yh(e,t){var s=e.alternate,g=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ut(e),g&4){try{mi(3,e,e.return),bo(3,e)}catch(f){Le(e,e.return,f)}try{mi(5,e,e.return)}catch(f){Le(e,e.return,f)}}break;case 1:Pt(t,e),Ut(e),g&512&&s!==null&&xr(s,s.return);break;case 5:if(Pt(t,e),Ut(e),g&512&&s!==null&&xr(s,s.return),e.flags&32){var i=e.stateNode;try{xi(i,"")}catch(f){Le(e,e.return,f)}}if(g&4&&(i=e.stateNode,i!=null)){var p=e.memoizedProps,c=s!==null?s.memoizedProps:p,u=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{u==="input"&&p.type==="radio"&&p.name!=null&&zd(i,p),Ds(u,c);var a=Ds(u,p);for(c=0;c<h.length;c+=2){var l=h[c],r=h[c+1];l==="style"?Vd(i,r):l==="dangerouslySetInnerHTML"?Ud(i,r):l==="children"?xi(i,r):Il(i,l,r,a)}switch(u){case"input":Cs(i,p);break;case"textarea":Hd(i,p);break;case"select":var n=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!p.multiple;var o=p.value;o!=null?Sr(i,!!p.multiple,o,!1):n!==!!p.multiple&&(p.defaultValue!=null?Sr(i,!!p.multiple,p.defaultValue,!0):Sr(i,!!p.multiple,p.multiple?[]:"",!1))}i[ji]=p}catch(f){Le(e,e.return,f)}}break;case 6:if(Pt(t,e),Ut(e),g&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,p=e.memoizedProps;try{i.nodeValue=p}catch(f){Le(e,e.return,f)}}break;case 3:if(Pt(t,e),Ut(e),g&4&&s!==null&&s.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(f){Le(e,e.return,f)}break;case 4:Pt(t,e),Ut(e);break;case 13:Pt(t,e),Ut(e),i=e.child,i.flags&8192&&(p=i.memoizedState!==null,i.stateNode.isHidden=p,!p||i.alternate!==null&&i.alternate.memoizedState!==null||(gu=ze())),g&4&&Pc(e);break;case 22:if(l=s!==null&&s.memoizedState!==null,e.mode&1?(nt=(a=nt)||l,Pt(t,e),nt=a):Pt(t,e),Ut(e),g&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!l&&e.mode&1)for(he=e,l=e.child;l!==null;){for(r=he=l;he!==null;){switch(n=he,o=n.child,n.tag){case 0:case 11:case 14:case 15:mi(4,n,n.return);break;case 1:xr(n,n.return);var d=n.stateNode;if(typeof d.componentWillUnmount=="function"){g=n,s=n.return;try{t=g,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(f){Le(g,s,f)}}break;case 5:xr(n,n.return);break;case 22:if(n.memoizedState!==null){Oc(r);continue}}o!==null?(o.return=n,he=o):Oc(r)}l=l.sibling}e:for(l=null,r=e;;){if(r.tag===5){if(l===null){l=r;try{i=r.stateNode,a?(p=i.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(u=r.stateNode,h=r.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=Wd("display",c))}catch(f){Le(e,e.return,f)}}}else if(r.tag===6){if(l===null)try{r.stateNode.nodeValue=a?"":r.memoizedProps}catch(f){Le(e,e.return,f)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}}break;case 19:Pt(t,e),Ut(e),g&4&&Pc(e);break;case 21:break;default:Pt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(mh(s)){var g=s;break e}s=s.return}throw Error(oe(160))}switch(g.tag){case 5:var i=g.stateNode;g.flags&32&&(xi(i,""),g.flags&=-33);var p=Mc(e);sl(e,p,i);break;case 3:case 4:var c=g.stateNode.containerInfo,u=Mc(e);ol(e,u,c);break;default:throw Error(oe(161))}}catch(h){Le(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V_(e,t,s){he=e,kh(e)}function kh(e,t,s){for(var g=(e.mode&1)!==0;he!==null;){var i=he,p=i.child;if(i.tag===22&&g){var c=i.memoizedState!==null||ha;if(!c){var u=i.alternate,h=u!==null&&u.memoizedState!==null||nt;u=ha;var a=nt;if(ha=c,(nt=h)&&!a)for(he=i;he!==null;)c=he,h=c.child,c.tag===22&&c.memoizedState!==null?Ic(i):h!==null?(h.return=c,he=h):Ic(i);for(;p!==null;)he=p,kh(p),p=p.sibling;he=i,ha=u,nt=a}Ac(e)}else i.subtreeFlags&8772&&p!==null?(p.return=i,he=p):Ac(e)}}function Ac(e){for(;he!==null;){var t=he;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||bo(5,t);break;case 1:var g=t.stateNode;if(t.flags&4&&!nt)if(s===null)g.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Ot(t.type,s.memoizedProps);g.componentDidUpdate(i,s.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&vc(t,p,g);break;case 3:var c=t.updateQueue;if(c!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}vc(t,c,s)}break;case 5:var u=t.stateNode;if(s===null&&t.flags&4){s=u;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&s.focus();break;case"img":h.src&&(s.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var l=a.memoizedState;if(l!==null){var r=l.dehydrated;r!==null&&Ti(r)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}nt||t.flags&512&&al(t)}catch(n){Le(t,t.return,n)}}if(t===e){he=null;break}if(s=t.sibling,s!==null){s.return=t.return,he=s;break}he=t.return}}function Oc(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var s=t.sibling;if(s!==null){s.return=t.return,he=s;break}he=t.return}}function Ic(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{bo(4,t)}catch(h){Le(t,s,h)}break;case 1:var g=t.stateNode;if(typeof g.componentDidMount=="function"){var i=t.return;try{g.componentDidMount()}catch(h){Le(t,i,h)}}var p=t.return;try{al(t)}catch(h){Le(t,p,h)}break;case 5:var c=t.return;try{al(t)}catch(h){Le(t,c,h)}}}catch(h){Le(t,t.return,h)}if(t===e){he=null;break}var u=t.sibling;if(u!==null){u.return=t.return,he=u;break}he=t.return}}var q_=Math.ceil,to=un.ReactCurrentDispatcher,hu=un.ReactCurrentOwner,jt=un.ReactCurrentBatchConfig,be=0,Xe=null,Ue=null,Qe=0,vt=0,br=In(0),Ye=0,Ii=null,tr=0,wo=0,pu=0,vi=null,ct=null,gu=0,Rr=1/0,Qt=null,no=!1,ll=null,$n=null,pa=!1,xn=null,ro=0,yi=0,ul=null,$a=-1,Na=0;function st(){return be&6?ze():$a!==-1?$a:$a=ze()}function Nn(e){return e.mode&1?be&2&&Qe!==0?Qe&-Qe:N_.transition!==null?(Na===0&&(Na=rf()),Na):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:df(e.type)),e):1}function Ft(e,t,s,g){if(50<yi)throw yi=0,ul=null,Error(oe(185));Bi(e,s,g),(!(be&2)||e!==Xe)&&(e===Xe&&(!(be&2)&&(wo|=s),Ye===4&&vn(e,Qe)),pt(e,g),s===1&&be===0&&!(t.mode&1)&&(Rr=ze()+500,yo&&Rn()))}function pt(e,t){var s=e.callbackNode;Ng(e,t);var g=za(e,e===Xe?Qe:0);if(g===0)s!==null&&Vu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=g&-g,e.callbackPriority!==t){if(s!=null&&Vu(s),t===1)e.tag===0?$_(Rc.bind(null,e)):jf(Rc.bind(null,e)),S_(function(){!(be&6)&&Rn()}),s=null;else{switch(af(g)){case 1:s=Hl;break;case 4:s=tf;break;case 16:s=Fa;break;case 536870912:s=nf;break;default:s=Fa}s=$h(s,xh.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function xh(e,t){if($a=-1,Na=0,be&6)throw Error(oe(327));var s=e.callbackNode;if(Nr()&&e.callbackNode!==s)return null;var g=za(e,e===Xe?Qe:0);if(g===0)return null;if(g&30||g&e.expiredLanes||t)t=io(e,g);else{t=g;var i=be;be|=2;var p=wh();(Xe!==e||Qe!==t)&&(Qt=null,Rr=ze()+500,Kn(e,t));do try{K_();break}catch(u){bh(e,u)}while(!0);eu(),to.current=p,be=i,Ue!==null?t=0:(Xe=null,Qe=0,t=Ye)}if(t!==0){if(t===2&&(i=Is(e),i!==0&&(g=i,t=cl(e,i))),t===1)throw s=Ii,Kn(e,0),vn(e,g),pt(e,ze()),s;if(t===6)vn(e,g);else{if(i=e.current.alternate,!(g&30)&&!G_(i)&&(t=io(e,g),t===2&&(p=Is(e),p!==0&&(g=p,t=cl(e,p))),t===1))throw s=Ii,Kn(e,0),vn(e,g),pt(e,ze()),s;switch(e.finishedWork=i,e.finishedLanes=g,t){case 0:case 1:throw Error(oe(345));case 2:Bn(e,ct,Qt);break;case 3:if(vn(e,g),(g&130023424)===g&&(t=gu+500-ze(),10<t)){if(za(e,0)!==0)break;if(i=e.suspendedLanes,(i&g)!==g){st(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ws(Bn.bind(null,e,ct,Qt),t);break}Bn(e,ct,Qt);break;case 4:if(vn(e,g),(g&4194240)===g)break;for(t=e.eventTimes,i=-1;0<g;){var c=31-Lt(g);p=1<<c,c=t[c],c>i&&(i=c),g&=~p}if(g=i,g=ze()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*q_(g/1960))-g,10<g){e.timeoutHandle=Ws(Bn.bind(null,e,ct,Qt),g);break}Bn(e,ct,Qt);break;case 5:Bn(e,ct,Qt);break;default:throw Error(oe(329))}}}return pt(e,ze()),e.callbackNode===s?xh.bind(null,e):null}function cl(e,t){var s=vi;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=io(e,t),e!==2&&(t=ct,ct=s,t!==null&&dl(t)),e}function dl(e){ct===null?ct=e:ct.push.apply(ct,e)}function G_(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var g=0;g<s.length;g++){var i=s[g],p=i.getSnapshot;i=i.value;try{if(!zt(p(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~pu,t&=~wo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Lt(t),g=1<<s;e[s]=-1,t&=~g}}function Rc(e){if(be&6)throw Error(oe(327));Nr();var t=za(e,0);if(!(t&1))return pt(e,ze()),null;var s=io(e,t);if(e.tag!==0&&s===2){var g=Is(e);g!==0&&(t=g,s=cl(e,g))}if(s===1)throw s=Ii,Kn(e,0),vn(e,t),pt(e,ze()),s;if(s===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,ct,Qt),pt(e,ze()),null}function _u(e,t){var s=be;be|=1;try{return e(t)}finally{be=s,be===0&&(Rr=ze()+500,yo&&Rn())}}function nr(e){xn!==null&&xn.tag===0&&!(be&6)&&Nr();var t=be;be|=1;var s=jt.transition,g=Ee;try{if(jt.transition=null,Ee=1,e)return e()}finally{Ee=g,jt.transition=s,be=t,!(be&6)&&Rn()}}function mu(){vt=br.current,Me(br)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,w_(s)),Ue!==null)for(s=Ue.return;s!==null;){var g=s;switch(Jl(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Va();break;case 3:Or(),Me(ft),Me(it),ou();break;case 5:au(g);break;case 4:Or();break;case 13:Me(Oe);break;case 19:Me(Oe);break;case 10:tu(g.type._context);break;case 22:case 23:mu()}s=s.return}if(Xe=e,Ue=e=jn(e.current,null),Qe=vt=t,Ye=0,Ii=null,pu=wo=tr=0,ct=vi=null,Vn!==null){for(t=0;t<Vn.length;t++)if(s=Vn[t],g=s.interleaved,g!==null){s.interleaved=null;var i=g.next,p=s.pending;if(p!==null){var c=p.next;p.next=i,g.next=c}s.pending=g}Vn=null}return e}function bh(e,t){do{var s=Ue;try{if(eu(),Ta.current=eo,Za){for(var g=Ie.memoizedState;g!==null;){var i=g.queue;i!==null&&(i.pending=null),g=g.next}Za=!1}if(er=0,Ke=qe=Ie=null,_i=!1,Pi=0,hu.current=null,s===null||s.return===null){Ye=1,Ii=t,Ue=null;break}e:{var p=e,c=s.return,u=s,h=t;if(t=Qe,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var a=h,l=u,r=l.tag;if(!(l.mode&1)&&(r===0||r===11||r===15)){var n=l.alternate;n?(l.updateQueue=n.updateQueue,l.memoizedState=n.memoizedState,l.lanes=n.lanes):(l.updateQueue=null,l.memoizedState=null)}var o=Sc(c);if(o!==null){o.flags&=-257,Tc(o,c,u,p,t),o.mode&1&&wc(p,a,t),t=o,h=a;var d=t.updateQueue;if(d===null){var f=new Set;f.add(h),t.updateQueue=f}else d.add(h);break e}else{if(!(t&1)){wc(p,a,t),vu();break e}h=Error(oe(426))}}else if(Ae&&u.mode&1){var _=Sc(c);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Tc(_,c,u,p,t),Ql(Ir(h,u));break e}}p=h=Ir(h,u),Ye!==4&&(Ye=2),vi===null?vi=[p]:vi.push(p),p=c;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var m=ah(p,h,t);mc(p,m);break e;case 1:u=h;var v=p.type,y=p.stateNode;if(!(p.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($n===null||!$n.has(y)))){p.flags|=65536,t&=-t,p.lanes|=t;var k=oh(p,u,t);mc(p,k);break e}}p=p.return}while(p!==null)}Th(s)}catch(x){t=x,Ue===s&&s!==null&&(Ue=s=s.return);continue}break}while(!0)}function wh(){var e=to.current;return to.current=eo,e===null?eo:e}function vu(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Xe===null||!(tr&268435455)&&!(wo&268435455)||vn(Xe,Qe)}function io(e,t){var s=be;be|=2;var g=wh();(Xe!==e||Qe!==t)&&(Qt=null,Kn(e,t));do try{Y_();break}catch(i){bh(e,i)}while(!0);if(eu(),be=s,to.current=g,Ue!==null)throw Error(oe(261));return Xe=null,Qe=0,Ye}function Y_(){for(;Ue!==null;)Sh(Ue)}function K_(){for(;Ue!==null&&!kg();)Sh(Ue)}function Sh(e){var t=Eh(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Th(e):Ue=t,hu.current=null}function Th(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=B_(s,t),s!==null){s.flags&=32767,Ue=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ue=null;return}}else if(s=H_(s,t,vt),s!==null){Ue=s;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ye===0&&(Ye=5)}function Bn(e,t,s){var g=Ee,i=jt.transition;try{jt.transition=null,Ee=1,X_(e,t,s,g)}finally{jt.transition=i,Ee=g}return null}function X_(e,t,s,g){do Nr();while(xn!==null);if(be&6)throw Error(oe(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var p=s.lanes|s.childLanes;if(jg(e,p),e===Xe&&(Ue=Xe=null,Qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||pa||(pa=!0,$h(Fa,function(){return Nr(),null})),p=(s.flags&15990)!==0,s.subtreeFlags&15990||p){p=jt.transition,jt.transition=null;var c=Ee;Ee=1;var u=be;be|=4,hu.current=null,W_(e,s),yh(s,e),__(Bs),Ha=!!Hs,Bs=Hs=null,e.current=s,V_(s),xg(),be=u,Ee=c,jt.transition=p}else e.current=s;if(pa&&(pa=!1,xn=e,ro=i),p=e.pendingLanes,p===0&&($n=null),Sg(s.stateNode),pt(e,ze()),t!==null)for(g=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],g(i.value,{componentStack:i.stack,digest:i.digest});if(no)throw no=!1,e=ll,ll=null,e;return ro&1&&e.tag!==0&&Nr(),p=e.pendingLanes,p&1?e===ul?yi++:(yi=0,ul=e):yi=0,Rn(),null}function Nr(){if(xn!==null){var e=af(ro),t=jt.transition,s=Ee;try{if(jt.transition=null,Ee=16>e?16:e,xn===null)var g=!1;else{if(e=xn,xn=null,ro=0,be&6)throw Error(oe(331));var i=be;for(be|=4,he=e.current;he!==null;){var p=he,c=p.child;if(he.flags&16){var u=p.deletions;if(u!==null){for(var h=0;h<u.length;h++){var a=u[h];for(he=a;he!==null;){var l=he;switch(l.tag){case 0:case 11:case 15:mi(8,l,p)}var r=l.child;if(r!==null)r.return=l,he=r;else for(;he!==null;){l=he;var n=l.sibling,o=l.return;if(_h(l),l===a){he=null;break}if(n!==null){n.return=o,he=n;break}he=o}}}var d=p.alternate;if(d!==null){var f=d.child;if(f!==null){d.child=null;do{var _=f.sibling;f.sibling=null,f=_}while(f!==null)}}he=p}}if(p.subtreeFlags&2064&&c!==null)c.return=p,he=c;else e:for(;he!==null;){if(p=he,p.flags&2048)switch(p.tag){case 0:case 11:case 15:mi(9,p,p.return)}var m=p.sibling;if(m!==null){m.return=p.return,he=m;break e}he=p.return}}var v=e.current;for(he=v;he!==null;){c=he;var y=c.child;if(c.subtreeFlags&2064&&y!==null)y.return=c,he=y;else e:for(c=v;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:bo(9,u)}}catch(x){Le(u,u.return,x)}if(u===c){he=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,he=k;break e}he=u.return}}if(be=i,Rn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(po,e)}catch{}g=!0}return g}finally{Ee=s,jt.transition=t}}return!1}function Lc(e,t,s){t=Ir(s,t),t=ah(e,t,1),e=En(e,t,1),t=st(),e!==null&&(Bi(e,1,t),pt(e,t))}function Le(e,t,s){if(e.tag===3)Lc(e,e,s);else for(;t!==null;){if(t.tag===3){Lc(t,e,s);break}else if(t.tag===1){var g=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&($n===null||!$n.has(g))){e=Ir(s,e),e=oh(t,e,1),t=En(t,e,1),e=st(),t!==null&&(Bi(t,1,e),pt(t,e));break}}t=t.return}}function J_(e,t,s){var g=e.pingCache;g!==null&&g.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&s,Xe===e&&(Qe&s)===s&&(Ye===4||Ye===3&&(Qe&130023424)===Qe&&500>ze()-gu?Kn(e,0):pu|=s),pt(e,t)}function Ch(e,t){t===0&&(e.mode&1?(t=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):t=1);var s=st();e=on(e,t),e!==null&&(Bi(e,t,s),pt(e,s))}function Q_(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Ch(e,s)}function Z_(e,t){var s=0;switch(e.tag){case 13:var g=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:g=e.stateNode;break;default:throw Error(oe(314))}g!==null&&g.delete(t),Ch(e,s)}var Eh;Eh=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return dt=!1,z_(e,t,s);dt=!!(e.flags&131072)}else dt=!1,Ae&&t.flags&1048576&&Df(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var g=t.type;Ea(e,t),e=t.pendingProps;var i=Mr(t,it.current);$r(t,s),i=lu(null,t,g,e,i,s);var p=uu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(g)?(p=!0,qa(t)):p=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ru(t),i.updater=xo,t.stateNode=i,i._reactInternals=t,Js(t,g,e,s),t=el(null,t,g,!0,p,s)):(t.tag=0,Ae&&p&&Xl(t),at(null,t,i,s),t=t.child),t;case 16:g=t.elementType;e:{switch(Ea(e,t),e=t.pendingProps,i=g._init,g=i(g._payload),t.type=g,i=t.tag=tm(g),e=Ot(g,e),i){case 0:t=Zs(null,t,g,e,s);break e;case 1:t=$c(null,t,g,e,s);break e;case 11:t=Cc(null,t,g,e,s);break e;case 14:t=Ec(null,t,g,Ot(g.type,e),s);break e}throw Error(oe(306,g,""))}return t;case 0:return g=t.type,i=t.pendingProps,i=t.elementType===g?i:Ot(g,i),Zs(e,t,g,i,s);case 1:return g=t.type,i=t.pendingProps,i=t.elementType===g?i:Ot(g,i),$c(e,t,g,i,s);case 3:e:{if(ch(t),e===null)throw Error(oe(387));g=t.pendingProps,p=t.memoizedState,i=p.element,Rf(e,t),Ja(t,g,null,s);var c=t.memoizedState;if(g=c.element,p.isDehydrated)if(p={element:g,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){i=Ir(Error(oe(423)),t),t=Nc(e,t,g,s,i);break e}else if(g!==i){i=Ir(Error(oe(424)),t),t=Nc(e,t,g,s,i);break e}else for(yt=Cn(t.stateNode.containerInfo.firstChild),kt=t,Ae=!0,Rt=null,s=Of(t,null,g,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Pr(),g===i){t=sn(e,t,s);break e}at(e,t,g,s)}t=t.child}return t;case 5:return Lf(t),e===null&&Ys(t),g=t.type,i=t.pendingProps,p=e!==null?e.memoizedProps:null,c=i.children,Us(g,i)?c=null:p!==null&&Us(g,p)&&(t.flags|=32),uh(e,t),at(e,t,c,s),t.child;case 6:return e===null&&Ys(t),null;case 13:return dh(e,t,s);case 4:return iu(t,t.stateNode.containerInfo),g=t.pendingProps,e===null?t.child=Ar(t,null,g,s):at(e,t,g,s),t.child;case 11:return g=t.type,i=t.pendingProps,i=t.elementType===g?i:Ot(g,i),Cc(e,t,g,i,s);case 7:return at(e,t,t.pendingProps,s),t.child;case 8:return at(e,t,t.pendingProps.children,s),t.child;case 12:return at(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(g=t.type._context,i=t.pendingProps,p=t.memoizedProps,c=i.value,Ne(Ka,g._currentValue),g._currentValue=c,p!==null)if(zt(p.value,c)){if(p.children===i.children&&!ft.current){t=sn(e,t,s);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var u=p.dependencies;if(u!==null){c=p.child;for(var h=u.firstContext;h!==null;){if(h.context===g){if(p.tag===1){h=nn(-1,s&-s),h.tag=2;var a=p.updateQueue;if(a!==null){a=a.shared;var l=a.pending;l===null?h.next=h:(h.next=l.next,l.next=h),a.pending=h}}p.lanes|=s,h=p.alternate,h!==null&&(h.lanes|=s),Ks(p.return,s,t),u.lanes|=s;break}h=h.next}}else if(p.tag===10)c=p.type===t.type?null:p.child;else if(p.tag===18){if(c=p.return,c===null)throw Error(oe(341));c.lanes|=s,u=c.alternate,u!==null&&(u.lanes|=s),Ks(c,s,t),c=p.sibling}else c=p.child;if(c!==null)c.return=p;else for(c=p;c!==null;){if(c===t){c=null;break}if(p=c.sibling,p!==null){p.return=c.return,c=p;break}c=c.return}p=c}at(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,g=t.pendingProps.children,$r(t,s),i=Dt(i),g=g(i),t.flags|=1,at(e,t,g,s),t.child;case 14:return g=t.type,i=Ot(g,t.pendingProps),i=Ot(g.type,i),Ec(e,t,g,i,s);case 15:return sh(e,t,t.type,t.pendingProps,s);case 17:return g=t.type,i=t.pendingProps,i=t.elementType===g?i:Ot(g,i),Ea(e,t),t.tag=1,ht(g)?(e=!0,qa(t)):e=!1,$r(t,s),ih(t,g,i),Js(t,g,i,s),el(null,t,g,!0,e,s);case 19:return fh(e,t,s);case 22:return lh(e,t,s)}throw Error(oe(156,t.tag))};function $h(e,t){return ef(e,t)}function em(e,t,s,g){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,s,g){return new em(e,t,s,g)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tm(e){if(typeof e=="function")return yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ll)return 11;if(e===Fl)return 14}return 2}function jn(e,t){var s=e.alternate;return s===null?(s=Nt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ja(e,t,s,g,i,p){var c=2;if(g=e,typeof e=="function")yu(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case fr:return Xn(s.children,i,p,t);case Rl:c=8,i|=8;break;case xs:return e=Nt(12,s,t,i|2),e.elementType=xs,e.lanes=p,e;case bs:return e=Nt(13,s,t,i),e.elementType=bs,e.lanes=p,e;case ws:return e=Nt(19,s,t,i),e.elementType=ws,e.lanes=p,e;case Rd:return So(s,i,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Od:c=10;break e;case Id:c=9;break e;case Ll:c=11;break e;case Fl:c=14;break e;case gn:c=16,g=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Nt(c,s,t,i),t.elementType=e,t.type=g,t.lanes=p,t}function Xn(e,t,s,g){return e=Nt(7,e,g,t),e.lanes=s,e}function So(e,t,s,g){return e=Nt(22,e,g,t),e.elementType=Rd,e.lanes=s,e.stateNode={isHidden:!1},e}function ds(e,t,s){return e=Nt(6,e,null,t),e.lanes=s,e}function fs(e,t,s){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nm(e,t,s,g,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=g,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ku(e,t,s,g,i,p,c,u,h){return e=new nm(e,t,s,u,h),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Nt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:g,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(p),e}function rm(e,t,s){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:g==null?null:""+g,children:e,containerInfo:t,implementation:s}}function Nh(e){if(!e)return Pn;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var s=e.type;if(ht(s))return Nf(e,s,t)}return t}function jh(e,t,s,g,i,p,c,u,h){return e=ku(s,g,!0,e,i,p,c,u,h),e.context=Nh(null),s=e.current,g=st(),i=Nn(s),p=nn(g,i),p.callback=t??null,En(s,p,i),e.current.lanes=i,Bi(e,i,g),pt(e,g),e}function To(e,t,s,g){var i=t.current,p=st(),c=Nn(i);return s=Nh(s),t.context===null?t.context=s:t.pendingContext=s,t=nn(p,c),t.payload={element:e},g=g===void 0?null:g,g!==null&&(t.callback=g),e=En(i,t,c),e!==null&&(Ft(e,i,c,p),Sa(e,i,c)),c}function ao(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function xu(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function im(){return null}var Dh=typeof reportError=="function"?reportError:function(e){console.error(e)};function bu(e){this._internalRoot=e}Co.prototype.render=bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));To(e,t,null,null)};Co.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){To(null,e,null,null)}),t[an]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var t=lf();e={blockedOn:null,target:e,priority:t};for(var s=0;s<mn.length&&t!==0&&t<mn[s].priority;s++);mn.splice(s,0,e),s===0&&cf(e)}};function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zc(){}function am(e,t,s,g,i){if(i){if(typeof g=="function"){var p=g;g=function(){var a=ao(c);p.call(a)}}var c=jh(t,g,e,0,null,!1,!1,"",zc);return e._reactRootContainer=c,e[an]=c.current,$i(e.nodeType===8?e.parentNode:e),nr(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof g=="function"){var u=g;g=function(){var a=ao(h);u.call(a)}}var h=ku(e,0,!1,null,null,!1,!1,"",zc);return e._reactRootContainer=h,e[an]=h.current,$i(e.nodeType===8?e.parentNode:e),nr(function(){To(t,h,s,g)}),h}function $o(e,t,s,g,i){var p=s._reactRootContainer;if(p){var c=p;if(typeof i=="function"){var u=i;i=function(){var h=ao(c);u.call(h)}}To(t,c,e,i)}else c=am(s,t,e,i,g);return ao(c)}of=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ui(t.pendingLanes);s!==0&&(Bl(t,s|1),pt(t,ze()),!(be&6)&&(Rr=ze()+500,Rn()))}break;case 13:nr(function(){var g=on(e,1);if(g!==null){var i=st();Ft(g,e,1,i)}}),xu(e,1)}};Ul=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var s=st();Ft(t,e,134217728,s)}xu(e,134217728)}};sf=function(e){if(e.tag===13){var t=Nn(e),s=on(e,t);if(s!==null){var g=st();Ft(s,e,t,g)}xu(e,t)}};lf=function(){return Ee};uf=function(e,t){var s=Ee;try{return Ee=e,t()}finally{Ee=s}};Ps=function(e,t,s){switch(t){case"input":if(Cs(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var g=s[t];if(g!==e&&g.form===e.form){var i=vo(g);if(!i)throw Error(oe(90));Fd(g),Cs(g,i)}}}break;case"textarea":Hd(e,s);break;case"select":t=s.value,t!=null&&Sr(e,!!s.multiple,t,!1)}};Yd=_u;Kd=nr;var om={usingClientEntryPoint:!1,Events:[Wi,_r,vo,qd,Gd,_u]},ti={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sm={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qd(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{po=ga.inject(sm),Kt=ga}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om;bt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(t))throw Error(oe(200));return rm(e,t,null,s)};bt.createRoot=function(e,t){if(!wu(e))throw Error(oe(299));var s=!1,g="",i=Dh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(g=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ku(e,1,!1,null,null,s,!1,g,i),e[an]=t.current,$i(e.nodeType===8?e.parentNode:e),new bu(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Qd(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return nr(e)};bt.hydrate=function(e,t,s){if(!Eo(t))throw Error(oe(200));return $o(null,e,t,!0,s)};bt.hydrateRoot=function(e,t,s){if(!wu(e))throw Error(oe(405));var g=s!=null&&s.hydratedSources||null,i=!1,p="",c=Dh;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(c=s.onRecoverableError)),t=jh(t,null,e,1,s??null,i,!1,p,c),e[an]=t.current,$i(e),g)for(e=0;e<g.length;e++)s=g[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Co(t)};bt.render=function(e,t,s){if(!Eo(t))throw Error(oe(200));return $o(null,e,t,!1,s)};bt.unmountComponentAtNode=function(e){if(!Eo(e))throw Error(oe(40));return e._reactRootContainer?(nr(function(){$o(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};bt.unstable_batchedUpdates=_u;bt.unstable_renderSubtreeIntoContainer=function(e,t,s,g){if(!Eo(s))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return $o(e,t,s,!1,g)};bt.version="18.3.1-next-f1338f8080-20240426";function Mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mh)}catch(e){console.error(e)}}Mh(),Dd.exports=bt;var lm=Dd.exports,Hc=lm;ys.createRoot=Hc.createRoot,ys.hydrateRoot=Hc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(e[g]=s[g])}return e},Ri.apply(this,arguments)}var bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bn||(bn={}));const Bc="popstate";function um(e){e===void 0&&(e={});function t(g,i){let{pathname:p,search:c,hash:u}=g.location;return fl("",{pathname:p,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(g,i){return typeof i=="string"?i:oo(i)}return dm(t,s,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ph(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cm(){return Math.random().toString(36).substr(2,8)}function Uc(e,t){return{usr:e.state,key:e.key,idx:t}}function fl(e,t,s,g){return s===void 0&&(s=null),Ri({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ur(t):t,{state:s,key:t&&t.key||g||cm()})}function oo(e){let{pathname:t="/",search:s="",hash:g=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),g&&g!=="#"&&(t+=g.charAt(0)==="#"?g:"#"+g),t}function Ur(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let g=e.indexOf("?");g>=0&&(t.search=e.substr(g),e=e.substr(0,g)),e&&(t.pathname=e)}return t}function dm(e,t,s,g){g===void 0&&(g={});let{window:i=document.defaultView,v5Compat:p=!1}=g,c=i.history,u=bn.Pop,h=null,a=l();a==null&&(a=0,c.replaceState(Ri({},c.state,{idx:a}),""));function l(){return(c.state||{idx:null}).idx}function r(){u=bn.Pop;let _=l(),m=_==null?null:_-a;a=_,h&&h({action:u,location:f.location,delta:m})}function n(_,m){u=bn.Push;let v=fl(f.location,_,m);a=l()+1;let y=Uc(v,a),k=f.createHref(v);try{c.pushState(y,"",k)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(k)}p&&h&&h({action:u,location:f.location,delta:1})}function o(_,m){u=bn.Replace;let v=fl(f.location,_,m);a=l();let y=Uc(v,a),k=f.createHref(v);c.replaceState(y,"",k),p&&h&&h({action:u,location:f.location,delta:0})}function d(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof _=="string"?_:oo(_);return v=v.replace(/ $/,"%20"),He(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let f={get action(){return u},get location(){return e(i,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Bc,r),h=_,()=>{i.removeEventListener(Bc,r),h=null}},createHref(_){return t(i,_)},createURL:d,encodeLocation(_){let m=d(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:n,replace:o,go(_){return c.go(_)}};return f}var Wc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wc||(Wc={}));function fm(e,t,s){return s===void 0&&(s="/"),hm(e,t,s)}function hm(e,t,s,g){let i=typeof t=="string"?Ur(t):t,p=Su(i.pathname||"/",s);if(p==null)return null;let c=Ah(e);pm(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let a=Cm(p);u=wm(c[h],a)}return u}function Ah(e,t,s,g){t===void 0&&(t=[]),s===void 0&&(s=[]),g===void 0&&(g="");let i=(p,c,u)=>{let h={relativePath:u===void 0?p.path||"":u,caseSensitive:p.caseSensitive===!0,childrenIndex:c,route:p};h.relativePath.startsWith("/")&&(He(h.relativePath.startsWith(g),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+g+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(g.length));let a=Dn([g,h.relativePath]),l=s.concat(h);p.children&&p.children.length>0&&(He(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),Ah(p.children,t,l,a)),!(p.path==null&&!p.index)&&t.push({path:a,score:xm(a,p.index),routesMeta:l})};return e.forEach((p,c)=>{var u;if(p.path===""||!((u=p.path)!=null&&u.includes("?")))i(p,c);else for(let h of Oh(p.path))i(p,c,h)}),t}function Oh(e){let t=e.split("/");if(t.length===0)return[];let[s,...g]=t,i=s.endsWith("?"),p=s.replace(/\?$/,"");if(g.length===0)return i?[p,""]:[p];let c=Oh(g.join("/")),u=[];return u.push(...c.map(h=>h===""?p:[p,h].join("/"))),i&&u.push(...c),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function pm(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:bm(t.routesMeta.map(g=>g.childrenIndex),s.routesMeta.map(g=>g.childrenIndex)))}const gm=/^:[\w-]+$/,_m=3,mm=2,vm=1,ym=10,km=-2,Vc=e=>e==="*";function xm(e,t){let s=e.split("/"),g=s.length;return s.some(Vc)&&(g+=km),t&&(g+=mm),s.filter(i=>!Vc(i)).reduce((i,p)=>i+(gm.test(p)?_m:p===""?vm:ym),g)}function bm(e,t){return e.length===t.length&&e.slice(0,-1).every((g,i)=>g===t[i])?e[e.length-1]-t[t.length-1]:0}function wm(e,t,s){let{routesMeta:g}=e,i={},p="/",c=[];for(let u=0;u<g.length;++u){let h=g[u],a=u===g.length-1,l=p==="/"?t:t.slice(p.length)||"/",r=Sm({path:h.relativePath,caseSensitive:h.caseSensitive,end:a},l),n=h.route;if(!r)return null;Object.assign(i,r.params),c.push({params:i,pathname:Dn([p,r.pathname]),pathnameBase:jm(Dn([p,r.pathnameBase])),route:n}),r.pathnameBase!=="/"&&(p=Dn([p,r.pathnameBase]))}return c}function Sm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,g]=Tm(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let p=i[0],c=p.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:g.reduce((a,l,r)=>{let{paramName:n,isOptional:o}=l;if(n==="*"){let f=u[r]||"";c=p.slice(0,p.length-f.length).replace(/(.)\/+$/,"$1")}const d=u[r];return o&&!d?a[n]=void 0:a[n]=(d||"").replace(/%2F/g,"/"),a},{}),pathname:p,pathnameBase:c,pattern:e}}function Tm(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Ph(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let g=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(g.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(g.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),g]}function Cm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ph(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Su(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,g=e.charAt(s);return g&&g!=="/"?null:e.slice(s)||"/"}function Em(e,t){t===void 0&&(t="/");let{pathname:s,search:g="",hash:i=""}=typeof e=="string"?Ur(e):e;return{pathname:s?s.startsWith("/")?s:$m(s,t):t,search:Dm(g),hash:Mm(i)}}function $m(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function hs(e,t,s,g){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(g)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nm(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Tu(e,t){let s=Nm(e);return t?s.map((g,i)=>i===s.length-1?g.pathname:g.pathnameBase):s.map(g=>g.pathnameBase)}function Cu(e,t,s,g){g===void 0&&(g=!1);let i;typeof e=="string"?i=Ur(e):(i=Ri({},e),He(!i.pathname||!i.pathname.includes("?"),hs("?","pathname","search",i)),He(!i.pathname||!i.pathname.includes("#"),hs("#","pathname","hash",i)),He(!i.search||!i.search.includes("#"),hs("#","search","hash",i)));let p=e===""||i.pathname==="",c=p?"/":i.pathname,u;if(c==null)u=s;else{let r=t.length-1;if(!g&&c.startsWith("..")){let n=c.split("/");for(;n[0]==="..";)n.shift(),r-=1;i.pathname=n.join("/")}u=r>=0?t[r]:"/"}let h=Em(i,u),a=c&&c!=="/"&&c.endsWith("/"),l=(p||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(a||l)&&(h.pathname+="/"),h}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),jm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ih=["post","put","patch","delete"];new Set(Ih);const Am=["get",...Ih];new Set(Am);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(e[g]=s[g])}return e},Li.apply(this,arguments)}const Eu=Y.createContext(null),Om=Y.createContext(null),Ln=Y.createContext(null),No=Y.createContext(null),cn=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),Rh=Y.createContext(null);function Im(e,t){let{relative:s}=t===void 0?{}:t;Wr()||He(!1);let{basename:g,navigator:i}=Y.useContext(Ln),{hash:p,pathname:c,search:u}=zh(e,{relative:s}),h=c;return g!=="/"&&(h=c==="/"?g:Dn([g,c])),i.createHref({pathname:h,search:u,hash:p})}function Wr(){return Y.useContext(No)!=null}function qi(){return Wr()||He(!1),Y.useContext(No).location}function Lh(e){Y.useContext(Ln).static||Y.useLayoutEffect(e)}function Vr(){let{isDataRoute:e}=Y.useContext(cn);return e?Km():Rm()}function Rm(){Wr()||He(!1);let e=Y.useContext(Eu),{basename:t,future:s,navigator:g}=Y.useContext(Ln),{matches:i}=Y.useContext(cn),{pathname:p}=qi(),c=JSON.stringify(Tu(i,s.v7_relativeSplatPath)),u=Y.useRef(!1);return Lh(()=>{u.current=!0}),Y.useCallback(function(a,l){if(l===void 0&&(l={}),!u.current)return;if(typeof a=="number"){g.go(a);return}let r=Cu(a,JSON.parse(c),p,l.relative==="path");e==null&&t!=="/"&&(r.pathname=r.pathname==="/"?t:Dn([t,r.pathname])),(l.replace?g.replace:g.push)(r,l.state,l)},[t,g,c,p,e])}function Fh(){let{matches:e}=Y.useContext(cn),t=e[e.length-1];return t?t.params:{}}function zh(e,t){let{relative:s}=t===void 0?{}:t,{future:g}=Y.useContext(Ln),{matches:i}=Y.useContext(cn),{pathname:p}=qi(),c=JSON.stringify(Tu(i,g.v7_relativeSplatPath));return Y.useMemo(()=>Cu(e,JSON.parse(c),p,s==="path"),[e,c,p,s])}function Lm(e,t){return Fm(e,t)}function Fm(e,t,s,g){Wr()||He(!1);let{navigator:i}=Y.useContext(Ln),{matches:p}=Y.useContext(cn),c=p[p.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let a=qi(),l;if(t){var r;let _=typeof t=="string"?Ur(t):t;h==="/"||(r=_.pathname)!=null&&r.startsWith(h)||He(!1),l=_}else l=a;let n=l.pathname||"/",o=n;if(h!=="/"){let _=h.replace(/^\//,"").split("/");o="/"+n.replace(/^\//,"").split("/").slice(_.length).join("/")}let d=fm(e,{pathname:o}),f=Wm(d&&d.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Dn([h,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:Dn([h,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),p,s,g);return t&&f?Y.createElement(No.Provider,{value:{location:Li({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:bn.Pop}},f):f}function zm(){let e=Ym(),t=Pm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),s?Y.createElement("pre",{style:i},s):null,null)}const Hm=Y.createElement(zm,null);class Bm extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?Y.createElement(cn.Provider,{value:this.props.routeContext},Y.createElement(Rh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Um(e){let{routeContext:t,match:s,children:g}=e,i=Y.useContext(Eu);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),Y.createElement(cn.Provider,{value:t},g)}function Wm(e,t,s,g){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),g===void 0&&(g=null),e==null){var p;if(!s)return null;if(s.errors)e=s.matches;else if((p=g)!=null&&p.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let c=e,u=(i=s)==null?void 0:i.errors;if(u!=null){let l=c.findIndex(r=>r.route.id&&(u==null?void 0:u[r.route.id])!==void 0);l>=0||He(!1),c=c.slice(0,Math.min(c.length,l+1))}let h=!1,a=-1;if(s&&g&&g.v7_partialHydration)for(let l=0;l<c.length;l++){let r=c[l];if((r.route.HydrateFallback||r.route.hydrateFallbackElement)&&(a=l),r.route.id){let{loaderData:n,errors:o}=s,d=r.route.loader&&n[r.route.id]===void 0&&(!o||o[r.route.id]===void 0);if(r.route.lazy||d){h=!0,a>=0?c=c.slice(0,a+1):c=[c[0]];break}}}return c.reduceRight((l,r,n)=>{let o,d=!1,f=null,_=null;s&&(o=u&&r.route.id?u[r.route.id]:void 0,f=r.route.errorElement||Hm,h&&(a<0&&n===0?(Xm("route-fallback"),d=!0,_=null):a===n&&(d=!0,_=r.route.hydrateFallbackElement||null)));let m=t.concat(c.slice(0,n+1)),v=()=>{let y;return o?y=f:d?y=_:r.route.Component?y=Y.createElement(r.route.Component,null):r.route.element?y=r.route.element:y=l,Y.createElement(Um,{match:r,routeContext:{outlet:l,matches:m,isDataRoute:s!=null},children:y})};return s&&(r.route.ErrorBoundary||r.route.errorElement||n===0)?Y.createElement(Bm,{location:s.location,revalidation:s.revalidation,component:f,error:o,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var Hh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hh||{}),Bh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bh||{});function Vm(e){let t=Y.useContext(Eu);return t||He(!1),t}function qm(e){let t=Y.useContext(Om);return t||He(!1),t}function Gm(e){let t=Y.useContext(cn);return t||He(!1),t}function Uh(e){let t=Gm(),s=t.matches[t.matches.length-1];return s.route.id||He(!1),s.route.id}function Ym(){var e;let t=Y.useContext(Rh),s=qm(),g=Uh();return t!==void 0?t:(e=s.errors)==null?void 0:e[g]}function Km(){let{router:e}=Vm(Hh.UseNavigateStable),t=Uh(Bh.UseNavigateStable),s=Y.useRef(!1);return Lh(()=>{s.current=!0}),Y.useCallback(function(i,p){p===void 0&&(p={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Li({fromRouteId:t},p)))},[e,t])}const qc={};function Xm(e,t,s){qc[e]||(qc[e]=!0)}function Jm(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hl(e){let{to:t,replace:s,state:g,relative:i}=e;Wr()||He(!1);let{future:p,static:c}=Y.useContext(Ln),{matches:u}=Y.useContext(cn),{pathname:h}=qi(),a=Vr(),l=Cu(t,Tu(u,p.v7_relativeSplatPath),h,i==="path"),r=JSON.stringify(l);return Y.useEffect(()=>a(JSON.parse(r),{replace:s,state:g,relative:i}),[a,r,i,s,g]),null}function pn(e){He(!1)}function Qm(e){let{basename:t="/",children:s=null,location:g,navigationType:i=bn.Pop,navigator:p,static:c=!1,future:u}=e;Wr()&&He(!1);let h=t.replace(/^\/*/,"/"),a=Y.useMemo(()=>({basename:h,navigator:p,static:c,future:Li({v7_relativeSplatPath:!1},u)}),[h,u,p,c]);typeof g=="string"&&(g=Ur(g));let{pathname:l="/",search:r="",hash:n="",state:o=null,key:d="default"}=g,f=Y.useMemo(()=>{let _=Su(l,h);return _==null?null:{location:{pathname:_,search:r,hash:n,state:o,key:d},navigationType:i}},[h,l,r,n,o,d,i]);return f==null?null:Y.createElement(Ln.Provider,{value:a},Y.createElement(No.Provider,{children:s,value:f}))}function Zm(e){let{children:t,location:s}=e;return Lm(pl(t),s)}new Promise(()=>{});function pl(e,t){t===void 0&&(t=[]);let s=[];return Y.Children.forEach(e,(g,i)=>{if(!Y.isValidElement(g))return;let p=[...t,i];if(g.type===Y.Fragment){s.push.apply(s,pl(g.props.children,p));return}g.type!==pn&&He(!1),!g.props.index||!g.props.children||He(!1);let c={id:g.props.id||p.join("-"),caseSensitive:g.props.caseSensitive,element:g.props.element,Component:g.props.Component,index:g.props.index,path:g.props.path,loader:g.props.loader,action:g.props.action,errorElement:g.props.errorElement,ErrorBoundary:g.props.ErrorBoundary,hasErrorBoundary:g.props.ErrorBoundary!=null||g.props.errorElement!=null,shouldRevalidate:g.props.shouldRevalidate,handle:g.props.handle,lazy:g.props.lazy};g.props.children&&(c.children=pl(g.props.children,p)),s.push(c)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(e[g]=s[g])}return e},gl.apply(this,arguments)}function ev(e,t){if(e==null)return{};var s={},g=Object.keys(e),i,p;for(p=0;p<g.length;p++)i=g[p],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function tv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nv(e,t){return e.button===0&&(!t||t==="_self")&&!tv(e)}const rv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iv="6";try{window.__reactRouterVersion=iv}catch{}const av="startTransition",Gc=Jp[av];function ov(e){let{basename:t,children:s,future:g,window:i}=e,p=Y.useRef();p.current==null&&(p.current=um({window:i,v5Compat:!0}));let c=p.current,[u,h]=Y.useState({action:c.action,location:c.location}),{v7_startTransition:a}=g||{},l=Y.useCallback(r=>{a&&Gc?Gc(()=>h(r)):h(r)},[h,a]);return Y.useLayoutEffect(()=>c.listen(l),[c,l]),Y.useEffect(()=>Jm(g),[g]),Y.createElement(Qm,{basename:t,children:s,location:u.location,navigationType:u.action,navigator:c,future:g})}const sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jo=Y.forwardRef(function(t,s){let{onClick:g,relative:i,reloadDocument:p,replace:c,state:u,target:h,to:a,preventScrollReset:l,viewTransition:r}=t,n=ev(t,rv),{basename:o}=Y.useContext(Ln),d,f=!1;if(typeof a=="string"&&lv.test(a)&&(d=a,sv))try{let y=new URL(window.location.href),k=a.startsWith("//")?new URL(y.protocol+a):new URL(a),x=Su(k.pathname,o);k.origin===y.origin&&x!=null?a=x+k.search+k.hash:f=!0}catch{}let _=Im(a,{relative:i}),m=uv(a,{replace:c,state:u,target:h,preventScrollReset:l,relative:i,viewTransition:r});function v(y){g&&g(y),y.defaultPrevented||m(y)}return Y.createElement("a",gl({},n,{href:d||_,onClick:f||p?g:v,ref:s,target:h}))});var Yc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yc||(Yc={}));var Kc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kc||(Kc={}));function uv(e,t){let{target:s,replace:g,state:i,preventScrollReset:p,relative:c,viewTransition:u}=t===void 0?{}:t,h=Vr(),a=qi(),l=zh(e,{relative:c});return Y.useCallback(r=>{if(nv(r,s)){r.preventDefault();let n=g!==void 0?g:oo(a)===oo(l);h(e,{replace:n,state:i,preventScrollReset:p,relative:c,viewTransition:u})}},[a,h,l,g,i,s,e,p,c,u])}let cv={data:""},dv=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||cv},fv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hv=/\/\*[^]*?\*\/|  +/g,Xc=/\n+/g,yn=(e,t)=>{let s="",g="",i="";for(let p in e){let c=e[p];p[0]=="@"?p[1]=="i"?s=p+" "+c+";":g+=p[1]=="f"?yn(c,p):p+"{"+yn(c,p[1]=="k"?"":t)+"}":typeof c=="object"?g+=yn(c,t?t.replace(/([^,])+/g,u=>p.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):p):c!=null&&(p=/^--/.test(p)?p:p.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=yn.p?yn.p(p,c):p+":"+c+";")}return s+(t&&i?t+"{"+i+"}":i)+g},Jt={},Wh=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+Wh(e[s]);return t}return e},pv=(e,t,s,g,i)=>{let p=Wh(e),c=Jt[p]||(Jt[p]=(h=>{let a=0,l=11;for(;a<h.length;)l=101*l+h.charCodeAt(a++)>>>0;return"go"+l})(p));if(!Jt[c]){let h=p!==e?e:(a=>{let l,r,n=[{}];for(;l=fv.exec(a.replace(hv,""));)l[4]?n.shift():l[3]?(r=l[3].replace(Xc," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][l[1]]=l[2].replace(Xc," ").trim();return n[0]})(e);Jt[c]=yn(i?{["@keyframes "+c]:h}:h,s?"":"."+c)}let u=s&&Jt.g?Jt.g:null;return s&&(Jt.g=Jt[c]),((h,a,l,r)=>{r?a.data=a.data.replace(r,h):a.data.indexOf(h)===-1&&(a.data=l?h+a.data:a.data+h)})(Jt[c],t,g,u),c},gv=(e,t,s)=>e.reduce((g,i,p)=>{let c=t[p];if(c&&c.call){let u=c(s),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":yn(u,""):u===!1?"":u}return g+i+(c??"")},"");function Do(e){let t=this||{},s=e.call?e(t.p):e;return pv(s.unshift?s.raw?gv(s,[].slice.call(arguments,1),t.p):s.reduce((g,i)=>Object.assign(g,i&&i.call?i(t.p):i),{}):s,dv(t.target),t.g,t.o,t.k)}let Vh,_l,ml;Do.bind({g:1});let ln=Do.bind({k:1});function _v(e,t,s,g){yn.p=t,Vh=e,_l=s,ml=g}function Fn(e,t){let s=this||{};return function(){let g=arguments;function i(p,c){let u=Object.assign({},p),h=u.className||i.className;s.p=Object.assign({theme:_l&&_l()},u),s.o=/ *go\d+/.test(h),u.className=Do.apply(s,g)+(h?" "+h:"");let a=e;return e[0]&&(a=u.as||e,delete u.as),ml&&a[0]&&ml(u),Vh(a,u)}return i}}var mv=e=>typeof e=="function",so=(e,t)=>mv(e)?e(t):e,vv=(()=>{let e=0;return()=>(++e).toString()})(),qh=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),yv=20,$u="default",Gh=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:g}=t;return Gh(e,{type:e.toasts.find(c=>c.id===g.id)?1:0,toast:g});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let p=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+p}))}}},Da=[],Yh={toasts:[],pausedAt:void 0,settings:{toastLimit:yv}},Gt={},Kh=(e,t=$u)=>{Gt[t]=Gh(Gt[t]||Yh,e),Da.forEach(([s,g])=>{s===t&&g(Gt[t])})},Xh=e=>Object.keys(Gt).forEach(t=>Kh(e,t)),kv=e=>Object.keys(Gt).find(t=>Gt[t].toasts.some(s=>s.id===e)),Mo=(e=$u)=>t=>{Kh(t,e)},xv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bv=(e={},t=$u)=>{let[s,g]=Y.useState(Gt[t]||Yh),i=Y.useRef(Gt[t]);Y.useEffect(()=>(i.current!==Gt[t]&&g(Gt[t]),Da.push([t,g]),()=>{let c=Da.findIndex(([u])=>u===t);c>-1&&Da.splice(c,1)}),[t]);let p=s.toasts.map(c=>{var u,h,a;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((u=e[c.type])==null?void 0:u.removeDelay)||(e==null?void 0:e.removeDelay),duration:c.duration||((h=e[c.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||xv[c.type],style:{...e.style,...(a=e[c.type])==null?void 0:a.style,...c.style}}});return{...s,toasts:p}},wv=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||vv()}),Gi=e=>(t,s)=>{let g=wv(t,e,s);return Mo(g.toasterId||kv(g.id))({type:2,toast:g}),g.id},Ge=(e,t)=>Gi("blank")(e,t);Ge.error=Gi("error");Ge.success=Gi("success");Ge.loading=Gi("loading");Ge.custom=Gi("custom");Ge.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Mo(t)(s):Xh(s)};Ge.dismissAll=e=>Ge.dismiss(void 0,e);Ge.remove=(e,t)=>{let s={type:4,toastId:e};t?Mo(t)(s):Xh(s)};Ge.removeAll=e=>Ge.remove(void 0,e);Ge.promise=(e,t,s)=>{let g=Ge.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let p=t.success?so(t.success,i):void 0;return p?Ge.success(p,{id:g,...s,...s==null?void 0:s.success}):Ge.dismiss(g),i}).catch(i=>{let p=t.error?so(t.error,i):void 0;p?Ge.error(p,{id:g,...s,...s==null?void 0:s.error}):Ge.dismiss(g)}),e};var Sv=1e3,Tv=(e,t="default")=>{let{toasts:s,pausedAt:g}=bv(e,t),i=Y.useRef(new Map).current,p=Y.useCallback((r,n=Sv)=>{if(i.has(r))return;let o=setTimeout(()=>{i.delete(r),c({type:4,toastId:r})},n);i.set(r,o)},[]);Y.useEffect(()=>{if(g)return;let r=Date.now(),n=s.map(o=>{if(o.duration===1/0)return;let d=(o.duration||0)+o.pauseDuration-(r-o.createdAt);if(d<0){o.visible&&Ge.dismiss(o.id);return}return setTimeout(()=>Ge.dismiss(o.id,t),d)});return()=>{n.forEach(o=>o&&clearTimeout(o))}},[s,g,t]);let c=Y.useCallback(Mo(t),[t]),u=Y.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=Y.useCallback((r,n)=>{c({type:1,toast:{id:r,height:n}})},[c]),a=Y.useCallback(()=>{g&&c({type:6,time:Date.now()})},[g,c]),l=Y.useCallback((r,n)=>{let{reverseOrder:o=!1,gutter:d=8,defaultPosition:f}=n||{},_=s.filter(y=>(y.position||f)===(r.position||f)&&y.height),m=_.findIndex(y=>y.id===r.id),v=_.filter((y,k)=>k<m&&y.visible).length;return _.filter(y=>y.visible).slice(...o?[v+1]:[0,v]).reduce((y,k)=>y+(k.height||0)+d,0)},[s]);return Y.useEffect(()=>{s.forEach(r=>{if(r.dismissed)p(r.id,r.removeDelay);else{let n=i.get(r.id);n&&(clearTimeout(n),i.delete(r.id))}})},[s,p]),{toasts:s,handlers:{updateHeight:h,startPause:u,endPause:a,calculateOffset:l}}},Cv=ln`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ev=ln`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$v=ln`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Nv=Fn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ev} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$v} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jv=ln`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Dv=Fn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${jv} 1s linear infinite;
`,Mv=ln`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Pv=ln`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Av=Fn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Mv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Pv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ov=Fn("div")`
  position: absolute;
`,Iv=Fn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Rv=ln`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lv=Fn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Rv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fv=({toast:e})=>{let{icon:t,type:s,iconTheme:g}=e;return t!==void 0?typeof t=="string"?Y.createElement(Lv,null,t):t:s==="blank"?null:Y.createElement(Iv,null,Y.createElement(Dv,{...g}),s!=="loading"&&Y.createElement(Ov,null,s==="error"?Y.createElement(Nv,{...g}):Y.createElement(Av,{...g})))},zv=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Hv=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Bv="0%{opacity:0;} 100%{opacity:1;}",Uv="0%{opacity:1;} 100%{opacity:0;}",Wv=Fn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vv=Fn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qv=(e,t)=>{let s=e.includes("top")?1:-1,[g,i]=qh()?[Bv,Uv]:[zv(s),Hv(s)];return{animation:t?`${ln(g)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ln(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Gv=Y.memo(({toast:e,position:t,style:s,children:g})=>{let i=e.height?qv(e.position||t||"top-center",e.visible):{opacity:0},p=Y.createElement(Fv,{toast:e}),c=Y.createElement(Vv,{...e.ariaProps},so(e.message,e));return Y.createElement(Wv,{className:e.className,style:{...i,...s,...e.style}},typeof g=="function"?g({icon:p,message:c}):Y.createElement(Y.Fragment,null,p,c))});_v(Y.createElement);var Yv=({id:e,className:t,style:s,onHeightUpdate:g,children:i})=>{let p=Y.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;g(e,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,g]);return Y.createElement("div",{ref:p,className:t,style:s},i)},Kv=(e,t)=>{let s=e.includes("top"),g=s?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qh()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...g,...i}},Xv=Do`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_a=16,Jv=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:g,children:i,toasterId:p,containerStyle:c,containerClassName:u})=>{let{toasts:h,handlers:a}=Tv(s,p);return Y.createElement("div",{"data-rht-toaster":p||"",style:{position:"fixed",zIndex:9999,top:_a,left:_a,right:_a,bottom:_a,pointerEvents:"none",...c},className:u,onMouseEnter:a.startPause,onMouseLeave:a.endPause},h.map(l=>{let r=l.position||t,n=a.calculateOffset(l,{reverseOrder:e,gutter:g,defaultPosition:t}),o=Kv(r,n);return Y.createElement(Yv,{id:l.id,key:l.id,onHeightUpdate:a.updateHeight,className:l.visible?Xv:"",style:o},l.type==="custom"?so(l.message,l):i?i(l):Y.createElement(Gv,{toast:l,position:r}))}))},de=Ge;function Jh(e,t){return function(){return e.apply(t,arguments)}}const{toString:Qv}=Object.prototype,{getPrototypeOf:Nu}=Object,{iterator:Po,toStringTag:Qh}=Symbol,Ao=(e=>t=>{const s=Qv.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=e=>(e=e.toLowerCase(),t=>Ao(t)===e),Oo=e=>t=>typeof t===e,{isArray:qr}=Array,Lr=Oo("undefined");function Yi(e){return e!==null&&!Lr(e)&&e.constructor!==null&&!Lr(e.constructor)&&gt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zh=Ht("ArrayBuffer");function Zv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zh(e.buffer),t}const ey=Oo("string"),gt=Oo("function"),ep=Oo("number"),Ki=e=>e!==null&&typeof e=="object",ty=e=>e===!0||e===!1,Ma=e=>{if(Ao(e)!=="object")return!1;const t=Nu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Qh in e)&&!(Po in e)},ny=e=>{if(!Ki(e)||Yi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ry=Ht("Date"),iy=Ht("File"),ay=Ht("Blob"),oy=Ht("FileList"),sy=e=>Ki(e)&&gt(e.pipe),ly=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gt(e.append)&&((t=Ao(e))==="formdata"||t==="object"&&gt(e.toString)&&e.toString()==="[object FormData]"))},uy=Ht("URLSearchParams"),[cy,dy,fy,hy]=["ReadableStream","Request","Response","Headers"].map(Ht),py=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xi(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let g,i;if(typeof e!="object"&&(e=[e]),qr(e))for(g=0,i=e.length;g<i;g++)t.call(null,e[g],g,e);else{if(Yi(e))return;const p=s?Object.getOwnPropertyNames(e):Object.keys(e),c=p.length;let u;for(g=0;g<c;g++)u=p[g],t.call(null,e[u],u,e)}}function tp(e,t){if(Yi(e))return null;t=t.toLowerCase();const s=Object.keys(e);let g=s.length,i;for(;g-- >0;)if(i=s[g],t===i.toLowerCase())return i;return null}const Gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,np=e=>!Lr(e)&&e!==Gn;function vl(){const{caseless:e,skipUndefined:t}=np(this)&&this||{},s={},g=(i,p)=>{const c=e&&tp(s,p)||p;Ma(s[c])&&Ma(i)?s[c]=vl(s[c],i):Ma(i)?s[c]=vl({},i):qr(i)?s[c]=i.slice():(!t||!Lr(i))&&(s[c]=i)};for(let i=0,p=arguments.length;i<p;i++)arguments[i]&&Xi(arguments[i],g);return s}const gy=(e,t,s,{allOwnKeys:g}={})=>(Xi(t,(i,p)=>{s&&gt(i)?e[p]=Jh(i,s):e[p]=i},{allOwnKeys:g}),e),_y=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),my=(e,t,s,g)=>{e.prototype=Object.create(t.prototype,g),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},vy=(e,t,s,g)=>{let i,p,c;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),p=i.length;p-- >0;)c=i[p],(!g||g(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=s!==!1&&Nu(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},yy=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const g=e.indexOf(t,s);return g!==-1&&g===s},ky=e=>{if(!e)return null;if(qr(e))return e;let t=e.length;if(!ep(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},xy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Nu(Uint8Array)),by=(e,t)=>{const g=(e&&e[Po]).call(e);let i;for(;(i=g.next())&&!i.done;){const p=i.value;t.call(e,p[0],p[1])}},wy=(e,t)=>{let s;const g=[];for(;(s=e.exec(t))!==null;)g.push(s);return g},Sy=Ht("HTMLFormElement"),Ty=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,g,i){return g.toUpperCase()+i}),Jc=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Cy=Ht("RegExp"),rp=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),g={};Xi(s,(i,p)=>{let c;(c=t(i,p,e))!==!1&&(g[p]=c||i)}),Object.defineProperties(e,g)},Ey=e=>{rp(e,(t,s)=>{if(gt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const g=e[s];if(gt(g)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},$y=(e,t)=>{const s={},g=i=>{i.forEach(p=>{s[p]=!0})};return qr(e)?g(e):g(String(e).split(t)),s},Ny=()=>{},jy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dy(e){return!!(e&&gt(e.append)&&e[Qh]==="FormData"&&e[Po])}const My=e=>{const t=new Array(10),s=(g,i)=>{if(Ki(g)){if(t.indexOf(g)>=0)return;if(Yi(g))return g;if(!("toJSON"in g)){t[i]=g;const p=qr(g)?[]:{};return Xi(g,(c,u)=>{const h=s(c,i+1);!Lr(h)&&(p[u]=h)}),t[i]=void 0,p}}return g};return s(e,0)},Py=Ht("AsyncFunction"),Ay=e=>e&&(Ki(e)||gt(e))&&gt(e.then)&&gt(e.catch),ip=((e,t)=>e?setImmediate:t?((s,g)=>(Gn.addEventListener("message",({source:i,data:p})=>{i===Gn&&p===s&&g.length&&g.shift()()},!1),i=>{g.push(i),Gn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",gt(Gn.postMessage)),Oy=typeof queueMicrotask<"u"?queueMicrotask.bind(Gn):typeof process<"u"&&process.nextTick||ip,Iy=e=>e!=null&&gt(e[Po]),te={isArray:qr,isArrayBuffer:Zh,isBuffer:Yi,isFormData:ly,isArrayBufferView:Zv,isString:ey,isNumber:ep,isBoolean:ty,isObject:Ki,isPlainObject:Ma,isEmptyObject:ny,isReadableStream:cy,isRequest:dy,isResponse:fy,isHeaders:hy,isUndefined:Lr,isDate:ry,isFile:iy,isBlob:ay,isRegExp:Cy,isFunction:gt,isStream:sy,isURLSearchParams:uy,isTypedArray:xy,isFileList:oy,forEach:Xi,merge:vl,extend:gy,trim:py,stripBOM:_y,inherits:my,toFlatObject:vy,kindOf:Ao,kindOfTest:Ht,endsWith:yy,toArray:ky,forEachEntry:by,matchAll:wy,isHTMLForm:Sy,hasOwnProperty:Jc,hasOwnProp:Jc,reduceDescriptors:rp,freezeMethods:Ey,toObjectSet:$y,toCamelCase:Ty,noop:Ny,toFiniteNumber:jy,findKey:tp,global:Gn,isContextDefined:np,isSpecCompliantForm:Dy,toJSONObject:My,isAsyncFn:Py,isThenable:Ay,setImmediate:ip,asap:Oy,isIterable:Iy};function ke(e,t,s,g,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),g&&(this.request=g),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const ap=ke.prototype,op={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{op[e]={value:e}});Object.defineProperties(ke,op);Object.defineProperty(ap,"isAxiosError",{value:!0});ke.from=(e,t,s,g,i,p)=>{const c=Object.create(ap);te.toFlatObject(e,c,function(l){return l!==Error.prototype},a=>a!=="isAxiosError");const u=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return ke.call(c,u,h,s,g,i),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",p&&Object.assign(c,p),c};const Ry=null;function yl(e){return te.isPlainObject(e)||te.isArray(e)}function sp(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function Qc(e,t,s){return e?e.concat(t).map(function(i,p){return i=sp(i),!s&&p?"["+i+"]":i}).join(s?".":""):t}function Ly(e){return te.isArray(e)&&!e.some(yl)}const Fy=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function Io(e,t,s){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=te.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,_){return!te.isUndefined(_[f])});const g=s.metaTokens,i=s.visitor||l,p=s.dots,c=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function a(d){if(d===null)return"";if(te.isDate(d))return d.toISOString();if(te.isBoolean(d))return d.toString();if(!h&&te.isBlob(d))throw new ke("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(d)||te.isTypedArray(d)?h&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function l(d,f,_){let m=d;if(d&&!_&&typeof d=="object"){if(te.endsWith(f,"{}"))f=g?f:f.slice(0,-2),d=JSON.stringify(d);else if(te.isArray(d)&&Ly(d)||(te.isFileList(d)||te.endsWith(f,"[]"))&&(m=te.toArray(d)))return f=sp(f),m.forEach(function(y,k){!(te.isUndefined(y)||y===null)&&t.append(c===!0?Qc([f],k,p):c===null?f:f+"[]",a(y))}),!1}return yl(d)?!0:(t.append(Qc(_,f,p),a(d)),!1)}const r=[],n=Object.assign(Fy,{defaultVisitor:l,convertValue:a,isVisitable:yl});function o(d,f){if(!te.isUndefined(d)){if(r.indexOf(d)!==-1)throw Error("Circular reference detected in "+f.join("."));r.push(d),te.forEach(d,function(m,v){(!(te.isUndefined(m)||m===null)&&i.call(t,m,te.isString(v)?v.trim():v,f,n))===!0&&o(m,f?f.concat(v):[v])}),r.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return o(e),t}function Zc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(g){return t[g]})}function ju(e,t){this._pairs=[],e&&Io(e,this,t)}const lp=ju.prototype;lp.append=function(t,s){this._pairs.push([t,s])};lp.toString=function(t){const s=t?function(g){return t.call(this,g,Zc)}:Zc;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function zy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function up(e,t,s){if(!t)return e;const g=s&&s.encode||zy;te.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let p;if(i?p=i(t,s):p=te.isURLSearchParams(t)?t.toString():new ju(t,s).toString(g),p){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class ed{constructor(){this.handlers=[]}use(t,s,g){return this.handlers.push({fulfilled:t,rejected:s,synchronous:g?g.synchronous:!1,runWhen:g?g.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(g){g!==null&&t(g)})}}const cp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hy=typeof URLSearchParams<"u"?URLSearchParams:ju,By=typeof FormData<"u"?FormData:null,Uy=typeof Blob<"u"?Blob:null,Wy={isBrowser:!0,classes:{URLSearchParams:Hy,FormData:By,Blob:Uy},protocols:["http","https","file","blob","url","data"]},Du=typeof window<"u"&&typeof document<"u",kl=typeof navigator=="object"&&navigator||void 0,Vy=Du&&(!kl||["ReactNative","NativeScript","NS"].indexOf(kl.product)<0),qy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gy=Du&&window.location.href||"http://localhost",Yy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Du,hasStandardBrowserEnv:Vy,hasStandardBrowserWebWorkerEnv:qy,navigator:kl,origin:Gy},Symbol.toStringTag,{value:"Module"})),rt={...Yy,...Wy};function Ky(e,t){return Io(e,new rt.classes.URLSearchParams,{visitor:function(s,g,i,p){return rt.isNode&&te.isBuffer(s)?(this.append(g,s.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)},...t})}function Xy(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jy(e){const t={},s=Object.keys(e);let g;const i=s.length;let p;for(g=0;g<i;g++)p=s[g],t[p]=e[p];return t}function dp(e){function t(s,g,i,p){let c=s[p++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=p>=s.length;return c=!c&&te.isArray(i)?i.length:c,h?(te.hasOwnProp(i,c)?i[c]=[i[c],g]:i[c]=g,!u):((!i[c]||!te.isObject(i[c]))&&(i[c]=[]),t(s,g,i[c],p)&&te.isArray(i[c])&&(i[c]=Jy(i[c])),!u)}if(te.isFormData(e)&&te.isFunction(e.entries)){const s={};return te.forEachEntry(e,(g,i)=>{t(Xy(g),i,s,0)}),s}return null}function Qy(e,t,s){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(g){if(g.name!=="SyntaxError")throw g}return(s||JSON.stringify)(e)}const Ji={transitional:cp,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const g=s.getContentType()||"",i=g.indexOf("application/json")>-1,p=te.isObject(t);if(p&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return i?JSON.stringify(dp(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(p){if(g.indexOf("application/x-www-form-urlencoded")>-1)return Ky(t,this.formSerializer).toString();if((u=te.isFileList(t))||g.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Io(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return p||i?(s.setContentType("application/json",!1),Qy(t)):t}],transformResponse:[function(t){const s=this.transitional||Ji.transitional,g=s&&s.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(g&&!this.responseType||i)){const c=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?ke.from(u,ke.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{Ji.headers[e]={}});const Zy=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e0=e=>{const t={};let s,g,i;return e&&e.split(`
`).forEach(function(c){i=c.indexOf(":"),s=c.substring(0,i).trim().toLowerCase(),g=c.substring(i+1).trim(),!(!s||t[s]&&Zy[s])&&(s==="set-cookie"?t[s]?t[s].push(g):t[s]=[g]:t[s]=t[s]?t[s]+", "+g:g)}),t},td=Symbol("internals");function ni(e){return e&&String(e).trim().toLowerCase()}function Pa(e){return e===!1||e==null?e:te.isArray(e)?e.map(Pa):String(e)}function t0(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let g;for(;g=s.exec(e);)t[g[1]]=g[2];return t}const n0=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ps(e,t,s,g,i){if(te.isFunction(g))return g.call(this,t,s);if(i&&(t=s),!!te.isString(t)){if(te.isString(g))return t.indexOf(g)!==-1;if(te.isRegExp(g))return g.test(t)}}function r0(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,g)=>s.toUpperCase()+g)}function i0(e,t){const s=te.toCamelCase(" "+t);["get","set","has"].forEach(g=>{Object.defineProperty(e,g+s,{value:function(i,p,c){return this[g].call(this,t,i,p,c)},configurable:!0})})}let _t=class{constructor(t){t&&this.set(t)}set(t,s,g){const i=this;function p(u,h,a){const l=ni(h);if(!l)throw new Error("header name must be a non-empty string");const r=te.findKey(i,l);(!r||i[r]===void 0||a===!0||a===void 0&&i[r]!==!1)&&(i[r||h]=Pa(u))}const c=(u,h)=>te.forEach(u,(a,l)=>p(a,l,h));if(te.isPlainObject(t)||t instanceof this.constructor)c(t,s);else if(te.isString(t)&&(t=t.trim())&&!n0(t))c(e0(t),s);else if(te.isObject(t)&&te.isIterable(t)){let u={},h,a;for(const l of t){if(!te.isArray(l))throw TypeError("Object iterator must return a key-value pair");u[a=l[0]]=(h=u[a])?te.isArray(h)?[...h,l[1]]:[h,l[1]]:l[1]}c(u,s)}else t!=null&&p(s,t,g);return this}get(t,s){if(t=ni(t),t){const g=te.findKey(this,t);if(g){const i=this[g];if(!s)return i;if(s===!0)return t0(i);if(te.isFunction(s))return s.call(this,i,g);if(te.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ni(t),t){const g=te.findKey(this,t);return!!(g&&this[g]!==void 0&&(!s||ps(this,this[g],g,s)))}return!1}delete(t,s){const g=this;let i=!1;function p(c){if(c=ni(c),c){const u=te.findKey(g,c);u&&(!s||ps(g,g[u],u,s))&&(delete g[u],i=!0)}}return te.isArray(t)?t.forEach(p):p(t),i}clear(t){const s=Object.keys(this);let g=s.length,i=!1;for(;g--;){const p=s[g];(!t||ps(this,this[p],p,t,!0))&&(delete this[p],i=!0)}return i}normalize(t){const s=this,g={};return te.forEach(this,(i,p)=>{const c=te.findKey(g,p);if(c){s[c]=Pa(i),delete s[p];return}const u=t?r0(p):String(p).trim();u!==p&&delete s[p],s[u]=Pa(i),g[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return te.forEach(this,(g,i)=>{g!=null&&g!==!1&&(s[i]=t&&te.isArray(g)?g.join(", "):g)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const g=new this(t);return s.forEach(i=>g.set(i)),g}static accessor(t){const g=(this[td]=this[td]={accessors:{}}).accessors,i=this.prototype;function p(c){const u=ni(c);g[u]||(i0(i,c),g[u]=!0)}return te.isArray(t)?t.forEach(p):p(t),this}};_t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(_t.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(g){this[s]=g}}});te.freezeMethods(_t);function gs(e,t){const s=this||Ji,g=t||s,i=_t.from(g.headers);let p=g.data;return te.forEach(e,function(u){p=u.call(s,p,i.normalize(),t?t.status:void 0)}),i.normalize(),p}function fp(e){return!!(e&&e.__CANCEL__)}function Gr(e,t,s){ke.call(this,e??"canceled",ke.ERR_CANCELED,t,s),this.name="CanceledError"}te.inherits(Gr,ke,{__CANCEL__:!0});function hp(e,t,s){const g=s.config.validateStatus;!s.status||!g||g(s.status)?e(s):t(new ke("Request failed with status code "+s.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function a0(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function o0(e,t){e=e||10;const s=new Array(e),g=new Array(e);let i=0,p=0,c;return t=t!==void 0?t:1e3,function(h){const a=Date.now(),l=g[p];c||(c=a),s[i]=h,g[i]=a;let r=p,n=0;for(;r!==i;)n+=s[r++],r=r%e;if(i=(i+1)%e,i===p&&(p=(p+1)%e),a-c<t)return;const o=l&&a-l;return o?Math.round(n*1e3/o):void 0}}function s0(e,t){let s=0,g=1e3/t,i,p;const c=(a,l=Date.now())=>{s=l,i=null,p&&(clearTimeout(p),p=null),e(...a)};return[(...a)=>{const l=Date.now(),r=l-s;r>=g?c(a,l):(i=a,p||(p=setTimeout(()=>{p=null,c(i)},g-r)))},()=>i&&c(i)]}const lo=(e,t,s=3)=>{let g=0;const i=o0(50,250);return s0(p=>{const c=p.loaded,u=p.lengthComputable?p.total:void 0,h=c-g,a=i(h),l=c<=u;g=c;const r={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:a||void 0,estimated:a&&u&&l?(u-c)/a:void 0,event:p,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(r)},s)},nd=(e,t)=>{const s=e!=null;return[g=>t[0]({lengthComputable:s,total:e,loaded:g}),t[1]]},rd=e=>(...t)=>te.asap(()=>e(...t)),l0=rt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,rt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,u0=rt.hasStandardBrowserEnv?{write(e,t,s,g,i,p){const c=[e+"="+encodeURIComponent(t)];te.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),te.isString(g)&&c.push("path="+g),te.isString(i)&&c.push("domain="+i),p===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function c0(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function d0(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pp(e,t,s){let g=!c0(t);return e&&(g||s==!1)?d0(e,t):t}const id=e=>e instanceof _t?{...e}:e;function rr(e,t){t=t||{};const s={};function g(a,l,r,n){return te.isPlainObject(a)&&te.isPlainObject(l)?te.merge.call({caseless:n},a,l):te.isPlainObject(l)?te.merge({},l):te.isArray(l)?l.slice():l}function i(a,l,r,n){if(te.isUndefined(l)){if(!te.isUndefined(a))return g(void 0,a,r,n)}else return g(a,l,r,n)}function p(a,l){if(!te.isUndefined(l))return g(void 0,l)}function c(a,l){if(te.isUndefined(l)){if(!te.isUndefined(a))return g(void 0,a)}else return g(void 0,l)}function u(a,l,r){if(r in t)return g(a,l);if(r in e)return g(void 0,a)}const h={url:p,method:p,data:p,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(a,l,r)=>i(id(a),id(l),r,!0)};return te.forEach(Object.keys({...e,...t}),function(l){const r=h[l]||i,n=r(e[l],t[l],l);te.isUndefined(n)&&r!==u||(s[l]=n)}),s}const gp=e=>{const t=rr({},e);let{data:s,withXSRFToken:g,xsrfHeaderName:i,xsrfCookieName:p,headers:c,auth:u}=t;if(t.headers=c=_t.from(c),t.url=up(pp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),te.isFormData(s)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(te.isFunction(s.getHeaders)){const h=s.getHeaders(),a=["content-type","content-length"];Object.entries(h).forEach(([l,r])=>{a.includes(l.toLowerCase())&&c.set(l,r)})}}if(rt.hasStandardBrowserEnv&&(g&&te.isFunction(g)&&(g=g(t)),g||g!==!1&&l0(t.url))){const h=i&&p&&u0.read(p);h&&c.set(i,h)}return t},f0=typeof XMLHttpRequest<"u",h0=f0&&function(e){return new Promise(function(s,g){const i=gp(e);let p=i.data;const c=_t.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:a}=i,l,r,n,o,d;function f(){o&&o(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function m(){if(!_)return;const y=_t.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),x={data:!u||u==="text"||u==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:y,config:e,request:_};hp(function(b){s(b),f()},function(b){g(b),f()},x),_=null}"onloadend"in _?_.onloadend=m:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(m)},_.onabort=function(){_&&(g(new ke("Request aborted",ke.ECONNABORTED,e,_)),_=null)},_.onerror=function(k){const x=k&&k.message?k.message:"Network Error",w=new ke(x,ke.ERR_NETWORK,e,_);w.event=k||null,g(w),_=null},_.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||cp;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),g(new ke(k,x.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,e,_)),_=null},p===void 0&&c.setContentType(null),"setRequestHeader"in _&&te.forEach(c.toJSON(),function(k,x){_.setRequestHeader(x,k)}),te.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),u&&u!=="json"&&(_.responseType=i.responseType),a&&([n,d]=lo(a,!0),_.addEventListener("progress",n)),h&&_.upload&&([r,o]=lo(h),_.upload.addEventListener("progress",r),_.upload.addEventListener("loadend",o)),(i.cancelToken||i.signal)&&(l=y=>{_&&(g(!y||y.type?new Gr(null,e,_):y),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const v=a0(i.url);if(v&&rt.protocols.indexOf(v)===-1){g(new ke("Unsupported protocol "+v+":",ke.ERR_BAD_REQUEST,e));return}_.send(p||null)})},p0=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let g=new AbortController,i;const p=function(a){if(!i){i=!0,u();const l=a instanceof Error?a:this.reason;g.abort(l instanceof ke?l:new Gr(l instanceof Error?l.message:l))}};let c=t&&setTimeout(()=>{c=null,p(new ke(`timeout ${t} of ms exceeded`,ke.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(a=>{a.unsubscribe?a.unsubscribe(p):a.removeEventListener("abort",p)}),e=null)};e.forEach(a=>a.addEventListener("abort",p));const{signal:h}=g;return h.unsubscribe=()=>te.asap(u),h}},g0=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let g=0,i;for(;g<s;)i=g+t,yield e.slice(g,i),g=i},_0=async function*(e,t){for await(const s of m0(e))yield*g0(s,t)},m0=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:g}=await t.read();if(s)break;yield g}}finally{await t.cancel()}},ad=(e,t,s,g)=>{const i=_0(e,t);let p=0,c,u=h=>{c||(c=!0,g&&g(h))};return new ReadableStream({async pull(h){try{const{done:a,value:l}=await i.next();if(a){u(),h.close();return}let r=l.byteLength;if(s){let n=p+=r;s(n)}h.enqueue(new Uint8Array(l))}catch(a){throw u(a),a}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},od=64*1024,{isFunction:ma}=te,v0=(({Request:e,Response:t})=>({Request:e,Response:t}))(te.global),{ReadableStream:sd,TextEncoder:ld}=te.global,ud=(e,...t)=>{try{return!!e(...t)}catch{return!1}},y0=e=>{e=te.merge.call({skipUndefined:!0},v0,e);const{fetch:t,Request:s,Response:g}=e,i=t?ma(t):typeof fetch=="function",p=ma(s),c=ma(g);if(!i)return!1;const u=i&&ma(sd),h=i&&(typeof ld=="function"?(d=>f=>d.encode(f))(new ld):async d=>new Uint8Array(await new s(d).arrayBuffer())),a=p&&u&&ud(()=>{let d=!1;const f=new s(rt.origin,{body:new sd,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!f}),l=c&&u&&ud(()=>te.isReadableStream(new g("").body)),r={stream:l&&(d=>d.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!r[d]&&(r[d]=(f,_)=>{let m=f&&f[d];if(m)return m.call(f);throw new ke(`Response type '${d}' is not supported`,ke.ERR_NOT_SUPPORT,_)})});const n=async d=>{if(d==null)return 0;if(te.isBlob(d))return d.size;if(te.isSpecCompliantForm(d))return(await new s(rt.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(te.isArrayBufferView(d)||te.isArrayBuffer(d))return d.byteLength;if(te.isURLSearchParams(d)&&(d=d+""),te.isString(d))return(await h(d)).byteLength},o=async(d,f)=>{const _=te.toFiniteNumber(d.getContentLength());return _??n(f)};return async d=>{let{url:f,method:_,data:m,signal:v,cancelToken:y,timeout:k,onDownloadProgress:x,onUploadProgress:w,responseType:b,headers:S,withCredentials:T="same-origin",fetchOptions:N}=gp(d),$=t||fetch;b=b?(b+"").toLowerCase():"text";let E=p0([v,y&&y.toAbortSignal()],k),D=null;const P=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let I;try{if(w&&a&&_!=="get"&&_!=="head"&&(I=await o(S,m))!==0){let G=new s(f,{method:"POST",body:m,duplex:"half"}),L;if(te.isFormData(m)&&(L=G.headers.get("content-type"))&&S.setContentType(L),G.body){const[F,J]=nd(I,lo(rd(w)));m=ad(G.body,od,F,J)}}te.isString(T)||(T=T?"include":"omit");const O=p&&"credentials"in s.prototype,B={...N,signal:E,method:_.toUpperCase(),headers:S.normalize().toJSON(),body:m,duplex:"half",credentials:O?T:void 0};D=p&&new s(f,B);let R=await(p?$(D,N):$(f,B));const H=l&&(b==="stream"||b==="response");if(l&&(x||H&&P)){const G={};["status","statusText","headers"].forEach(z=>{G[z]=R[z]});const L=te.toFiniteNumber(R.headers.get("content-length")),[F,J]=x&&nd(L,lo(rd(x),!0))||[];R=new g(ad(R.body,od,F,()=>{J&&J(),P&&P()}),G)}b=b||"text";let q=await r[te.findKey(r,b)||"text"](R,d);return!H&&P&&P(),await new Promise((G,L)=>{hp(G,L,{data:q,headers:_t.from(R.headers),status:R.status,statusText:R.statusText,config:d,request:D})})}catch(O){throw P&&P(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,d,D),{cause:O.cause||O}):ke.from(O,O&&O.code,d,D)}}},k0=new Map,_p=e=>{let t=e?e.env:{};const{fetch:s,Request:g,Response:i}=t,p=[g,i,s];let c=p.length,u=c,h,a,l=k0;for(;u--;)h=p[u],a=l.get(h),a===void 0&&l.set(h,a=u?new Map:y0(t)),l=a;return a};_p();const xl={http:Ry,xhr:h0,fetch:{get:_p}};te.forEach(xl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cd=e=>`- ${e}`,x0=e=>te.isFunction(e)||e===null||e===!1,mp={getAdapter:(e,t)=>{e=te.isArray(e)?e:[e];const{length:s}=e;let g,i;const p={};for(let c=0;c<s;c++){g=e[c];let u;if(i=g,!x0(g)&&(i=xl[(u=String(g)).toLowerCase()],i===void 0))throw new ke(`Unknown adapter '${u}'`);if(i&&(te.isFunction(i)||(i=i.get(t))))break;p[u||"#"+c]=i}if(!i){const c=Object.entries(p).map(([h,a])=>`adapter ${h} `+(a===!1?"is not supported by the environment":"is not available in the build"));let u=s?c.length>1?`since :
`+c.map(cd).join(`
`):" "+cd(c[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:xl};function _s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gr(null,e)}function dd(e){return _s(e),e.headers=_t.from(e.headers),e.data=gs.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mp.getAdapter(e.adapter||Ji.adapter,e)(e).then(function(g){return _s(e),g.data=gs.call(e,e.transformResponse,g),g.headers=_t.from(g.headers),g},function(g){return fp(g)||(_s(e),g&&g.response&&(g.response.data=gs.call(e,e.transformResponse,g.response),g.response.headers=_t.from(g.response.headers))),Promise.reject(g)})}const vp="1.12.2",Ro={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ro[e]=function(g){return typeof g===e||"a"+(t<1?"n ":" ")+e}});const fd={};Ro.transitional=function(t,s,g){function i(p,c){return"[Axios v"+vp+"] Transitional option '"+p+"'"+c+(g?". "+g:"")}return(p,c,u)=>{if(t===!1)throw new ke(i(c," has been removed"+(s?" in "+s:"")),ke.ERR_DEPRECATED);return s&&!fd[c]&&(fd[c]=!0,console.warn(i(c," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(p,c,u):!0}};Ro.spelling=function(t){return(s,g)=>(console.warn(`${g} is likely a misspelling of ${t}`),!0)};function b0(e,t,s){if(typeof e!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const g=Object.keys(e);let i=g.length;for(;i-- >0;){const p=g[i],c=t[p];if(c){const u=e[p],h=u===void 0||c(u,p,e);if(h!==!0)throw new ke("option "+p+" must be "+h,ke.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ke("Unknown option "+p,ke.ERR_BAD_OPTION)}}const Aa={assertOptions:b0,validators:Ro},Wt=Aa.validators;let Jn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ed,response:new ed}}async request(t,s){try{return await this._request(t,s)}catch(g){if(g instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const p=i.stack?i.stack.replace(/^.+\n/,""):"";try{g.stack?p&&!String(g.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(g.stack+=`
`+p):g.stack=p}catch{}}throw g}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=rr(this.defaults,s);const{transitional:g,paramsSerializer:i,headers:p}=s;g!==void 0&&Aa.assertOptions(g,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),i!=null&&(te.isFunction(i)?s.paramsSerializer={serialize:i}:Aa.assertOptions(i,{encode:Wt.function,serialize:Wt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Aa.assertOptions(s,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=p&&te.merge(p.common,p[s.method]);p&&te.forEach(["delete","get","head","post","put","patch","common"],d=>{delete p[d]}),s.headers=_t.concat(c,p);const u=[];let h=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(h=h&&f.synchronous,u.unshift(f.fulfilled,f.rejected))});const a=[];this.interceptors.response.forEach(function(f){a.push(f.fulfilled,f.rejected)});let l,r=0,n;if(!h){const d=[dd.bind(this),void 0];for(d.unshift(...u),d.push(...a),n=d.length,l=Promise.resolve(s);r<n;)l=l.then(d[r++],d[r++]);return l}n=u.length;let o=s;for(;r<n;){const d=u[r++],f=u[r++];try{o=d(o)}catch(_){f.call(this,_);break}}try{l=dd.call(this,o)}catch(d){return Promise.reject(d)}for(r=0,n=a.length;r<n;)l=l.then(a[r++],a[r++]);return l}getUri(t){t=rr(this.defaults,t);const s=pp(t.baseURL,t.url,t.allowAbsoluteUrls);return up(s,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){Jn.prototype[t]=function(s,g){return this.request(rr(g||{},{method:t,url:s,data:(g||{}).data}))}});te.forEach(["post","put","patch"],function(t){function s(g){return function(p,c,u){return this.request(rr(u||{},{method:t,headers:g?{"Content-Type":"multipart/form-data"}:{},url:p,data:c}))}}Jn.prototype[t]=s(),Jn.prototype[t+"Form"]=s(!0)});let w0=class yp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(p){s=p});const g=this;this.promise.then(i=>{if(!g._listeners)return;let p=g._listeners.length;for(;p-- >0;)g._listeners[p](i);g._listeners=null}),this.promise.then=i=>{let p;const c=new Promise(u=>{g.subscribe(u),p=u}).then(i);return c.cancel=function(){g.unsubscribe(p)},c},t(function(p,c,u){g.reason||(g.reason=new Gr(p,c,u),s(g.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=g=>{t.abort(g)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new yp(function(i){t=i}),cancel:t}}};function S0(e){return function(s){return e.apply(null,s)}}function T0(e){return te.isObject(e)&&e.isAxiosError===!0}const bl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bl).forEach(([e,t])=>{bl[t]=e});function kp(e){const t=new Jn(e),s=Jh(Jn.prototype.request,t);return te.extend(s,Jn.prototype,t,{allOwnKeys:!0}),te.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return kp(rr(e,i))},s}const Fe=kp(Ji);Fe.Axios=Jn;Fe.CanceledError=Gr;Fe.CancelToken=w0;Fe.isCancel=fp;Fe.VERSION=vp;Fe.toFormData=Io;Fe.AxiosError=ke;Fe.Cancel=Fe.CanceledError;Fe.all=function(t){return Promise.all(t)};Fe.spread=S0;Fe.isAxiosError=T0;Fe.mergeConfig=rr;Fe.AxiosHeaders=_t;Fe.formToJSON=e=>dp(te.isHTMLForm(e)?new FormData(e):e);Fe.getAdapter=mp.getAdapter;Fe.HttpStatusCode=bl;Fe.default=Fe;const{Axios:jx,AxiosError:Dx,CanceledError:Mx,isCancel:Px,CancelToken:Ax,VERSION:Ox,all:Ix,Cancel:Rx,isAxiosError:Lx,spread:Fx,toFormData:zx,AxiosHeaders:Hx,HttpStatusCode:Bx,formToJSON:Ux,getAdapter:Wx,mergeConfig:Vx}=Fe,xp="http://107.173.91.179/api",ve=Fe.create({baseURL:xp,headers:{"Content-Type":"application/json"}});ve.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ve.interceptors.response.use(e=>e,async e=>{var s;const t=e.config;if(((s=e.response)==null?void 0:s.status)===401&&!t._retry){t._retry=!0;try{const g=localStorage.getItem("refreshToken");if(!g)throw new Error("No refresh token");const{data:i}=await Fe.post(`${xp}/auth/refresh`,{refreshToken:g});return localStorage.setItem("accessToken",i.data.accessToken),localStorage.setItem("refreshToken",i.data.refreshToken),t.headers.Authorization=`Bearer ${i.data.accessToken}`,ve(t)}catch(g){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(g)}}return Promise.reject(e)});const ri={register:async e=>(await ve.post("/auth/register",e)).data.data,login:async e=>(await ve.post("/auth/login",e)).data.data,getProfile:async()=>(await ve.get("/auth/profile")).data.data.user,updateProfile:async e=>(await ve.put("/auth/profile",e)).data.data.user,logout:async()=>{await ve.post("/auth/logout"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}},bp=Y.createContext(void 0),sr=()=>{const e=Y.useContext(bp);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},C0=({children:e})=>{const[t,s]=Y.useState(null),[g,i]=Y.useState(!0);Y.useEffect(()=>{(async()=>{const r=localStorage.getItem("accessToken"),n=localStorage.getItem("user");if(r&&n)try{const o=await ri.getProfile();s(o),localStorage.setItem("user",JSON.stringify(o))}catch{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s(null)}i(!1)})()},[]);const a={user:t,isAuthenticated:!!t,isLoading:g,login:async l=>{var r,n;try{const{user:o,accessToken:d,refreshToken:f}=await ri.login(l);localStorage.setItem("accessToken",d),localStorage.setItem("refreshToken",f),localStorage.setItem("user",JSON.stringify(o)),s(o),de.success("Logged in successfully!")}catch(o){const d=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||"Login failed";throw de.error(d),o}},register:async l=>{var r,n;try{const{user:o,accessToken:d,refreshToken:f}=await ri.register(l);localStorage.setItem("accessToken",d),localStorage.setItem("refreshToken",f),localStorage.setItem("user",JSON.stringify(o)),s(o),de.success("Account created successfully!")}catch(o){const d=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||"Registration failed";throw de.error(d),o}},logout:async()=>{try{await ri.logout()}catch(l){console.error("Logout error:",l)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s(null),de.success("Logged out successfully")}},updateUser:async l=>{var r,n;try{const o=await ri.updateProfile(l);s(o),localStorage.setItem("user",JSON.stringify(o)),de.success("Profile updated successfully")}catch(o){const d=((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||"Update failed";throw de.error(d),o}}};return C.jsx(bp.Provider,{value:a,children:e})},ms=({children:e})=>{const{isAuthenticated:t,isLoading:s}=sr();return s?C.jsx("div",{className:"flex items-center justify-center min-h-screen",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t?C.jsx(C.Fragment,{children:e}):C.jsx(hl,{to:"/login",replace:!0})},E0=()=>{const[e,t]=Y.useState(""),[s,g]=Y.useState(""),[i,p]=Y.useState(!1),{login:c}=sr(),u=Vr(),h=async a=>{a.preventDefault(),p(!0);try{await c({email:e,password:s}),u("/dashboard")}catch{}finally{p(!1)}};return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:C.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Manager"}),C.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),C.jsxs("form",{onSubmit:h,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),C.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:a=>t(a.target.value),className:"input mt-1",placeholder:"you@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),C.jsx("input",{id:"password",type:"password",required:!0,value:s,onChange:a=>g(a.target.value),className:"input mt-1",placeholder:"••••••••"})]}),C.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary w-full",children:i?"Signing in...":"Sign in"}),C.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",C.jsx(jo,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]})]})]})})},$0=()=>{const[e,t]=Y.useState(""),[s,g]=Y.useState(""),[i,p]=Y.useState(""),[c,u]=Y.useState(""),[h,a]=Y.useState(!1),{register:l}=sr(),r=Vr(),n=async o=>{o.preventDefault(),a(!0);try{await l({email:e,password:s,firstName:i,lastName:c}),r("/dashboard")}catch{}finally{a(!1)}};return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:C.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Manager"}),C.jsx("p",{className:"text-gray-600 mt-2",children:"Create your account"})]}),C.jsxs("form",{onSubmit:n,className:"space-y-6",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),C.jsx("input",{id:"firstName",type:"text",required:!0,value:i,onChange:o=>p(o.target.value),className:"input mt-1",placeholder:"John"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),C.jsx("input",{id:"lastName",type:"text",required:!0,value:c,onChange:o=>u(o.target.value),className:"input mt-1",placeholder:"Doe"})]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),C.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:o=>t(o.target.value),className:"input mt-1",placeholder:"you@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),C.jsx("input",{id:"password",type:"password",required:!0,minLength:8,value:s,onChange:o=>g(o.target.value),className:"input mt-1",placeholder:"••••••••"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 8 characters"})]}),C.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary w-full",children:h?"Creating account...":"Sign up"}),C.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",C.jsx(jo,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})]})]})})};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(e,t)=>{const s=Y.forwardRef(({color:g="currentColor",size:i=24,strokeWidth:p=2,absoluteStrokeWidth:c,className:u="",children:h,...a},l)=>Y.createElement("svg",{ref:l,...N0,width:i,height:i,stroke:g,strokeWidth:c?Number(p)*24/Number(i):p,className:["lucide",`lucide-${j0(e)}`,u].join(" "),...a},[...t.map(([r,n])=>Y.createElement(r,n)),...Array.isArray(h)?h:[h]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=we("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=we("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=we("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=we("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=we("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=we("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=we("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=we("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=we("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=we("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=we("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=we("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=we("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=we("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=we("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=we("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=we("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=we("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yt={list:async e=>{const t=new URLSearchParams;return e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),(await ve.get(`/projects?${t.toString()}`)).data.data.projects},get:async e=>(await ve.get(`/projects/${e}`)).data.data.project,create:async e=>(await ve.post("/projects",e)).data.data.project,update:async(e,t)=>(await ve.put(`/projects/${e}`,t)).data.data.project,delete:async e=>{await ve.delete(`/projects/${e}`)},getMembers:async e=>(await ve.get(`/projects/${e}/members`)).data.data.members,addMember:async(e,t,s="member")=>(await ve.post(`/projects/${e}/members`,{email:t,role:s})).data.data.member,updateMemberRole:async(e,t,s)=>(await ve.put(`/projects/${e}/members/${t}`,{role:s})).data.data.member,removeMember:async(e,t)=>{await ve.delete(`/projects/${e}/members/${t}`)}};function $e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function An(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const $p=6048e5,W0=864e5,va=43200,hd=1440;let V0={};function Qi(){return V0}function zi(e,t){var u,h,a,l;const s=Qi(),g=(t==null?void 0:t.weekStartsOn)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((l=(a=s.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=$e(e),p=i.getDay(),c=(p<g?7:0)+p-g;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function co(e){return zi(e,{weekStartsOn:1})}function Np(e){const t=$e(e),s=t.getFullYear(),g=An(e,0);g.setFullYear(s+1,0,4),g.setHours(0,0,0,0);const i=co(g),p=An(e,0);p.setFullYear(s,0,4),p.setHours(0,0,0,0);const c=co(p);return t.getTime()>=i.getTime()?s+1:t.getTime()>=c.getTime()?s:s-1}function pd(e){const t=$e(e);return t.setHours(0,0,0,0),t}function fo(e){const t=$e(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function q0(e,t){const s=pd(e),g=pd(t),i=+s-fo(s),p=+g-fo(g);return Math.round((i-p)/W0)}function G0(e){const t=Np(e),s=An(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),co(s)}function Oa(e,t){const s=$e(e),g=$e(t),i=s.getTime()-g.getTime();return i<0?-1:i>0?1:i}function Y0(e){return An(e,Date.now())}function K0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function X0(e){if(!K0(e)&&typeof e!="number")return!1;const t=$e(e);return!isNaN(Number(t))}function J0(e,t){const s=$e(e),g=$e(t),i=s.getFullYear()-g.getFullYear(),p=s.getMonth()-g.getMonth();return i*12+p}function Q0(e){return t=>{const g=(e?Math[e]:Math.trunc)(t);return g===0?0:g}}function Z0(e,t){return+$e(e)-+$e(t)}function ek(e){const t=$e(e);return t.setHours(23,59,59,999),t}function tk(e){const t=$e(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function nk(e){const t=$e(e);return+ek(t)==+tk(t)}function rk(e,t){const s=$e(e),g=$e(t),i=Oa(s,g),p=Math.abs(J0(s,g));let c;if(p<1)c=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*p);let u=Oa(s,g)===-i;nk($e(e))&&p===1&&Oa(e,g)===1&&(u=!1),c=i*(p-Number(u))}return c===0?0:c}function ik(e,t,s){const g=Z0(e,t)/1e3;return Q0(s==null?void 0:s.roundingMethod)(g)}function ak(e){const t=$e(e),s=An(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const ok={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sk=(e,t,s)=>{let g;const i=ok[e];return typeof i=="string"?g=i:t===1?g=i.one:g=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+g:g+" ago":g};function vs(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const lk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ck={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dk={date:vs({formats:lk,defaultWidth:"full"}),time:vs({formats:uk,defaultWidth:"full"}),dateTime:vs({formats:ck,defaultWidth:"full"})},fk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hk=(e,t,s,g)=>fk[e];function ii(e){return(t,s)=>{const g=s!=null&&s.context?String(s.context):"standalone";let i;if(g==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=s!=null&&s.width?String(s.width):c;i=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[u]||e.values[c]}const p=e.argumentCallback?e.argumentCallback(t):t;return i[p]}}const pk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_k={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kk=(e,t)=>{const s=Number(e),g=s%100;if(g>20||g<10)switch(g%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},xk={ordinalNumber:kk,era:ii({values:pk,defaultWidth:"wide"}),quarter:ii({values:gk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ii({values:_k,defaultWidth:"wide"}),day:ii({values:mk,defaultWidth:"wide"}),dayPeriod:ii({values:vk,defaultWidth:"wide",formattingValues:yk,defaultFormattingWidth:"wide"})};function ai(e){return(t,s={})=>{const g=s.width,i=g&&e.matchPatterns[g]||e.matchPatterns[e.defaultMatchWidth],p=t.match(i);if(!p)return null;const c=p[0],u=g&&e.parsePatterns[g]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(u)?wk(u,r=>r.test(c)):bk(u,r=>r.test(c));let a;a=e.valueCallback?e.valueCallback(h):h,a=s.valueCallback?s.valueCallback(a):a;const l=t.slice(c.length);return{value:a,rest:l}}}function bk(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function wk(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function Sk(e){return(t,s={})=>{const g=t.match(e.matchPattern);if(!g)return null;const i=g[0],p=t.match(e.parsePattern);if(!p)return null;let c=e.valueCallback?e.valueCallback(p[0]):p[0];c=s.valueCallback?s.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}const Tk=/^(\d+)(th|st|nd|rd)?/i,Ck=/\d+/i,Ek={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$k={any:[/^b/i,/^(a|c)/i]},Nk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jk={any:[/1/i,/2/i,/3/i,/4/i]},Dk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ak={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ok={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ik={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rk={ordinalNumber:Sk({matchPattern:Tk,parsePattern:Ck,valueCallback:e=>parseInt(e,10)}),era:ai({matchPatterns:Ek,defaultMatchWidth:"wide",parsePatterns:$k,defaultParseWidth:"any"}),quarter:ai({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ai({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any"}),day:ai({matchPatterns:Pk,defaultMatchWidth:"wide",parsePatterns:Ak,defaultParseWidth:"any"}),dayPeriod:ai({matchPatterns:Ok,defaultMatchWidth:"any",parsePatterns:Ik,defaultParseWidth:"any"})},jp={code:"en-US",formatDistance:sk,formatLong:dk,formatRelative:hk,localize:xk,match:Rk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lk(e){const t=$e(e);return q0(t,ak(t))+1}function Fk(e){const t=$e(e),s=+co(t)-+G0(t);return Math.round(s/$p)+1}function Dp(e,t){var l,r,n,o;const s=$e(e),g=s.getFullYear(),i=Qi(),p=(t==null?void 0:t.firstWeekContainsDate)??((r=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:r.firstWeekContainsDate)??i.firstWeekContainsDate??((o=(n=i.locale)==null?void 0:n.options)==null?void 0:o.firstWeekContainsDate)??1,c=An(e,0);c.setFullYear(g+1,0,p),c.setHours(0,0,0,0);const u=zi(c,t),h=An(e,0);h.setFullYear(g,0,p),h.setHours(0,0,0,0);const a=zi(h,t);return s.getTime()>=u.getTime()?g+1:s.getTime()>=a.getTime()?g:g-1}function zk(e,t){var u,h,a,l;const s=Qi(),g=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((l=(a=s.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??1,i=Dp(e,t),p=An(e,0);return p.setFullYear(i,0,g),p.setHours(0,0,0,0),zi(p,t)}function Hk(e,t){const s=$e(e),g=+zi(s,t)-+zk(s,t);return Math.round(g/$p)+1}function Ce(e,t){const s=e<0?"-":"",g=Math.abs(e).toString().padStart(t,"0");return s+g}const hn={y(e,t){const s=e.getFullYear(),g=s>0?s:1-s;return Ce(t==="yy"?g%100:g,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Ce(s+1,2)},d(e,t){return Ce(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Ce(e.getHours()%12||12,t.length)},H(e,t){return Ce(e.getHours(),t.length)},m(e,t){return Ce(e.getMinutes(),t.length)},s(e,t){return Ce(e.getSeconds(),t.length)},S(e,t){const s=t.length,g=e.getMilliseconds(),i=Math.trunc(g*Math.pow(10,s-3));return Ce(i,t.length)}},cr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gd={G:function(e,t,s){const g=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(g,{width:"abbreviated"});case"GGGGG":return s.era(g,{width:"narrow"});case"GGGG":default:return s.era(g,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const g=e.getFullYear(),i=g>0?g:1-g;return s.ordinalNumber(i,{unit:"year"})}return hn.y(e,t)},Y:function(e,t,s,g){const i=Dp(e,g),p=i>0?i:1-i;if(t==="YY"){const c=p%100;return Ce(c,2)}return t==="Yo"?s.ordinalNumber(p,{unit:"year"}):Ce(p,t.length)},R:function(e,t){const s=Np(e);return Ce(s,t.length)},u:function(e,t){const s=e.getFullYear();return Ce(s,t.length)},Q:function(e,t,s){const g=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(g);case"QQ":return Ce(g,2);case"Qo":return s.ordinalNumber(g,{unit:"quarter"});case"QQQ":return s.quarter(g,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(g,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(g,{width:"wide",context:"formatting"})}},q:function(e,t,s){const g=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(g);case"qq":return Ce(g,2);case"qo":return s.ordinalNumber(g,{unit:"quarter"});case"qqq":return s.quarter(g,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(g,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(g,{width:"wide",context:"standalone"})}},M:function(e,t,s){const g=e.getMonth();switch(t){case"M":case"MM":return hn.M(e,t);case"Mo":return s.ordinalNumber(g+1,{unit:"month"});case"MMM":return s.month(g,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(g,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(g,{width:"wide",context:"formatting"})}},L:function(e,t,s){const g=e.getMonth();switch(t){case"L":return String(g+1);case"LL":return Ce(g+1,2);case"Lo":return s.ordinalNumber(g+1,{unit:"month"});case"LLL":return s.month(g,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(g,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(g,{width:"wide",context:"standalone"})}},w:function(e,t,s,g){const i=Hk(e,g);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):Ce(i,t.length)},I:function(e,t,s){const g=Fk(e);return t==="Io"?s.ordinalNumber(g,{unit:"week"}):Ce(g,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):hn.d(e,t)},D:function(e,t,s){const g=Lk(e);return t==="Do"?s.ordinalNumber(g,{unit:"dayOfYear"}):Ce(g,t.length)},E:function(e,t,s){const g=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(g,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(g,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(g,{width:"short",context:"formatting"});case"EEEE":default:return s.day(g,{width:"wide",context:"formatting"})}},e:function(e,t,s,g){const i=e.getDay(),p=(i-g.weekStartsOn+8)%7||7;switch(t){case"e":return String(p);case"ee":return Ce(p,2);case"eo":return s.ordinalNumber(p,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,g){const i=e.getDay(),p=(i-g.weekStartsOn+8)%7||7;switch(t){case"c":return String(p);case"cc":return Ce(p,t.length);case"co":return s.ordinalNumber(p,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const g=e.getDay(),i=g===0?7:g;switch(t){case"i":return String(i);case"ii":return Ce(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(g,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(g,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(g,{width:"short",context:"formatting"});case"iiii":default:return s.day(g,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const g=e.getHours();let i;switch(g===12?i=cr.noon:g===0?i=cr.midnight:i=g/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const g=e.getHours();let i;switch(g>=17?i=cr.evening:g>=12?i=cr.afternoon:g>=4?i=cr.morning:i=cr.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let g=e.getHours()%12;return g===0&&(g=12),s.ordinalNumber(g,{unit:"hour"})}return hn.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):hn.H(e,t)},K:function(e,t,s){const g=e.getHours()%12;return t==="Ko"?s.ordinalNumber(g,{unit:"hour"}):Ce(g,t.length)},k:function(e,t,s){let g=e.getHours();return g===0&&(g=24),t==="ko"?s.ordinalNumber(g,{unit:"hour"}):Ce(g,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):hn.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):hn.s(e,t)},S:function(e,t){return hn.S(e,t)},X:function(e,t,s){const g=e.getTimezoneOffset();if(g===0)return"Z";switch(t){case"X":return md(g);case"XXXX":case"XX":return Un(g);case"XXXXX":case"XXX":default:return Un(g,":")}},x:function(e,t,s){const g=e.getTimezoneOffset();switch(t){case"x":return md(g);case"xxxx":case"xx":return Un(g);case"xxxxx":case"xxx":default:return Un(g,":")}},O:function(e,t,s){const g=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_d(g,":");case"OOOO":default:return"GMT"+Un(g,":")}},z:function(e,t,s){const g=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_d(g,":");case"zzzz":default:return"GMT"+Un(g,":")}},t:function(e,t,s){const g=Math.trunc(e.getTime()/1e3);return Ce(g,t.length)},T:function(e,t,s){const g=e.getTime();return Ce(g,t.length)}};function _d(e,t=""){const s=e>0?"-":"+",g=Math.abs(e),i=Math.trunc(g/60),p=g%60;return p===0?s+String(i):s+String(i)+t+Ce(p,2)}function md(e,t){return e%60===0?(e>0?"-":"+")+Ce(Math.abs(e)/60,2):Un(e,t)}function Un(e,t=""){const s=e>0?"-":"+",g=Math.abs(e),i=Ce(Math.trunc(g/60),2),p=Ce(g%60,2);return s+i+t+p}const vd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Mp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Bk=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],g=s[1],i=s[2];if(!i)return vd(e,t);let p;switch(g){case"P":p=t.dateTime({width:"short"});break;case"PP":p=t.dateTime({width:"medium"});break;case"PPP":p=t.dateTime({width:"long"});break;case"PPPP":default:p=t.dateTime({width:"full"});break}return p.replace("{{date}}",vd(g,t)).replace("{{time}}",Mp(i,t))},Uk={p:Mp,P:Bk},Wk=/^D+$/,Vk=/^Y+$/,qk=["D","DD","YY","YYYY"];function Gk(e){return Wk.test(e)}function Yk(e){return Vk.test(e)}function Kk(e,t,s){const g=Xk(e,t,s);if(console.warn(g),qk.includes(e))throw new RangeError(g)}function Xk(e,t,s){const g=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${g} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zk=/^'([^]*?)'?$/,ex=/''/g,tx=/[a-zA-Z]/;function nx(e,t,s){var l,r,n,o;const g=Qi(),i=g.locale??jp,p=g.firstWeekContainsDate??((r=(l=g.locale)==null?void 0:l.options)==null?void 0:r.firstWeekContainsDate)??1,c=g.weekStartsOn??((o=(n=g.locale)==null?void 0:n.options)==null?void 0:o.weekStartsOn)??0,u=$e(e);if(!X0(u))throw new RangeError("Invalid time value");let h=t.match(Qk).map(d=>{const f=d[0];if(f==="p"||f==="P"){const _=Uk[f];return _(d,i.formatLong)}return d}).join("").match(Jk).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:rx(d)};if(gd[f])return{isToken:!0,value:d};if(f.match(tx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const a={firstWeekContainsDate:p,weekStartsOn:c,locale:i};return h.map(d=>{if(!d.isToken)return d.value;const f=d.value;(Yk(f)||Gk(f))&&Kk(f,t,String(e));const _=gd[f[0]];return _(u,f,i.localize,a)}).join("")}function rx(e){const t=e.match(Zk);return t?t[1].replace(ex,"'"):e}function ix(e,t,s){const g=Qi(),i=(s==null?void 0:s.locale)??g.locale??jp,p=2520,c=Oa(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:c});let h,a;c>0?(h=$e(t),a=$e(e)):(h=$e(e),a=$e(t));const l=ik(a,h),r=(fo(a)-fo(h))/1e3,n=Math.round((l-r)/60);let o;if(n<2)return s!=null&&s.includeSeconds?l<5?i.formatDistance("lessThanXSeconds",5,u):l<10?i.formatDistance("lessThanXSeconds",10,u):l<20?i.formatDistance("lessThanXSeconds",20,u):l<40?i.formatDistance("halfAMinute",0,u):l<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):n===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",n,u);if(n<45)return i.formatDistance("xMinutes",n,u);if(n<90)return i.formatDistance("aboutXHours",1,u);if(n<hd){const d=Math.round(n/60);return i.formatDistance("aboutXHours",d,u)}else{if(n<p)return i.formatDistance("xDays",1,u);if(n<va){const d=Math.round(n/hd);return i.formatDistance("xDays",d,u)}else if(n<va*2)return o=Math.round(n/va),i.formatDistance("aboutXMonths",o,u)}if(o=rk(a,h),o<12){const d=Math.round(n/va);return i.formatDistance("xMonths",d,u)}else{const d=o%12,f=Math.trunc(o/12);return d<3?i.formatDistance("aboutXYears",f,u):d<9?i.formatDistance("overXYears",f,u):i.formatDistance("almostXYears",f+1,u)}}function Fo(e,t){return ix(e,Y0(e),t)}const ax={planning:"bg-gray-100 text-gray-800",active:"bg-blue-100 text-blue-800",on_hold:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},ox={owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",member:"bg-green-100 text-green-800",viewer:"bg-gray-100 text-gray-800"},sx=({project:e})=>{const t=s=>s?nx(new Date(s),"MMM d, yyyy"):"Not set";return C.jsxs(jo,{to:`/projects/${e.id}`,className:"block bg-white rounded-lg shadow hover:shadow-md transition-shadow p-6",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),e.description&&C.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),C.jsx("button",{onClick:s=>{s.preventDefault()},className:"text-gray-400 hover:text-gray-600",children:C.jsx(R0,{size:20})})]}),C.jsxs("div",{className:"flex gap-2 mb-4",children:[C.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ax[e.status]}`,children:e.status.replace("_"," ")}),C.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ox[e.user_role]}`,children:e.user_role})]}),C.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[C.jsx(uo,{size:16}),C.jsx("span",{children:t(e.start_date)})]}),C.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[C.jsx(Fr,{size:16}),C.jsxs("span",{children:[e.member_count," members"]})]}),C.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[C.jsx(Tl,{size:16}),C.jsxs("span",{children:[e.task_count," tasks"]})]})]})]})},lx=({isOpen:e,onClose:t,onSuccess:s})=>{const[g,i]=Y.useState(""),[p,c]=Y.useState(""),[u,h]=Y.useState(""),[a,l]=Y.useState(""),[r,n]=Y.useState(!1);if(!e)return null;const o=async f=>{var _,m;f.preventDefault(),n(!0);try{const v={name:g,description:p||void 0,startDate:u||void 0,endDate:a||void 0};await Yt.create(v),de.success("Project created successfully!"),s(),d()}catch(v){const y=((m=(_=v.response)==null?void 0:_.data)==null?void 0:m.message)||"Failed to create project";de.error(y)}finally{n(!1)}},d=()=>{i(""),c(""),h(""),l(""),t()};return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[C.jsx("h2",{className:"text-xl font-semibold",children:"Create New Project"}),C.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600",children:C.jsx(lr,{size:24})})]}),C.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),C.jsx("input",{id:"name",type:"text",required:!0,value:g,onChange:f=>i(f.target.value),className:"input",placeholder:"Website Redesign"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),C.jsx("textarea",{id:"description",value:p,onChange:f=>c(f.target.value),className:"input",rows:3,placeholder:"Brief description of the project..."})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),C.jsx("input",{id:"startDate",type:"date",value:u,onChange:f=>h(f.target.value),className:"input"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),C.jsx("input",{id:"endDate",type:"date",value:a,onChange:f=>l(f.target.value),min:u,className:"input"})]})]}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[C.jsx("button",{type:"button",onClick:d,className:"btn btn-secondary flex-1",children:"Cancel"}),C.jsx("button",{type:"submit",disabled:r,className:"btn btn-primary flex-1",children:r?"Creating...":"Create Project"})]})]})]})})},ux=()=>{const{user:e,logout:t}=sr(),[s,g]=Y.useState([]),[i,p]=Y.useState(!0),[c,u]=Y.useState(!1),[h,a]=Y.useState(""),[l,r]=Y.useState(""),n=async()=>{try{p(!0);const o={};h&&(o.search=h),l&&(o.status=l);const d=await Yt.list(o);g(d)}catch{de.error("Failed to load projects")}finally{p(!1)}};return Y.useEffect(()=>{n()},[h,l]),C.jsxs("div",{className:"min-h-screen bg-gray-50",children:[C.jsx("header",{className:"bg-white shadow",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Project Manager"}),C.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]})]}),C.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Logout"})]})}),C.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[C.jsx("div",{className:"flex-1",children:C.jsxs("div",{className:"relative",children:[C.jsx(F0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),C.jsx("input",{type:"text",placeholder:"Search projects...",value:h,onChange:o=>a(o.target.value),className:"input pl-10 w-full"})]})}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("select",{value:l,onChange:o=>r(o.target.value),className:"input w-auto",children:[C.jsx("option",{value:"",children:"All Status"}),C.jsx("option",{value:"planning",children:"Planning"}),C.jsx("option",{value:"active",children:"Active"}),C.jsx("option",{value:"on_hold",children:"On Hold"}),C.jsx("option",{value:"completed",children:"Completed"}),C.jsx("option",{value:"cancelled",children:"Cancelled"})]}),C.jsxs("button",{onClick:()=>u(!0),className:"btn btn-primary flex items-center gap-2",children:[C.jsx(Fi,{size:20}),"New Project"]})]})]}),i?C.jsx("div",{className:"flex items-center justify-center py-12",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.length===0?C.jsx("div",{className:"text-center py-12",children:C.jsxs("div",{className:"bg-white rounded-lg shadow p-8 max-w-md mx-auto",children:[C.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),C.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first project"}),C.jsx("button",{onClick:()=>u(!0),className:"btn btn-primary",children:"Create Project"})]})}):C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(o=>C.jsx(sx,{project:o},o.id))})]}),C.jsx(lx,{isOpen:c,onClose:()=>u(!1),onSuccess:n})]})},ot={list:async(e,t)=>{const s=new URLSearchParams;return t!=null&&t.status&&s.append("status",t.status),t!=null&&t.priority&&s.append("priority",t.priority),(await ve.get(`/projects/${e}/tasks?${s.toString()}`)).data.data.tasks},get:async e=>(await ve.get(`/tasks/${e}`)).data.data.task,create:async(e,t)=>(await ve.post(`/projects/${e}/tasks`,t)).data.data.task,update:async(e,t)=>(await ve.put(`/tasks/${e}`,t)).data.data.task,delete:async e=>{await ve.delete(`/tasks/${e}`)},addDependency:async(e,t,s="finish_to_start",g=0)=>(await ve.post(`/tasks/${e}/dependencies`,{dependsOnTaskId:t,dependencyType:s,lagTime:g})).data.data.dependency,getDependencies:async e=>(await ve.get(`/tasks/${e}/dependencies`)).data.data.dependencies,removeDependency:async(e,t)=>{await ve.delete(`/tasks/${e}/dependencies/${t}`)},bulkUpdate:async(e,t)=>{await ve.post(`/projects/${e}/tasks/bulk-update`,{updates:t})}};var Pp={exports:{}};/*
@license

dhtmlxGantt v.8.0.11 Standard

This version of dhtmlxGantt is distributed under GPL 2.0 license and can be legally used in GPL projects.

To use dhtmlxGantt in non-GPL projects (and get Pro version of the product), please obtain Individual, Commercial, Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxGantt/#licensing or contact us at info@dhtmlx.com

(c) XB Software

*/(function(e,t){(function(s,g){e.exports=g()})(window,function(){return function(s){var g={};function i(p){if(g[p])return g[p].exports;var c=g[p]={i:p,l:!1,exports:{}};return s[p].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=s,i.c=g,i.d=function(p,c,u){i.o(p,c)||Object.defineProperty(p,c,{enumerable:!0,get:u})},i.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},i.t=function(p,c){if(1&c&&(p=i(p)),8&c||4&c&&typeof p=="object"&&p&&p.__esModule)return p;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:p}),2&c&&typeof p!="string")for(var h in p)i.d(u,h,(function(a){return p[a]}).bind(null,h));return u},i.n=function(p){var c=p&&p.__esModule?function(){return p.default}:function(){return p};return i.d(c,"a",c),c},i.o=function(p,c){return Object.prototype.hasOwnProperty.call(p,c)},i.p="/codebase/",i(i.s=301)}([function(s,g,i){function p(a){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}var c,u=i(2),h={}.constructor.toString();s.exports={copy:function a(l){var r,n;if(l&&p(l)=="object")switch(!0){case u.isDate(l):n=new Date(l);break;case u.isArray(l):for(n=new Array(l.length),r=0;r<l.length;r++)n[r]=a(l[r]);break;default:for(r in n=function(o){return o.constructor.toString()!==h}(l)?Object.create(l):{},l)Object.prototype.hasOwnProperty.apply(l,[r])&&(n[r]=a(l[r]))}return n||l},defined:function(a){return a!==void 0},mixin:function(a,l,r){for(var n in l)(a[n]===void 0||r)&&(a[n]=l[n]);return a},uid:function(){return c||(c=new Date().valueOf()),++c},bind:function(a,l){return a.bind?a.bind(l):function(){return a.apply(l,arguments)}},event:function(a,l,r,n){a.addEventListener?a.addEventListener(l,r,n!==void 0&&n):a.attachEvent&&a.attachEvent("on"+l,r)},eventRemove:function(a,l,r,n){a.removeEventListener?a.removeEventListener(l,r,n!==void 0&&n):a.detachEvent&&a.detachEvent("on"+l,r)}}},function(s,g){function i(f){var _=0,m=0,v=0,y=0;if(f.getBoundingClientRect){var k=f.getBoundingClientRect(),x=document.body,w=document.documentElement||document.body.parentNode||document.body,b=window.pageYOffset||w.scrollTop||x.scrollTop,S=window.pageXOffset||w.scrollLeft||x.scrollLeft,T=w.clientTop||x.clientTop||0,N=w.clientLeft||x.clientLeft||0;_=k.top+b-T,m=k.left+S-N,v=document.body.offsetWidth-k.right,y=document.body.offsetHeight-k.bottom}else{for(;f;)_+=parseInt(f.offsetTop,10),m+=parseInt(f.offsetLeft,10),f=f.offsetParent;v=document.body.offsetWidth-f.offsetWidth-m,y=document.body.offsetHeight-f.offsetHeight-_}return{y:Math.round(_),x:Math.round(m),width:f.offsetWidth,height:f.offsetHeight,right:Math.round(v),bottom:Math.round(y)}}function p(f){var _=!1,m=!1;if(window.getComputedStyle){var v=window.getComputedStyle(f,null);_=v.display,m=v.visibility}else f.currentStyle&&(_=f.currentStyle.display,m=f.currentStyle.visibility);return _!="none"&&m!="hidden"}function c(f){return!isNaN(f.getAttribute("tabindex"))&&1*f.getAttribute("tabindex")>=0}function u(f){return!{a:!0,area:!0}[f.nodeName.loLowerCase()]||!!f.getAttribute("href")}function h(f){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[f.nodeName.toLowerCase()]||!f.hasAttribute("disabled")}function a(f){if(!f)return"";var _=f.className||"";return _.baseVal&&(_=_.baseVal),_.indexOf||(_=""),n(_)}var l;function r(f){var _;return f.tagName?_=f:(_=(f=f||window.event).target||f.srcElement).shadowRoot&&f.composedPath&&(_=f.composedPath()[0]),_}function n(f){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(f)}function o(){return document.head.createShadowRoot||document.head.attachShadow}function d(f){if(!f||!o())return document.body;for(;f.parentNode&&(f=f.parentNode);)if(f instanceof ShadowRoot)return f.host;return document.body}s.exports={getNodePosition:i,getFocusableNodes:function(f){for(var _=f.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),m=Array.prototype.slice.call(_,0),v=0;v<m.length;v++)m[v].$position=v;for(m.sort(function(k,x){return k.tabIndex===0&&x.tabIndex!==0?1:k.tabIndex!==0&&x.tabIndex===0?-1:k.tabIndex===x.tabIndex?k.$position-x.$position:k.tabIndex<x.tabIndex?-1:1}),v=0;v<m.length;v++){var y=m[v];(c(y)||h(y)||u(y))&&p(y)||(m.splice(v,1),v--)}return m},getScrollSize:function(){var f=document.createElement("div");f.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(f);var _=f.offsetWidth-f.clientWidth;return document.body.removeChild(f),_},getClassName:a,addClassName:function(f,_){_&&f.className.indexOf(_)===-1&&(f.className+=" "+_)},removeClassName:function(f,_){_=_.split(" ");for(var m=0;m<_.length;m++){var v=new RegExp("\\s?\\b"+_[m]+"\\b(?![-_.])","");f.className=f.className.replace(v,"")}},insertNode:function(f,_){l||(l=document.createElement("div")),l.innerHTML=_;var m=l.firstChild;return f.appendChild(m),m},removeNode:function(f){f&&f.parentNode&&f.parentNode.removeChild(f)},getChildNodes:function(f,_){for(var m=f.childNodes,v=m.length,y=[],k=0;k<v;k++){var x=m[k];x.className&&x.className.indexOf(_)!==-1&&y.push(x)}return y},toNode:function(f){return typeof f=="string"?document.getElementById(f)||document.querySelector(f)||document.body:f||document.body},locateClassName:function(f,_,m){var v=r(f),y="";for(m===void 0&&(m=!0);v;){if(y=a(v)){var k=y.indexOf(_);if(k>=0){if(!m)return v;var x=k===0||!n(y.charAt(k-1)),w=k+_.length>=y.length||!n(y.charAt(k+_.length));if(x&&w)return v}}v=v.parentNode}return null},locateAttribute:function(f,_){if(_){for(var m=r(f);m;){if(m.getAttribute&&m.getAttribute(_))return m;m=m.parentNode}return null}},getTargetNode:r,getRelativeEventPosition:function(f,_){var m=document.documentElement,v=i(_);return{x:f.clientX+m.scrollLeft-m.clientLeft-v.x+_.scrollLeft,y:f.clientY+m.scrollTop-m.clientTop-v.y+_.scrollTop}},isChildOf:function(f,_){if(!f||!_)return!1;for(;f&&f!=_;)f=f.parentNode;return f===_},hasClass:function(f,_){return"classList"in f?f.classList.contains(_):new RegExp("\\b"+_+"\\b").test(f.className)},closest:function(f,_){if(f.closest)return f.closest(_);if(f.matches||f.msMatchesSelector||f.webkitMatchesSelector){var m=f;if(!document.documentElement.contains(m))return null;do{if((m.matches||m.msMatchesSelector||m.webkitMatchesSelector).call(m,_))return m;m=m.parentElement||m.parentNode}while(m!==null&&m.nodeType===1);return null}return console.error("Your browser is not supported"),null},getRootNode:d,hasShadowParent:function(f){return!!d(f)},isShadowDomSupported:o,getActiveElement:function(){var f=document.activeElement;return f.shadowRoot&&(f=f.shadowRoot.activeElement),f===document.body&&document.getSelection&&(f=document.getSelection().focusNode||document.body),f}}},function(s,g){function i(a){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}var p={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function c(a){return!(!a||i(a)!=="object")&&!!(a.getFullYear&&a.getMonth&&a.getDate)}function u(a,l){var r=[];if(a.filter)return a.filter(l);for(var n=0;n<a.length;n++)l(a[n],n)&&(r[r.length]=a[n]);return r}function h(a){return a===0}s.exports={getSecondsInUnit:function(a){return p[a]||p.hour},forEach:function(a,l){if(a.forEach)a.forEach(l);else for(var r=a.slice(),n=0;n<r.length;n++)l(r[n],n)},arrayMap:function(a,l){if(a.map)return a.map(l);for(var r=a.slice(),n=[],o=0;o<r.length;o++)n.push(l(r[o],o));return n},arrayIncludes:function(a,l){if(a.includes)return a.includes(l);for(var r=0;r<a.length;r++)if(a[r]===l)return!0;return!1},arrayFind:function(a,l){if(a.find)return a.find(l);for(var r=0;r<a.length;r++)if(l(a[r],r))return a[r]},arrayFilter:u,arrayDifference:function(a,l){return u(a,function(r,n){return!l(r,n)})},arraySome:function(a,l){if(a.length===0)return!1;for(var r=0;r<a.length;r++)if(l(a[r],r,a))return!0;return!1},hashToArray:function(a){var l=[];for(var r in a)a.hasOwnProperty(r)&&l.push(a[r]);return l},sortArrayOfHash:function(a,l,r){var n=function(o,d){return o<d};a.sort(function(o,d){return o[l]===d[l]?0:r?n(o[l],d[l]):n(d[l],o[l])})},throttle:function(a,l){var r=!1;return function(){r||(a.apply(null,arguments),r=!0,setTimeout(function(){r=!1},l))}},isArray:function(a){return Array.isArray?Array.isArray(a):a&&a.length!==void 0&&a.pop&&a.push},isDate:c,isValidDate:function(a){return c(a)&&!isNaN(a.getTime())},isStringObject:function(a){return a&&i(a)==="object"&&Function.prototype.toString.call(a.constructor)==="function String() { [native code] }"},isNumberObject:function(a){return a&&i(a)==="object"&&Function.prototype.toString.call(a.constructor)==="function Number() { [native code] }"},isBooleanObject:function(a){return a&&i(a)==="object"&&Function.prototype.toString.call(a.constructor)==="function Boolean() { [native code] }"},delay:function(a,l){var r,n=function o(){o.$cancelTimeout(),o.$pending=!0;var d=Array.prototype.slice.call(arguments);r=setTimeout(function(){a.apply(this,d),o.$pending=!1},l)};return n.$pending=!1,n.$cancelTimeout=function(){clearTimeout(r),n.$pending=!1},n.$execute=function(){var o=Array.prototype.slice.call(arguments);a.apply(this,o),n.$cancelTimeout()},n},objectKeys:function(a){if(Object.keys)return Object.keys(a);var l,r=[];for(l in a)Object.prototype.hasOwnProperty.call(a,l)&&r.push(l);return r},isEventable:function(a){return a.attachEvent&&a.detachEvent},replaceValidZeroId:function(a,l){return h(a)&&!h(l)&&(a="0"),a},checkZeroId:h,findBinary:function(a,l){for(var r,n,o,d=0,f=a.length-1;d<=f;)if(n=+a[r=Math.floor((d+f)/2)],o=+a[r-1],n<l)d=r+1;else{if(!(n>l)){for(;+a[r]==+a[r+1];)r++;return r}if(!isNaN(o)&&o<l)return r-1;f=r-1}return a.length-1}}},function(s,g){s.exports=function(i,p){for(var c in p)p.hasOwnProperty(c)&&(i[c]=p[c]);function u(){this.constructor=i}i.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)}},function(s,g){function i(c){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}var p;p=function(){return this}();try{p=p||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":i(window))==="object"&&(p=window)}s.exports=p},function(s,g){var i=function(){this._silent_mode=!1,this.listeners={}};i.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var p=function(c){var u={},h=0,a=function(){var l=!0;for(var r in u){var n=u[r].apply(c,arguments);l=l&&n}return l};return a.addEvent=function(l,r){if(typeof l=="function"){var n;if(r&&r.id?n=r.id:(n=h,h++),r&&r.once){var o=l;l=function(){o(),a.removeEvent(n)}}return u[n]=l,n}return!1},a.removeEvent=function(l){delete u[l]},a.clear=function(){u={}},a};s.exports=function(c){var u=new i;c.attachEvent=function(h,a,l){h="ev_"+h.toLowerCase(),u.listeners[h]||(u.listeners[h]=p(this)),l&&l.thisObject&&(a=a.bind(l.thisObject));var r=h+":"+u.listeners[h].addEvent(a,l);return l&&l.id&&(r=l.id),r},c.attachAll=function(h){this.attachEvent("listen_all",h)},c.callEvent=function(h,a){if(u._silent_mode)return!0;var l="ev_"+h.toLowerCase(),r=u.listeners;return r.ev_listen_all&&r.ev_listen_all.apply(this,[h].concat(a)),!r[l]||r[l].apply(this,a)},c.checkEvent=function(h){return!!u.listeners["ev_"+h.toLowerCase()]},c.detachEvent=function(h){if(h){var a=u.listeners;for(var l in a)a[l].removeEvent(h);var r=h.split(":");if(a=u.listeners,r.length===2){var n=r[0],o=r[1];a[n]&&a[n].removeEvent(o)}}},c.detachAllEvents=function(){for(var h in u.listeners)u.listeners[h].clear()}}},function(s,g){s.exports=function(i,p,c,u,h){var a=p.getItemIndexByTopPosition(h.y)||0,l=p.getItemIndexByTopPosition(h.y_end)||u.count(),r=Math.max(0,a-1),n=Math.min(u.count(),l+1),o=[];if(i.config.keyboard_navigation&&i.getSelectedId()&&o.push(i.getSelectedId()),i.$ui.getView("grid")&&i.ext.inlineEditors&&i.ext.inlineEditors.getState().id){var d=i.ext.inlineEditors.getState().id;u.exists(d)&&o.push(d)}return{start:r,end:n,ids:o}}},function(s,g){function i(){console.log("Method is not implemented.")}function p(){}p.prototype.render=i,p.prototype.set_value=i,p.prototype.get_value=i,p.prototype.focus=i,s.exports=function(c){return p}},function(s,g){typeof Object.create=="function"?s.exports=function(i,p){i.super_=p,i.prototype=Object.create(p.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(i,p){i.super_=p;var c=function(){};c.prototype=p.prototype,i.prototype=new c,i.prototype.constructor=i}},function(s,g){var i,p,c=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function a(v){if(i===setTimeout)return setTimeout(v,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(v,0);try{return i(v,0)}catch{try{return i.call(null,v,0)}catch{return i.call(this,v,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:u}catch{i=u}try{p=typeof clearTimeout=="function"?clearTimeout:h}catch{p=h}})();var l,r=[],n=!1,o=-1;function d(){n&&l&&(n=!1,l.length?r=l.concat(r):o=-1,r.length&&f())}function f(){if(!n){var v=a(d);n=!0;for(var y=r.length;y;){for(l=r,r=[];++o<y;)l&&l[o].run();o=-1,y=r.length}l=null,n=!1,function(k){if(p===clearTimeout)return clearTimeout(k);if((p===h||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(k);try{p(k)}catch{try{return p.call(null,k)}catch{return p.call(this,k)}}}(v)}}function _(v,y){this.fun=v,this.array=y}function m(){}c.nextTick=function(v){var y=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)y[k-1]=arguments[k];r.push(new _(v,y)),r.length!==1||n||a(f)},_.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=m,c.addListener=m,c.once=m,c.off=m,c.removeListener=m,c.removeAllListeners=m,c.emit=m,c.prependListener=m,c.prependOnceListener=m,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(s,g){s.exports=function(i){var p=function(){};return p.prototype={show:function(c,u,h,a){},hide:function(){},set_value:function(c,u,h,a){this.get_input(a).value=c},get_value:function(c,u,h){return this.get_input(h).value||""},is_changed:function(c,u,h,a){var l=this.get_value(u,h,a);return l&&c&&l.valueOf&&c.valueOf?l.valueOf()!=c.valueOf():l!=c},is_valid:function(c,u,h,a){return!0},save:function(c,u,h){},get_input:function(c){return c.querySelector("input")},focus:function(c){var u=this.get_input(c);u&&(u.focus&&u.focus(),u.select&&u.select())}},p}},function(s,g){var i=typeof window<"u",p={isIE:i&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:i&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:i&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:i&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:i&&navigator.userAgent.indexOf("Opera")>=0,isChrome:i&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:i&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:i&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:i&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:i&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!i||typeof navigator>"u"};s.exports=p},function(s,g,i){var p=i(23),c=Object.keys||function(_){var m=[];for(var v in _)m.push(v);return m};s.exports=o;var u=i(17);u.inherits=i(8);var h=i(62),a=i(58);u.inherits(o,h);for(var l=c(a.prototype),r=0;r<l.length;r++){var n=l[r];o.prototype[n]||(o.prototype[n]=a.prototype[n])}function o(_){if(!(this instanceof o))return new o(_);h.call(this,_),a.call(this,_),_&&_.readable===!1&&(this.readable=!1),_&&_.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,_&&_.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||p.nextTick(f,this)}function f(_){_.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),o.prototype._destroy=function(_,m){this.push(null),this.end(),p.nextTick(m,_)}},function(s,g,i){(function(p){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var c=i(293),u=i(292),h=i(67);function a(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(j,M){if(a()<M)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(j=new Uint8Array(M)).__proto__=r.prototype:(j===null&&(j=new r(M)),j.length=M),j}function r(j,M,A){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(j,M,A);if(typeof j=="number"){if(typeof M=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,j)}return n(this,j,M,A)}function n(j,M,A,U){if(typeof M=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer?function(W,K,ae,Q){if(K.byteLength,ae<0||K.byteLength<ae)throw new RangeError("'offset' is out of bounds");if(K.byteLength<ae+(Q||0))throw new RangeError("'length' is out of bounds");return K=ae===void 0&&Q===void 0?new Uint8Array(K):Q===void 0?new Uint8Array(K,ae):new Uint8Array(K,ae,Q),r.TYPED_ARRAY_SUPPORT?(W=K).__proto__=r.prototype:W=f(W,K),W}(j,M,A,U):typeof M=="string"?function(W,K,ae){if(typeof ae=="string"&&ae!==""||(ae="utf8"),!r.isEncoding(ae))throw new TypeError('"encoding" must be a valid string encoding');var Q=0|m(K,ae),ie=(W=l(W,Q)).write(K,ae);return ie!==Q&&(W=W.slice(0,ie)),W}(j,M,A):function(W,K){if(r.isBuffer(K)){var ae=0|_(K.length);return(W=l(W,ae)).length===0||K.copy(W,0,0,ae),W}if(K){if(typeof ArrayBuffer<"u"&&K.buffer instanceof ArrayBuffer||"length"in K)return typeof K.length!="number"||function(Q){return Q!=Q}(K.length)?l(W,0):f(W,K);if(K.type==="Buffer"&&h(K.data))return f(W,K.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(j,M)}function o(j){if(typeof j!="number")throw new TypeError('"size" argument must be a number');if(j<0)throw new RangeError('"size" argument must not be negative')}function d(j,M){if(o(M),j=l(j,M<0?0:0|_(M)),!r.TYPED_ARRAY_SUPPORT)for(var A=0;A<M;++A)j[A]=0;return j}function f(j,M){var A=M.length<0?0:0|_(M.length);j=l(j,A);for(var U=0;U<A;U+=1)j[U]=255&M[U];return j}function _(j){if(j>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|j}function m(j,M){if(r.isBuffer(j))return j.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(j)||j instanceof ArrayBuffer))return j.byteLength;typeof j!="string"&&(j=""+j);var A=j.length;if(A===0)return 0;for(var U=!1;;)switch(M){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":case void 0:return ne(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return ee(j).length;default:if(U)return ne(j).length;M=(""+M).toLowerCase(),U=!0}}function v(j,M,A){var U=j[M];j[M]=j[A],j[A]=U}function y(j,M,A,U,W){if(j.length===0)return-1;if(typeof A=="string"?(U=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,isNaN(A)&&(A=W?0:j.length-1),A<0&&(A=j.length+A),A>=j.length){if(W)return-1;A=j.length-1}else if(A<0){if(!W)return-1;A=0}if(typeof M=="string"&&(M=r.from(M,U)),r.isBuffer(M))return M.length===0?-1:k(j,M,A,U,W);if(typeof M=="number")return M&=255,r.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(j,M,A):Uint8Array.prototype.lastIndexOf.call(j,M,A):k(j,[M],A,U,W);throw new TypeError("val must be string, number or Buffer")}function k(j,M,A,U,W){var K,ae=1,Q=j.length,ie=M.length;if(U!==void 0&&((U=String(U).toLowerCase())==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(j.length<2||M.length<2)return-1;ae=2,Q/=2,ie/=2,A/=2}function fe(We,Ve){return ae===1?We[Ve]:We.readUInt16BE(Ve*ae)}if(W){var le=-1;for(K=A;K<Q;K++)if(fe(j,K)===fe(M,le===-1?0:K-le)){if(le===-1&&(le=K),K-le+1===ie)return le*ae}else le!==-1&&(K-=K-le),le=-1}else for(A+ie>Q&&(A=Q-ie),K=A;K>=0;K--){for(var ge=!0,Se=0;Se<ie;Se++)if(fe(j,K+Se)!==fe(M,Se)){ge=!1;break}if(ge)return K}return-1}function x(j,M,A,U){A=Number(A)||0;var W=j.length-A;U?(U=Number(U))>W&&(U=W):U=W;var K=M.length;if(K%2!=0)throw new TypeError("Invalid hex string");U>K/2&&(U=K/2);for(var ae=0;ae<U;++ae){var Q=parseInt(M.substr(2*ae,2),16);if(isNaN(Q))return ae;j[A+ae]=Q}return ae}function w(j,M,A,U){return V(ne(M,j.length-A),j,A,U)}function b(j,M,A,U){return V(function(W){for(var K=[],ae=0;ae<W.length;++ae)K.push(255&W.charCodeAt(ae));return K}(M),j,A,U)}function S(j,M,A,U){return b(j,M,A,U)}function T(j,M,A,U){return V(ee(M),j,A,U)}function N(j,M,A,U){return V(function(W,K){for(var ae,Q,ie,fe=[],le=0;le<W.length&&!((K-=2)<0);++le)ae=W.charCodeAt(le),Q=ae>>8,ie=ae%256,fe.push(ie),fe.push(Q);return fe}(M,j.length-A),j,A,U)}function $(j,M,A){return M===0&&A===j.length?c.fromByteArray(j):c.fromByteArray(j.slice(M,A))}function E(j,M,A){A=Math.min(j.length,A);for(var U=[],W=M;W<A;){var K,ae,Q,ie,fe=j[W],le=null,ge=fe>239?4:fe>223?3:fe>191?2:1;if(W+ge<=A)switch(ge){case 1:fe<128&&(le=fe);break;case 2:(192&(K=j[W+1]))==128&&(ie=(31&fe)<<6|63&K)>127&&(le=ie);break;case 3:K=j[W+1],ae=j[W+2],(192&K)==128&&(192&ae)==128&&(ie=(15&fe)<<12|(63&K)<<6|63&ae)>2047&&(ie<55296||ie>57343)&&(le=ie);break;case 4:K=j[W+1],ae=j[W+2],Q=j[W+3],(192&K)==128&&(192&ae)==128&&(192&Q)==128&&(ie=(15&fe)<<18|(63&K)<<12|(63&ae)<<6|63&Q)>65535&&ie<1114112&&(le=ie)}le===null?(le=65533,ge=1):le>65535&&(le-=65536,U.push(le>>>10&1023|55296),le=56320|1023&le),U.push(le),W+=ge}return function(Se){var We=Se.length;if(We<=D)return String.fromCharCode.apply(String,Se);for(var Ve="",mt=0;mt<We;)Ve+=String.fromCharCode.apply(String,Se.slice(mt,mt+=D));return Ve}(U)}g.Buffer=r,g.SlowBuffer=function(j){return+j!=j&&(j=0),r.alloc(+j)},g.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=p.TYPED_ARRAY_SUPPORT!==void 0?p.TYPED_ARRAY_SUPPORT:function(){try{var j=new Uint8Array(1);return j.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},j.foo()===42&&typeof j.subarray=="function"&&j.subarray(1,1).byteLength===0}catch{return!1}}(),g.kMaxLength=a(),r.poolSize=8192,r._augment=function(j){return j.__proto__=r.prototype,j},r.from=function(j,M,A){return n(null,j,M,A)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(j,M,A){return function(U,W,K,ae){return o(W),W<=0?l(U,W):K!==void 0?typeof ae=="string"?l(U,W).fill(K,ae):l(U,W).fill(K):l(U,W)}(null,j,M,A)},r.allocUnsafe=function(j){return d(null,j)},r.allocUnsafeSlow=function(j){return d(null,j)},r.isBuffer=function(j){return!(j==null||!j._isBuffer)},r.compare=function(j,M){if(!r.isBuffer(j)||!r.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(j===M)return 0;for(var A=j.length,U=M.length,W=0,K=Math.min(A,U);W<K;++W)if(j[W]!==M[W]){A=j[W],U=M[W];break}return A<U?-1:U<A?1:0},r.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(j,M){if(!h(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return r.alloc(0);var A;if(M===void 0)for(M=0,A=0;A<j.length;++A)M+=j[A].length;var U=r.allocUnsafe(M),W=0;for(A=0;A<j.length;++A){var K=j[A];if(!r.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(U,W),W+=K.length}return U},r.byteLength=m,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<j;M+=2)v(this,M,M+1);return this},r.prototype.swap32=function(){var j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<j;M+=4)v(this,M,M+3),v(this,M+1,M+2);return this},r.prototype.swap64=function(){var j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<j;M+=8)v(this,M,M+7),v(this,M+1,M+6),v(this,M+2,M+5),v(this,M+3,M+4);return this},r.prototype.toString=function(){var j=0|this.length;return j===0?"":arguments.length===0?E(this,0,j):(function(M,A,U){var W=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(A>>>=0))return"";for(M||(M="utf8");;)switch(M){case"hex":return O(this,A,U);case"utf8":case"utf-8":return E(this,A,U);case"ascii":return P(this,A,U);case"latin1":case"binary":return I(this,A,U);case"base64":return $(this,A,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,A,U);default:if(W)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),W=!0}}).apply(this,arguments)},r.prototype.equals=function(j){if(!r.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j||r.compare(this,j)===0},r.prototype.inspect=function(){var j="",M=g.INSPECT_MAX_BYTES;return this.length>0&&(j=this.toString("hex",0,M).match(/.{2}/g).join(" "),this.length>M&&(j+=" ... ")),"<Buffer "+j+">"},r.prototype.compare=function(j,M,A,U,W){if(!r.isBuffer(j))throw new TypeError("Argument must be a Buffer");if(M===void 0&&(M=0),A===void 0&&(A=j?j.length:0),U===void 0&&(U=0),W===void 0&&(W=this.length),M<0||A>j.length||U<0||W>this.length)throw new RangeError("out of range index");if(U>=W&&M>=A)return 0;if(U>=W)return-1;if(M>=A)return 1;if(M>>>=0,A>>>=0,U>>>=0,W>>>=0,this===j)return 0;for(var K=W-U,ae=A-M,Q=Math.min(K,ae),ie=this.slice(U,W),fe=j.slice(M,A),le=0;le<Q;++le)if(ie[le]!==fe[le]){K=ie[le],ae=fe[le];break}return K<ae?-1:ae<K?1:0},r.prototype.includes=function(j,M,A){return this.indexOf(j,M,A)!==-1},r.prototype.indexOf=function(j,M,A){return y(this,j,M,A,!0)},r.prototype.lastIndexOf=function(j,M,A){return y(this,j,M,A,!1)},r.prototype.write=function(j,M,A,U){if(M===void 0)U="utf8",A=this.length,M=0;else if(A===void 0&&typeof M=="string")U=M,A=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M|=0,isFinite(A)?(A|=0,U===void 0&&(U="utf8")):(U=A,A=void 0)}var W=this.length-M;if((A===void 0||A>W)&&(A=W),j.length>0&&(A<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var K=!1;;)switch(U){case"hex":return x(this,j,M,A);case"utf8":case"utf-8":return w(this,j,M,A);case"ascii":return b(this,j,M,A);case"latin1":case"binary":return S(this,j,M,A);case"base64":return T(this,j,M,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,j,M,A);default:if(K)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),K=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function P(j,M,A){var U="";A=Math.min(j.length,A);for(var W=M;W<A;++W)U+=String.fromCharCode(127&j[W]);return U}function I(j,M,A){var U="";A=Math.min(j.length,A);for(var W=M;W<A;++W)U+=String.fromCharCode(j[W]);return U}function O(j,M,A){var U=j.length;(!M||M<0)&&(M=0),(!A||A<0||A>U)&&(A=U);for(var W="",K=M;K<A;++K)W+=X(j[K]);return W}function B(j,M,A){for(var U=j.slice(M,A),W="",K=0;K<U.length;K+=2)W+=String.fromCharCode(U[K]+256*U[K+1]);return W}function R(j,M,A){if(j%1!=0||j<0)throw new RangeError("offset is not uint");if(j+M>A)throw new RangeError("Trying to access beyond buffer length")}function H(j,M,A,U,W,K){if(!r.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>W||M<K)throw new RangeError('"value" argument is out of bounds');if(A+U>j.length)throw new RangeError("Index out of range")}function q(j,M,A,U){M<0&&(M=65535+M+1);for(var W=0,K=Math.min(j.length-A,2);W<K;++W)j[A+W]=(M&255<<8*(U?W:1-W))>>>8*(U?W:1-W)}function G(j,M,A,U){M<0&&(M=4294967295+M+1);for(var W=0,K=Math.min(j.length-A,4);W<K;++W)j[A+W]=M>>>8*(U?W:3-W)&255}function L(j,M,A,U,W,K){if(A+U>j.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function F(j,M,A,U,W){return W||L(j,0,A,4),u.write(j,M,A,U,23,4),A+4}function J(j,M,A,U,W){return W||L(j,0,A,8),u.write(j,M,A,U,52,8),A+8}r.prototype.slice=function(j,M){var A,U=this.length;if(j=~~j,M=M===void 0?U:~~M,j<0?(j+=U)<0&&(j=0):j>U&&(j=U),M<0?(M+=U)<0&&(M=0):M>U&&(M=U),M<j&&(M=j),r.TYPED_ARRAY_SUPPORT)(A=this.subarray(j,M)).__proto__=r.prototype;else{var W=M-j;A=new r(W,void 0);for(var K=0;K<W;++K)A[K]=this[K+j]}return A},r.prototype.readUIntLE=function(j,M,A){j|=0,M|=0,A||R(j,M,this.length);for(var U=this[j],W=1,K=0;++K<M&&(W*=256);)U+=this[j+K]*W;return U},r.prototype.readUIntBE=function(j,M,A){j|=0,M|=0,A||R(j,M,this.length);for(var U=this[j+--M],W=1;M>0&&(W*=256);)U+=this[j+--M]*W;return U},r.prototype.readUInt8=function(j,M){return M||R(j,1,this.length),this[j]},r.prototype.readUInt16LE=function(j,M){return M||R(j,2,this.length),this[j]|this[j+1]<<8},r.prototype.readUInt16BE=function(j,M){return M||R(j,2,this.length),this[j]<<8|this[j+1]},r.prototype.readUInt32LE=function(j,M){return M||R(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+16777216*this[j+3]},r.prototype.readUInt32BE=function(j,M){return M||R(j,4,this.length),16777216*this[j]+(this[j+1]<<16|this[j+2]<<8|this[j+3])},r.prototype.readIntLE=function(j,M,A){j|=0,M|=0,A||R(j,M,this.length);for(var U=this[j],W=1,K=0;++K<M&&(W*=256);)U+=this[j+K]*W;return U>=(W*=128)&&(U-=Math.pow(2,8*M)),U},r.prototype.readIntBE=function(j,M,A){j|=0,M|=0,A||R(j,M,this.length);for(var U=M,W=1,K=this[j+--U];U>0&&(W*=256);)K+=this[j+--U]*W;return K>=(W*=128)&&(K-=Math.pow(2,8*M)),K},r.prototype.readInt8=function(j,M){return M||R(j,1,this.length),128&this[j]?-1*(255-this[j]+1):this[j]},r.prototype.readInt16LE=function(j,M){M||R(j,2,this.length);var A=this[j]|this[j+1]<<8;return 32768&A?4294901760|A:A},r.prototype.readInt16BE=function(j,M){M||R(j,2,this.length);var A=this[j+1]|this[j]<<8;return 32768&A?4294901760|A:A},r.prototype.readInt32LE=function(j,M){return M||R(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},r.prototype.readInt32BE=function(j,M){return M||R(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},r.prototype.readFloatLE=function(j,M){return M||R(j,4,this.length),u.read(this,j,!0,23,4)},r.prototype.readFloatBE=function(j,M){return M||R(j,4,this.length),u.read(this,j,!1,23,4)},r.prototype.readDoubleLE=function(j,M){return M||R(j,8,this.length),u.read(this,j,!0,52,8)},r.prototype.readDoubleBE=function(j,M){return M||R(j,8,this.length),u.read(this,j,!1,52,8)},r.prototype.writeUIntLE=function(j,M,A,U){j=+j,M|=0,A|=0,U||H(this,j,M,A,Math.pow(2,8*A)-1,0);var W=1,K=0;for(this[M]=255&j;++K<A&&(W*=256);)this[M+K]=j/W&255;return M+A},r.prototype.writeUIntBE=function(j,M,A,U){j=+j,M|=0,A|=0,U||H(this,j,M,A,Math.pow(2,8*A)-1,0);var W=A-1,K=1;for(this[M+W]=255&j;--W>=0&&(K*=256);)this[M+W]=j/K&255;return M+A},r.prototype.writeUInt8=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,1,255,0),r.TYPED_ARRAY_SUPPORT||(j=Math.floor(j)),this[M]=255&j,M+1},r.prototype.writeUInt16LE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[M]=255&j,this[M+1]=j>>>8):q(this,j,M,!0),M+2},r.prototype.writeUInt16BE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[M]=j>>>8,this[M+1]=255&j):q(this,j,M,!1),M+2},r.prototype.writeUInt32LE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[M+3]=j>>>24,this[M+2]=j>>>16,this[M+1]=j>>>8,this[M]=255&j):G(this,j,M,!0),M+4},r.prototype.writeUInt32BE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[M]=j>>>24,this[M+1]=j>>>16,this[M+2]=j>>>8,this[M+3]=255&j):G(this,j,M,!1),M+4},r.prototype.writeIntLE=function(j,M,A,U){if(j=+j,M|=0,!U){var W=Math.pow(2,8*A-1);H(this,j,M,A,W-1,-W)}var K=0,ae=1,Q=0;for(this[M]=255&j;++K<A&&(ae*=256);)j<0&&Q===0&&this[M+K-1]!==0&&(Q=1),this[M+K]=(j/ae>>0)-Q&255;return M+A},r.prototype.writeIntBE=function(j,M,A,U){if(j=+j,M|=0,!U){var W=Math.pow(2,8*A-1);H(this,j,M,A,W-1,-W)}var K=A-1,ae=1,Q=0;for(this[M+K]=255&j;--K>=0&&(ae*=256);)j<0&&Q===0&&this[M+K+1]!==0&&(Q=1),this[M+K]=(j/ae>>0)-Q&255;return M+A},r.prototype.writeInt8=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,1,127,-128),r.TYPED_ARRAY_SUPPORT||(j=Math.floor(j)),j<0&&(j=255+j+1),this[M]=255&j,M+1},r.prototype.writeInt16LE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[M]=255&j,this[M+1]=j>>>8):q(this,j,M,!0),M+2},r.prototype.writeInt16BE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[M]=j>>>8,this[M+1]=255&j):q(this,j,M,!1),M+2},r.prototype.writeInt32LE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[M]=255&j,this[M+1]=j>>>8,this[M+2]=j>>>16,this[M+3]=j>>>24):G(this,j,M,!0),M+4},r.prototype.writeInt32BE=function(j,M,A){return j=+j,M|=0,A||H(this,j,M,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),r.TYPED_ARRAY_SUPPORT?(this[M]=j>>>24,this[M+1]=j>>>16,this[M+2]=j>>>8,this[M+3]=255&j):G(this,j,M,!1),M+4},r.prototype.writeFloatLE=function(j,M,A){return F(this,j,M,!0,A)},r.prototype.writeFloatBE=function(j,M,A){return F(this,j,M,!1,A)},r.prototype.writeDoubleLE=function(j,M,A){return J(this,j,M,!0,A)},r.prototype.writeDoubleBE=function(j,M,A){return J(this,j,M,!1,A)},r.prototype.copy=function(j,M,A,U){if(A||(A=0),U||U===0||(U=this.length),M>=j.length&&(M=j.length),M||(M=0),U>0&&U<A&&(U=A),U===A||j.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),j.length-M<U-A&&(U=j.length-M+A);var W,K=U-A;if(this===j&&A<M&&M<U)for(W=K-1;W>=0;--W)j[W+M]=this[W+A];else if(K<1e3||!r.TYPED_ARRAY_SUPPORT)for(W=0;W<K;++W)j[W+M]=this[W+A];else Uint8Array.prototype.set.call(j,this.subarray(A,A+K),M);return K},r.prototype.fill=function(j,M,A,U){if(typeof j=="string"){if(typeof M=="string"?(U=M,M=0,A=this.length):typeof A=="string"&&(U=A,A=this.length),j.length===1){var W=j.charCodeAt(0);W<256&&(j=W)}if(U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!r.isEncoding(U))throw new TypeError("Unknown encoding: "+U)}else typeof j=="number"&&(j&=255);if(M<0||this.length<M||this.length<A)throw new RangeError("Out of range index");if(A<=M)return this;var K;if(M>>>=0,A=A===void 0?this.length:A>>>0,j||(j=0),typeof j=="number")for(K=M;K<A;++K)this[K]=j;else{var ae=r.isBuffer(j)?j:ne(new r(j,U).toString()),Q=ae.length;for(K=0;K<A-M;++K)this[K+M]=ae[K%Q]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function X(j){return j<16?"0"+j.toString(16):j.toString(16)}function ne(j,M){var A;M=M||1/0;for(var U=j.length,W=null,K=[],ae=0;ae<U;++ae){if((A=j.charCodeAt(ae))>55295&&A<57344){if(!W){if(A>56319){(M-=3)>-1&&K.push(239,191,189);continue}if(ae+1===U){(M-=3)>-1&&K.push(239,191,189);continue}W=A;continue}if(A<56320){(M-=3)>-1&&K.push(239,191,189),W=A;continue}A=65536+(W-55296<<10|A-56320)}else W&&(M-=3)>-1&&K.push(239,191,189);if(W=null,A<128){if((M-=1)<0)break;K.push(A)}else if(A<2048){if((M-=2)<0)break;K.push(A>>6|192,63&A|128)}else if(A<65536){if((M-=3)<0)break;K.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;K.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return K}function ee(j){return c.toByteArray(function(M){if((M=function(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}(M).replace(z,"")).length<2)return"";for(;M.length%4!=0;)M+="=";return M}(j))}function V(j,M,A,U){for(var W=0;W<U&&!(W+A>=M.length||W>=j.length);++W)M[W+A]=j[W];return W}}).call(this,i(4))},function(s,g,i){var p=i(0),c=i(5),u=i(1),h=function(){function a(l,r,n,o){l&&(this.$container=u.toNode(l),this.$parent=l),this.$config=p.mixin(r,{headerHeight:33}),this.$gantt=o,this.$domEvents=o._createDomEventScope(),this.$id=r.id||"c"+p.uid(),this.$name="cell",this.$factory=n,c(this)}return a.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},a.prototype.cell=function(l){return null},a.prototype.scrollTo=function(l,r){var n=this.$view;this.$config.html&&(n=this.$view.firstChild),1*l==l&&(n.scrollLeft=l),1*r==r&&(n.scrollTop=r)},a.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},a.prototype.resize=function(l){if(this.$parent)return this.$parent.resize(l);l===!1&&(this.$preResize=!0);var r=this.$container,n=r.offsetWidth,o=r.offsetHeight,d=this.getSize();r===document.body&&(n=document.body.offsetWidth,o=document.body.offsetHeight),n<d.minWidth&&(n=d.minWidth),n>d.maxWidth&&(n=d.maxWidth),o<d.minHeight&&(o=d.minHeight),o>d.maxHeight&&(o=d.maxHeight),this.setSize(n,o),this.$preResize,this.$preResize=!1},a.prototype.hide=function(){this._hide(!0),this.resize()},a.prototype.show=function(l){this._hide(!1),l&&this.$parent&&this.$parent.show(),this.resize()},a.prototype._hide=function(l){if(l===!0&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(l===!1&&!this.$view.parentNode){var r=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,r)}this.$config.hidden=l},a.prototype.$toHTML=function(l,r){l===void 0&&(l=""),r=[r||"",this.$config.css||""].join(" ");var n=this.$config,o="";return n.raw?l=typeof n.raw=="string"?n.raw:"":(l||(l="<div class='gantt_layout_content' "+(r?" class='"+r+"' ":"")+" >"+(n.html||"")+"</div>"),n.header&&(o="<div class='gantt_layout_header'>"+(n.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+n.header+"</div></div>")),"<div class='gantt_layout_cell "+r+"' data-cell-id='"+this.$id+"'>"+o+l+"</div>"},a.prototype.$fill=function(l,r){this.$view=l,this.$parent=r,this.init()},a.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},a.prototype.init=function(){var l=this;this._headerClickHandler=function(r){u.locateAttribute(r,"data-cell-id")==l.$id&&l.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},a.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},a.prototype.getSize=function(){var l={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var r=this.$config.mode==="x";l[r?"width":"height"]=l[r?"maxWidth":"maxHeight"]=this.$config.headerHeight}return l},a.prototype.getContentSize=function(){var l=this.$lastSize.contentX;l!==1*l&&(l=this.$lastSize.width);var r=this.$lastSize.contentY;return r!==1*r&&(r=this.$lastSize.height),{width:l,height:r}},a.prototype._getBorderSizes=function(){var l={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(l.left=1,l.horizontal++),this._currentBorders[this._borders.right]&&(l.right=1,l.horizontal++),this._currentBorders[this._borders.top]&&(l.top=1,l.vertical++),this._currentBorders[this._borders.bottom]&&(l.bottom=1,l.vertical++)),l},a.prototype.setSize=function(l,r){this.$view.style.width=l+"px",this.$view.style.height=r+"px";var n=this._getBorderSizes(),o=r-n.vertical,d=l-n.horizontal;this.$lastSize={x:l,y:r,contentX:d,contentY:o},this.$config.header?this._sizeHeader():this._sizeContent()},a.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},a.prototype._setBorders=function(l,r){r||(r=this);var n=r.$view;for(var o in this._borders)u.removeClassName(n,this._borders[o]);typeof l=="string"&&(l=[l]);var d={};for(o=0;o<l.length;o++)u.addClassName(n,l[o]),d[l[o]]=!0;r._currentBorders=d},a.prototype._sizeContent=function(){var l=this.$view.childNodes[0];l&&l.className=="gantt_layout_content"&&(l.style.height=this.$lastSize.contentY+"px")},a.prototype._sizeHeader=function(){var l=this.$lastSize;l.contentY-=this.$config.headerHeight;var r=this.$view.childNodes[0],n=this.$view.childNodes[1],o=this.$config.mode==="x";if(this.$config.collapsed)if(n.style.display="none",o){r.className="gantt_layout_header collapsed_x",r.style.width=l.y+"px";var d=Math.floor(l.y/2-l.x/2);r.style.transform="rotate(90deg) translate("+d+"px, "+d+"px)",n.style.display="none"}else r.className="gantt_layout_header collapsed_y";else r.className=o?"gantt_layout_header":"gantt_layout_header vertical",r.style.width="auto",r.style.transform="",n.style.display="",n.style.height=l.contentY+"px";r.style.height=this.$config.headerHeight+"px"},a}();s.exports=h},function(s,g,i){var p=i(11);s.exports=function(c){return p.isNode||!c.$root}},function(s,g){s.exports=function(i,p,c,u){return(u=p?p.config:u)&&u.placeholder_task&&c.exists(i)?c.getItem(i).type===u.types.placeholder:!1}},function(s,g,i){(function(p){function c(h){"@babel/helpers - typeof";return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(h)}function u(h){return Object.prototype.toString.call(h)}g.isArray=function(h){return Array.isArray?Array.isArray(h):u(h)==="[object Array]"},g.isBoolean=function(h){return typeof h=="boolean"},g.isNull=function(h){return h===null},g.isNullOrUndefined=function(h){return h==null},g.isNumber=function(h){return typeof h=="number"},g.isString=function(h){return typeof h=="string"},g.isSymbol=function(h){return c(h)==="symbol"},g.isUndefined=function(h){return h===void 0},g.isRegExp=function(h){return u(h)==="[object RegExp]"},g.isObject=function(h){return c(h)==="object"&&h!==null},g.isDate=function(h){return u(h)==="[object Date]"},g.isError=function(h){return u(h)==="[object Error]"||h instanceof Error},g.isFunction=function(h){return typeof h=="function"},g.isPrimitive=function(h){return h===null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||c(h)==="symbol"||h===void 0},g.isBuffer=p.isBuffer}).call(this,i(13).Buffer)},function(s,g,i){var p=i(3),c=i(36);s.exports=function(u){var h=i(7)(u);function a(){return h.apply(this,arguments)||this}return p(a,h),a.prototype.render=function(l){var r=(l.height||"23")+"px",n="<div class='gantt_cal_ltext gantt_section_"+l.name+"' style='height:"+r+";'>";return n+=c.getHtmlSelect(l.options,[{key:"style",value:"width:100%;"},{key:"title",value:l.name}]),n+="</div>"},a.prototype.set_value=function(l,r,n,o){var d=l.firstChild;!d._dhx_onchange&&o.onchange&&(d.onchange=o.onchange,d._dhx_onchange=!0),r===void 0&&(r=(d.options[0]||{}).value),d.value=r||""},a.prototype.get_value=function(l){return l.firstChild.value},a.prototype.focus=function(l){var r=l.firstChild;u._focus(r,!0)},a}},function(s,g){s.exports=function(i,p,c,u,h){if(!i.start_date||!i.end_date)return null;var a=c.getItemTop(i.id),l=c.getItemHeight(i.id);if(a>p.y_end||a+l<p.y)return!1;var r=c.posFromDate(i.start_date),n=c.posFromDate(i.end_date),o=Math.min(r,n)-200,d=Math.max(r,n)+200;return!(o>p.x_end||d<p.x)}},function(s,g){s.exports=function(i){return i.config.smart_rendering&&i._smart_render}},function(s,g,i){(function(p){var c;c=typeof window<"u"?window:p,s.exports=c}).call(this,i(4))},function(s,g,i){var p=i(13),c=p.Buffer;function u(a,l){for(var r in a)l[r]=a[r]}function h(a,l,r){return c(a,l,r)}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?s.exports=p:(u(p,g),g.Buffer=h),u(c,h),h.from=function(a,l,r){if(typeof a=="number")throw new TypeError("Argument must not be a number");return c(a,l,r)},h.alloc=function(a,l,r){if(typeof a!="number")throw new TypeError("Argument must be a number");var n=c(a);return l!==void 0?typeof r=="string"?n.fill(l,r):n.fill(l):n.fill(0),n},h.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return c(a)},h.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(a)}},function(s,g,i){(function(p){!p.version||p.version.indexOf("v0.")===0||p.version.indexOf("v1.")===0&&p.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(c,u,h,a){if(typeof c!="function")throw new TypeError('"callback" argument must be a function');var l,r,n=arguments.length;switch(n){case 0:case 1:return p.nextTick(c);case 2:return p.nextTick(function(){c.call(null,u)});case 3:return p.nextTick(function(){c.call(null,u,h)});case 4:return p.nextTick(function(){c.call(null,u,h,a)});default:for(l=new Array(n-1),r=0;r<l.length;)l[r++]=arguments[r];return p.nextTick(function(){c.apply(null,l)})}}}:s.exports=p}).call(this,i(9))},function(s,g,i){var p=i(0);s.exports={createDropTargetObject:function(c){var u={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return c&&p.mixin(u,c,!0),u},nextSiblingTarget:function(c,u,h){var a=this.createDropTargetObject();return a.targetId=u,a.nextSibling=!0,a.targetParent=h.getParent(a.targetId),a.targetIndex=h.getBranchIndex(a.targetId),(h.getParent(c)!=a.targetParent||a.targetIndex<h.getBranchIndex(c))&&(a.targetIndex+=1),a},prevSiblingTarget:function(c,u,h){var a=this.createDropTargetObject();return a.targetId=u,a.prevSibling=!0,a.targetParent=h.getParent(a.targetId),a.targetIndex=h.getBranchIndex(a.targetId),h.getParent(c)==a.targetParent&&a.targetIndex>h.getBranchIndex(c)&&(a.targetIndex-=1),a},firstChildTarget:function(c,u,h){var a=this.createDropTargetObject();return a.targetId=u,a.targetParent=a.targetId,a.targetIndex=0,a.child=!0,a},lastChildTarget:function(c,u,h){var a=h.getChildren(u),l=this.createDropTargetObject();return l.targetId=a[a.length-1],l.targetParent=u,l.targetIndex=a.length,l.nextSibling=!0,l}}},function(s,g,i){var p=i(20);s.exports=function(c,u,h,a){var l=u.width[c];if(l<=0)return!1;if(!a.config.smart_rendering||p(a))return!0;var r=u.left[c]-l,n=u.left[c]+l;return r<=h.x_end&&n>=h.x}},function(s,g){s.exports=function(i,p){var c=0,u=i.left.length-1;if(p)for(var h=0;h<i.left.length;h++){var a=i.left[h];if(a<p.x&&(c=h),a>p.x_end){u=h;break}}return{start:c,end:u}}},function(s,g){s.exports=function(i,p,c){return{top:p.getItemTop(i.id),height:p.getItemHeight(i.id),left:0,right:1/0}}},function(s,g){s.exports=function(i){function p(a,l,r){if(!i._isAllowedUnscheduledTask(a)&&i._isTaskInTimelineLimits(a)){var n=l.getItemPosition(a),o=r,d=l.$getTemplates(),f=i.getTaskType(a.type),_=l.getBarHeight(a.id,f==o.types.milestone),m=0;f==o.types.milestone&&(m=(_-n.height)/2);var v=Math.floor((l.getItemHeight(a.id)-_)/2);f==o.types.milestone&&(n.left-=Math.round(_/2),n.width=_);var y=document.createElement("div"),k=Math.round(n.width);l.$config.item_attribute&&(y.setAttribute(l.$config.item_attribute,a.id),y.setAttribute(l.$config.bind+"_id",a.id)),o.show_progress&&f!=o.types.milestone&&function(N,$,E,D,P){var I=1*N.progress||0;E=Math.max(E-2,0);var O=document.createElement("div"),B=Math.round(E*I);B=Math.min(E,B),N.progressColor&&(O.style.backgroundColor=N.progressColor,O.style.opacity=1),O.style.width=B+"px",O.className="gantt_task_progress",O.innerHTML=P.progress_text(N.start_date,N.end_date,N),D.rtl&&(O.style.position="absolute",O.style.right="0px");var R=document.createElement("div");if(R.className="gantt_task_progress_wrapper",R.appendChild(O),$.appendChild(R),i.config.drag_progress&&!i.isReadonly(N)){var H=document.createElement("div"),q=B;D.rtl&&(q=E-B),H.style.left=q+"px",H.className="gantt_task_progress_drag",O.appendChild(H),$.appendChild(H)}}(a,y,k,o,d);var x=function(N,$,E){var D=document.createElement("div");return i.getTaskType(N.type)!=i.config.types.milestone?D.innerHTML=E.task_text(N.start_date,N.end_date,N):i.getTaskType(N.type)==i.config.types.milestone&&$&&(D.style.height=D.style.width=$+"px"),D.className="gantt_task_content",D}(a,k,d);a.textColor&&(x.style.color=a.textColor),y.appendChild(x);var w=function(N,$,E,D){var P=D.$getConfig(),I=[N];$&&I.push($);var O=i.getState(),B=i.getTask(E);if(i.getTaskType(B.type)==P.types.milestone?I.push("gantt_milestone"):i.getTaskType(B.type)==P.types.project&&I.push("gantt_project"),I.push("gantt_bar_"+i.getTaskType(B.type)),i.isSummaryTask(B)&&I.push("gantt_dependent_task"),i.isSplitTask(B)&&(P.open_split_tasks&&!B.$open||!P.open_split_tasks)&&I.push("gantt_split_parent"),P.select_task&&i.isSelectedTask(E)&&I.push("gantt_selected"),E==O.drag_id&&(I.push("gantt_drag_"+O.drag_mode),O.touch_drag&&I.push("gantt_touch_"+O.drag_mode)),O.link_source_id==E&&I.push("gantt_link_source"),O.link_target_id==E&&I.push("gantt_link_target"),P.highlight_critical_path&&i.isCriticalTask&&i.isCriticalTask(B)&&I.push("gantt_critical_task"),O.link_landing_area&&O.link_target_id&&O.link_source_id&&O.link_target_id!=O.link_source_id&&(O.link_target_id==E||O.link_source_id==E)){var R=O.link_source_id,H=O.link_from_start,q=O.link_to_start,G=i.isLinkAllowed(R,E,H,q),L="";L=G?q?"link_start_allow":"link_finish_allow":q?"link_start_deny":"link_finish_deny",I.push(L)}return I.join(" ")}("gantt_task_line",d.task_class(a.start_date,a.end_date,a),a.id,l);(a.color||a.progressColor||a.textColor)&&(w+=" gantt_task_inline_color"),n.width<20&&(w+=" gantt_thin_task"),y.className=w;var b=["left:"+n.left+"px","top:"+(v+n.top)+"px","height:"+(f==o.types.milestone?n.height:_)+"px","line-height:"+Math.max(_<30?_-2:_,0)+"px","width:"+k+"px"];a.color&&b.push("background-color:"+a.color),a.textColor&&b.push("color:"+a.textColor),y.style.cssText=b.join(";");var S=function(N,$,E,D){var P="gantt_left "+u(!$.rtl,N),I=null;return D&&(I={type:"marginRight",value:D}),c(N,E.leftside_text,P,I)}(a,o,d,m);S&&y.appendChild(S),(S=function(N,$,E,D){var P="gantt_right "+u(!!$.rtl,N),I=null;return D&&(I={type:"marginLeft",value:D}),c(N,E.rightside_text,P,I)}(a,o,d,m))&&y.appendChild(S),i._waiAria.setTaskBarAttr(a,y);var T=i.getState();return i.isReadonly(a)||(o.drag_resize&&!i.isSummaryTask(a)&&f!=o.types.milestone&&h(y,"gantt_task_drag",a,function(N){var $=document.createElement("div");return $.className=N,$},o),o.drag_links&&o.show_links&&h(y,"gantt_link_control",a,function(N){var $=document.createElement("div");$.className=N,$.style.cssText=["height:"+_+"px","line-height:"+_+"px"].join(";");var E=document.createElement("div");E.className="gantt_link_point";var D=!1;return T.link_source_id&&o.touch&&(D=!0),E.style.display=D?"block":"",$.appendChild(E),$},o,m)),y}}function c(a,l,r,n){if(!l)return null;var o=l(a.start_date,a.end_date,a);if(!o)return null;var d=document.createElement("div");return d.className="gantt_side_content "+r,d.innerHTML=o,n&&(d.style[n.type]=Math.abs(n.value)+"px"),d}function u(a,l){var r=function(m){return m?{$source:[i.config.links.start_to_start],$target:[i.config.links.start_to_start,i.config.links.finish_to_start]}:{$source:[i.config.links.finish_to_start,i.config.links.finish_to_finish],$target:[i.config.links.finish_to_finish]}}(a);for(var n in r)for(var o=l[n],d=0;d<o.length;d++)for(var f=i.getLink(o[d]),_=0;_<r[n].length;_++)if(f.type==r[n][_])return"gantt_link_crossing";return""}function h(a,l,r,n,o,d){var f,_=i.getState();+r.start_date>=+_.min_date&&((f=n([l,o.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),d&&(f.style.marginLeft=d+"px"),a.appendChild(f)),+r.end_date<=+_.max_date&&((f=n([l,o.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),d&&(f.style.marginRight=d+"px"),a.appendChild(f))}return function(a,l,r){var n=(r=l.$getConfig()).type_renderers[i.getTaskType(a.type)],o=p;return n?n.call(i,a,function(d){return o.call(i,d,l,r)},l):o.call(i,a,l,r)}}},function(s,g,i){var p=i(33),c=i(5),u=i(0),h=i(2),a=i(43),l=i(131),r=function(n,o,d,f){this.$config=u.mixin({},o||{}),this.$scaleHelper=new p(f),this.$gantt=f,this._posFromDateCache={},this._timelineDragScroll=null,u.mixin(this,a(this)),c(this)};r.prototype={init:function(n){n.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=n.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var o=this.$getConfig(),d=o[this.$config.bind+"_attribute"],f=o[this.$config.bindLinks+"_attribute"];!d&&this.$config.bind&&(d="data-"+this.$config.bind+"-id"),!f&&this.$config.bindLinks&&(f="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=d||null,this.$config.link_attribute=f||null;var _=this._createLayerConfig();this.$config.layers||(this.$config.layers=_.tasks),this.$config.linkLayers||(this.$config.linkLayers=_.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(n,o){var d=this.$getConfig();if(1*n===n&&(this.$config.width=n),1*o===o){this.$config.height=o;var f=Math.max(this.$config.height-d.scale_height);this.$task_data.style.height=f+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",d.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var _=this._tasks,m=this.$task_data.childNodes,v=0,y=m.length;v<y;v++){var k=m[v];k.hasAttribute("data-layer")&&k.style&&(k.style.width=_.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var n=this.$getConfig(),o=this.$config.rowStore?this.getTotalHeight():0,d=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?d:0,contentY:this.isVisible()?n.scale_height+o:0,scrollHeight:this.isVisible()?o:0,scrollWidth:this.isVisible()?d:0}},scrollTo:function(n,o){if(this.isVisible()){var d=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*o===o&&(this.$config.scrollTop=o,this.$task_data.scrollTop=this.$config.scrollTop,d=!0),1*n===n&&(this.$task.scrollLeft=n,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),d=!0),d&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var n=this.getViewPort(),o=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(o,n.x,n.x_end)}},getViewPort:function(){var n=this.$config.scrollLeft||0,o=this.$config.scrollTop||0,d=this.$config.height||0,f=this.$config.width||0;return{y:o,y_end:o+d,x:n,x_end:n+f,height:d,width:f}},_createLayerConfig:function(){var n=this,o=function(){return n.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[o,function(d,f){return!f.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[o],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[o],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[o]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[o]}]}},_attachLayers:function(n){this._taskLayers=[],this._linkLayers=[];var o=this,d=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var f=d.getDataRender(this.$config.bind);f||(f=d.createDataRender({name:this.$config.bind,defaultContainer:function(){return o.$task_data}})),f.container=function(){return o.$task_data};for(var _=this.$config.layers,m=0;_&&m<_.length;m++){typeof(x=_[m])=="string"&&(x=this.$gantt.$ui.layers[x]()),(typeof x=="function"||x&&x.render&&x.update)&&(x={renderer:x}),x.view=this;var v=f.addLayer(x);this._taskLayers.push(v),x.expose&&(this._taskRenderer=f.getLayer(v))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){o.$config.linkStore=o.$gantt.getDatastore(o.$config.bindLinks);var y=d.getDataRender(this.$config.bindLinks);y||(y=d.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return o.$task_data}}));var k=this.$config.linkLayers;for(m=0;k&&m<k.length;m++){var x;typeof x=="string"&&(x=this.$gantt.$ui.layers[x]()),(x=k[m]).view=this;var w=y.addLayer(x);this._taskLayers.push(w),k[m].expose&&(this._linkRenderer=y.getLayer(w))}}},_initStaticBackgroundRender:function(){var n=this,o=l.create(),d=n.$config.rowStore;d&&(this._staticBgHandler=d.attachEvent("onStoreUpdated",function(f,_,m){if(f===null&&n.isVisible()){var v=n.$getConfig();if(v.static_background||v.timeline_placeholder){var y=n.$gantt.getDatastore(n.$config.bind),k=n.$task_bg_static;if(k||((k=document.createElement("div")).className="gantt_task_bg",n.$task_bg_static=k,n.$task_bg.nextSibling?n.$task_data.insertBefore(k,n.$task_bg.nextSibling):n.$task_data.appendChild(k)),y){var x=n.getTotalHeight();v.timeline_placeholder&&(x=v.timeline_placeholder.height||n.$task_data.offsetHeight||99999),o.render(k,v,n.getScale(),x,n.getItemHeight(_?_.id:null))}}else v.static_background&&n.$task_bg_static&&n.$task_bg_static.parentNode&&n.$task_bg_static.parentNode.removeChild(n.$task_bg_static)}}),this.attachEvent("onDestroy",function(){o.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(n){var o=this.$gantt.$services.getService("layers"),d=o.getDataRender(this.$config.bind),f=o.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var _=0;_<this._taskLayers.length;_++)d.removeLayer(this._taskLayers[_]);if(this._linkLayers)for(_=0;_<this._linkLayers.length;_++)f.removeLayer(this._linkLayers[_]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var n=this.$getConfig(),o="",d=0,f=0,_=this.$gantt.getState();if(this.isVisible()){var m=this.$scaleHelper,v=this._getScales();f=n.scale_height;var y=this.$config.width;n.autosize!="x"&&n.autosize!="xy"||(y=Math.max(n.autosize_min_width,0));var k=m.prepareConfigs(v,n.min_column_width,y,f-1,_.min_date,_.max_date,n.rtl),x=this._tasks=k[k.length-1];this._scales=k,this._posFromDateCache={},o=this._getScaleChunkHtml(k,0,this.$config.width),d=x.full_width+"px",f+="px"}this.$task_scale.style.height=f,this.$task_data.style.width=this.$task_scale.style.width=d,this.$task_scale.innerHTML=o},_getScaleChunkHtml:function(n,o,d){for(var f=[],_=this.$gantt.templates.scale_row_class,m=0;m<n.length;m++){var v="gantt_scale_line",y=_(n[m]);y&&(v+=" "+y),f.push('<div class="'+v+'" style="height:'+n[m].height+"px;position:relative;line-height:"+n[m].height+'px">'+this._prepareScaleHtml(n[m],o,d)+"</div>")}return f.join("")},_prepareScaleHtml:function(n,o,d){var f=this.$getConfig(),_=this.$gantt.templates,m=[],v=null,y=null,k=n.format||n.template||n.date;typeof k=="string"&&(k=this.$gantt.date.date_to_str(k));var x=0,w=n.count;!f.smart_scales||isNaN(o)||isNaN(d)||(x=h.findBinary(n.left,o),w=h.findBinary(n.left,d)+1),y=n.css||function(){},!n.css&&f.inherit_scale_class&&(y=_.scale_cell_class);for(var b=x;b<w&&n.trace_x[b];b++){v=new Date(n.trace_x[b]);var S=k.call(this,v),T=n.width[b],N=n.height,$=n.left[b],E="",D="",P="";if(T){E="width:"+T+"px;height:"+N+"px;"+(f.smart_scales?"position:absolute;left:"+$+"px":""),P="gantt_scale_cell"+(b==n.count-1?" gantt_last_cell":""),(D=y.call(this,v))&&(P+=" "+D);var I="<div class='"+P+"'"+this.$gantt._waiAria.getTimelineCellAttr(S)+" style='"+E+"'>"+S+"</div>";m.push(I)}}return m.join("")},dateFromPos:function(n){var o=this._tasks;if(n<0||n>o.full_width||!o.full_width)return null;var d=h.findBinary(this._tasks.left,n),f=this._tasks.left[d],_=o.width[d]||o.col_width,m=0;_&&(m=(n-f)/_,o.rtl&&(m=1-m));var v=0;return m&&(v=this._getColumnDuration(o,o.trace_x[d])),new Date(o.trace_x[d].valueOf()+Math.round(m*v))},posFromDate:function(n){if(!this.isVisible()||!n)return 0;var o=String(n.valueOf());if(this._posFromDateCache[o]!==void 0)return this._posFromDateCache[o];var d=this.columnIndexByDate(n);this.$gantt.assert(d>=0,"Invalid day index");var f=Math.floor(d),_=d%1,m=this._tasks.left[Math.min(f,this._tasks.width.length-1)];f==this._tasks.width.length&&(m+=this._tasks.width[this._tasks.width.length-1]),_&&(f<this._tasks.width.length?m+=this._tasks.width[f]*(_%1):m+=1);var v=Math.round(m);return this._posFromDateCache[o]=v,Math.round(v)},_getNextVisibleColumn:function(n,o,d){for(var f=+o[n],_=n;d[f];)f=+o[++_];return _},_getPrevVisibleColumn:function(n,o,d){for(var f=+o[n],_=n;d[f];)f=+o[--_];return _},_getClosestVisibleColumn:function(n,o,d){var f=this._getNextVisibleColumn(n,o,d);return o[f]||(f=this._getPrevVisibleColumn(n,o,d)),f},columnIndexByDate:function(n){var o=new Date(n).valueOf(),d=this._tasks.trace_x_ascending,f=this._tasks.ignore_x,_=this.$gantt.getState();if(o<=_.min_date)return this._tasks.rtl?d.length:0;if(o>=_.max_date)return this._tasks.rtl?0:d.length;var m=h.findBinary(d,o),v=this._getClosestVisibleColumn(m,d,f),y=d[v],k=this._tasks.trace_index_transition;if(!y)return k?k[0]:0;var x=(n-d[v])/this._getColumnDuration(this._tasks,d[v]);return k?k[v]+(1-x):v+x},getItemPosition:function(n,o,d){var f,_,m;return this._tasks.rtl?(_=this.posFromDate(o||n.start_date),f=this.posFromDate(d||n.end_date)):(f=this.posFromDate(o||n.start_date),_=this.posFromDate(d||n.end_date)),m=Math.max(_-f,0),{left:f,top:this.getItemTop(n.id),height:this.getBarHeight(n.id),width:m,rowHeight:this.getItemHeight(n.id)}},getBarHeight:function(n,o){var d=this.$getConfig(),f=this.$config.rowStore.getItem(n),_=f.task_height||f.bar_height||d.bar_height||d.task_height,m=this.getItemHeight(n);return _=="full"&&(_=m-(d.task_height_offset||5)),_=Math.min(_,m),o&&(_=Math.round(_/Math.sqrt(2))),Math.max(_,0)},getScale:function(){return this._tasks},_getScales:function(){var n=this.$getConfig(),o=this.$scaleHelper,d=[o.primaryScale(n)].concat(o.getSubScales(n));return o.sortScales(d),d},_getColumnDuration:function(n,o){return this.$gantt.date.add(o,n.step,n.unit)-o},_bindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=n,n&&!n._timelineCacheAttached){var o=this;n._timelineCacheAttached=n.attachEvent("onBeforeFilter",function(){o._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);n&&n._timelineCacheAttached&&(n.detachEvent(n._timelineCacheAttached),n._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var n=this.$gantt;this._clearLayers(n),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},s.exports=r},function(s,g){s.exports=function(i,p,c){return{top:p.getItemTop(i.id),height:p.getItemHeight(i.id),left:0,right:1/0}}},function(s,g){s.exports=function(i){var p=[];return{delegate:function(c,u,h,a){p.push([c,u,h,a]),i.$services.getService("mouseEvents").delegate(c,u,h,a)},destructor:function(){for(var c=i.$services.getService("mouseEvents"),u=0;u<p.length;u++){var h=p[u];c.detach(h[0],h[1],h[2],h[3])}p=[]}}}},function(s,g,i){var p=i(1),c=i(0),u=i(5),h=i(212),a=i(43),l=i(210),r=i(209).default,n=function(o,d,f,_){this.$config=c.mixin({},d||{}),this.$gantt=_,this.$parent=o,u(this),this.$state={},c.mixin(this,a(this))};n.prototype={init:function(o){var d=this.$gantt,f=d._waiAria.gridAttrString(),_=d._waiAria.gridDataAttrString(),m=this.$getConfig(),v=m.reorder_grid_columns||!1;this.$config.reorder_grid_columns!==void 0&&(v=this.$config.reorder_grid_columns),o.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+f+"></div>",this.$grid=o.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+d._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+_+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var y=m[this.$config.bind+"_attribute"];if(!y&&this.$config.bind&&(y="data-"+this.$config.bind+"-id"),this.$config.item_attribute=y||null,!this.$config.layers){var k=this._createLayerConfig();this.$config.layers=k}var x=h(d,this);x.init(),this._renderHeaderResizers=x.doOnRender,this._mouseDelegates=i(31)(d),l(d,this).init(),this._addLayers(this.$gantt),this._initEvents(),v&&(this._columnDND=new r(d,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(o,d){var f=o[d];if(f&&f!="*"){var _=this.$gantt,m=1*f;isNaN(m)?_.assert(!1,"Wrong "+d+" value of column "+o.name):o[d]=m}},setSize:function(o,d){this.$config.width=this.$state.width=o,this.$config.height=this.$state.height=d;for(var f,_=this.getGridColumns(),m=0,v=(S=this.$getConfig()).grid_elastic_columns,y=0,k=_.length;y<k;y++)this._validateColumnWidth(_[y],"min_width"),this._validateColumnWidth(_[y],"max_width"),this._validateColumnWidth(_[y],"width"),m+=1*_[y].width;if(!isNaN(m)&&this.$config.scrollable||(m=f=this._setColumnsWidth(o+1)),this.$config.scrollable&&v&&!isNaN(m)){var x="width";v=="min_width"&&(x="min_width");var w=0;_.forEach(function(N){w+=N[x]||S.min_grid_column_width});var b=Math.max(w,o);m=this._setColumnsWidth(b),f=o}this.$config.scrollable?(this.$grid_scale.style.width=m+"px",this.$grid_data.style.width=m+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var S=this.$getConfig();f!==o&&(f!==void 0?(S.grid_width=f,this.$config.width=f-1):isNaN(m)||(this._setColumnsWidth(m),S.grid_width=m,this.$config.width=m-1));var T=Math.max(this.$state.height-S.scale_height,0);this.$grid_data.style.height=T+"px",this.refresh()},getSize:function(){var o=this.$getConfig(),d=this.$config.rowStore?this.getTotalHeight():0,f=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?f:0,contentY:this.isVisible()?o.scale_height+d:0,scrollHeight:this.isVisible()?d:0,scrollWidth:this.isVisible()?f:0}},_bindStore:function(){if(this.$config.bind){var o=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=o,o&&!o._gridCacheAttached){var d=this;o._gridCacheAttached=o.attachEvent("onBeforeFilter",function(){d._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var o=this.$gantt.getDatastore(this.$config.bind);o&&o._gridCacheAttached&&(o.detachEvent(o._gridCacheAttached),o._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var o=this.$config.scrollLeft||0,d=this.$config.scrollTop||0,f=this.$config.height||0,_=this.$config.width||0;return{y:d,y_end:d+f,x:o,x_end:o+_,height:f,width:_}},scrollTo:function(o,d){if(this.isVisible()){var f=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*o==o&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=o,f=!0),1*d==d&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=d,f=!0),f&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(o,d){for(var f=this.$getConfig().columns,_=0,m=0;m<f.length;m++)if(d&&f[m].hide&&_++,f[m].name==o)return m-_;return null},getColumn:function(o){var d=this.getColumnIndex(o);return d===null?null:this.$getConfig().columns[d]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var o=this.$gantt,d=this;return[{renderer:o.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return d.isVisible()}]},{renderer:o.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return o.config.resize_rows}]}]},_addLayers:function(o){if(this.$config.bind){this._taskLayers=[];var d=this,f=this.$gantt.$services.getService("layers"),_=f.getDataRender(this.$config.bind);_||(_=f.createDataRender({name:this.$config.bind,defaultContainer:function(){return d.$grid_data}}));for(var m=this.$config.layers,v=0;m&&v<m.length;v++){var y=m[v];y.view=this;var k=_.addLayer(y);this._taskLayers.push(k)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(o){var d=this.$getConfig(),f=this.$config.rowStore;if(f&&o===null&&this.isVisible()&&d.smart_rendering){var _;if(this.$config.scrollY){var m=this.$gantt.$ui.getView(this.$config.scrollY);m&&(_=m.getScrollState().scrollSize)}if(_||(_=f?this.getTotalHeight():0),_){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var v=this.$rowsPlaceholder=document.createElement("div");v.style.visibility="hidden",v.style.height=_+"px",v.style.width="1px",this.$grid_data.appendChild(v)}}},_initSmartRenderingPlaceholder:function(){var o=this.$config.rowStore;o&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=o.attachEvent("onStoreUpdated",c.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var o=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",o.bind(function(d,f,_){var m=this.$config.rowStore;if(!m)return!0;var v=p.locateAttribute(d,this.$config.item_attribute);return v&&m.close(v.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",o.bind(function(d,f,_){var m=this.$config.rowStore;if(!m)return!0;var v=p.locateAttribute(d,this.$config.item_attribute);return v&&m.open(v.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(o){var d=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var f=0;f<this._taskLayers.length;f++)d.removeLayer(this._taskLayers[f]);this._taskLayers=[]},_getColumnWidth:function(o,d,f){var _=o.min_width||d.min_grid_column_width,m=Math.max(f,_||10);return o.max_width&&(m=Math.min(m,o.max_width)),m},_checkGridColumnMinWidthLimits:function(o,d){for(var f=0,_=o.length;f<_;f++){var m=1*o[f].width;!o[f].min_width&&m<d.min_grid_column_width&&(o[f].min_width=m)}},_getGridWidthLimits:function(){for(var o=this.$getConfig(),d=this.getGridColumns(),f=0,_=0,m=0;m<d.length;m++)f+=d[m].min_width?d[m].min_width:o.min_grid_column_width,_!==void 0&&(_=d[m].max_width?_+d[m].max_width:void 0);return this._checkGridColumnMinWidthLimits(d,o),[f,_]},_setColumnsWidth:function(o,d){var f=this.$getConfig(),_=this.getGridColumns(),m=0,v=o;d=window.isNaN(d)?-1:d;for(var y=0,k=_.length;y<k;y++)m+=1*_[y].width;if(window.isNaN(m))for(this._calculateGridWidth(),m=0,y=0,k=_.length;y<k;y++)m+=1*_[y].width;var x=v-m,w=0;for(y=0;y<d+1;y++)w+=_[y].width;for(m-=w,y=d+1;y<_.length;y++){var b=_[y],S=Math.round(x*(b.width/m));x<0?b.min_width&&b.width+S<b.min_width?S=b.min_width-b.width:!b.min_width&&f.min_grid_column_width&&b.width+S<f.min_grid_column_width&&(S=f.min_grid_column_width-b.width):b.max_width&&b.width+S>b.max_width&&(S=b.max_width-b.width),m-=b.width,b.width+=S,x-=S}for(var T=x>0?1:-1;x>0&&T===1||x<0&&T===-1;){var N=x;for(y=d+1;y<_.length;y++){var $;if(($=_[y].width+T)==this._getColumnWidth(_[y],f,$)&&(x-=T,_[y].width=$),!x)break}if(N==x)break}return x&&d>-1&&($=_[d].width+x)==this._getColumnWidth(_[d],f,$)&&(_[d].width=$),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var o=this.getGridColumns(),d=0,f=0;f<o.length;f++){var _=parseFloat(o[f].width);if(window.isNaN(_))return!1;d+=_}return d},_calculateGridWidth:function(){for(var o=this.$getConfig(),d=this.getGridColumns(),f=0,_=[],m=[],v=0;v<d.length;v++){var y=parseFloat(d[v].width);window.isNaN(y)&&(y=o.min_grid_column_width||10,_.push(v)),m[v]=y,f+=y}var k=this._getGridWidth()+1;if(o.autofit||_.length){var x=k-f;if(o.autofit&&!o.grid_elastic_columns)for(v=0;v<m.length;v++){var w=Math.round(x/(m.length-v));m[v]+=w,(b=this._getColumnWidth(d[v],o,m[v]))!=m[v]&&(w=b-m[v],m[v]=b),x-=w}else if(_.length)for(v=0;v<_.length;v++){w=Math.round(x/(_.length-v));var b,S=_[v];m[S]+=w,(b=this._getColumnWidth(d[S],o,m[S]))!=m[S]&&(w=b-m[S],m[S]=b),x-=w}for(v=0;v<m.length;v++)d[v].width=m[v]}else{var T=k!=f;this.$config.width=f-1,o.grid_width=f,T&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var o=this.$gantt,d=this.$getConfig(),f=this.$gantt.locale,_=this.$gantt.templates,m=this.getGridColumns();d.rtl&&(m=m.reverse());for(var v=[],y=0,k=f.labels,x=d.scale_height-1,w=0;w<m.length;w++){var b=w==m.length-1,S=m[w];S.name||(S.name=o.uid()+"");var T=1*S.width,N=this._getGridWidth();b&&N>y+T&&(S.width=T=N-y),y+=T;var $=o._sort&&S.name==o._sort.name?'<div data-column-id="'.concat(S.name,'" class="gantt_sort gantt_').concat(o._sort.direction,'"></div>'):"",E=["gantt_grid_head_cell","gantt_grid_head_"+S.name,b?"gantt_last_cell":"",_.grid_header_class(S.name,S)].join(" "),D="width:"+(T-(b?1:0))+"px;",P=S.label||k["column_"+S.name]||k[S.name];P=P||"";var I="<div class='"+E+"' style='"+D+"' "+o._waiAria.gridScaleCellAttrString(S,P)+" data-column-id='"+S.name+"' column_id='"+S.name+"' data-column-name='"+S.name+"' data-column-index='"+w+"'>"+P+$+"</div>";v.push(I)}this.$grid_scale.style.height=d.scale_height+"px",this.$grid_scale.style.lineHeight=x+"px",this.$grid_scale.innerHTML=v.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},s.exports=n},function(s,g,i){var p=i(0);s.exports=function(c){var u=c.date,h=c.$services;return{getSum:function(a,l,r){r===void 0&&(r=a.length-1),l===void 0&&(l=0);for(var n=0,o=l;o<=r;o++)n+=a[o];return n},setSumWidth:function(a,l,r,n){var o=l.width;n===void 0&&(n=o.length-1),r===void 0&&(r=0);var d=n-r+1;if(!(r>o.length-1||d<=0||n>o.length-1)){var f=a-this.getSum(o,r,n);this.adjustSize(f,o,r,n),this.adjustSize(-f,o,n+1),l.full_width=this.getSum(o)}},splitSize:function(a,l){for(var r=[],n=0;n<l;n++)r[n]=0;return this.adjustSize(a,r),r},adjustSize:function(a,l,r,n){r||(r=0),n===void 0&&(n=l.length-1);for(var o=n-r+1,d=this.getSum(l,r,n),f=r;f<=n;f++){var _=Math.floor(a*(d?l[f]/d:1/o));d-=l[f],a-=_,o--,l[f]+=_}l[l.length-1]+=a},sortScales:function(a){function l(n,o){var d=new Date(1970,0,1);return u.add(d,o,n)-d}a.sort(function(n,o){return l(n.unit,n.step)<l(o.unit,o.step)?1:l(n.unit,n.step)>l(o.unit,o.step)?-1:0});for(var r=0;r<a.length;r++)a[r].index=r},_isLegacyMode:function(a){var l=a||c.config;return l.scale_unit||l.date_scale||l.subscales},_prepareScaleObject:function(a){var l=a.format;return l||(l=a.template||a.date||"%d %M"),typeof l=="string"&&(l=c.date.date_to_str(l)),{unit:a.unit||"day",step:a.step||1,format:l,css:a.css}},primaryScale:function(a){var l,r=h.getService("templateLoader"),n=this._isLegacyMode(a),o=a||c.config;if(n)r.initTemplate("date_scale",void 0,void 0,o,c.config.templates),l={unit:c.config.scale_unit,step:c.config.step,template:c.templates.date_scale,date:c.config.date_scale,css:c.templates.scale_cell_class};else{var d=o.scales[0];l={unit:d.unit,step:d.step,template:d.template,format:d.format,date:d.date,css:d.css||c.templates.scale_cell_class}}return this._prepareScaleObject(l)},getSubScales:function(a){var l=this._isLegacyMode(a),r=a||c.config;return(l?r.subscales||[]:r.scales.slice(1)).map((function(n){return this._prepareScaleObject(n)}).bind(this))},prepareConfigs:function(a,l,r,n,o,d,f){for(var _=this.splitSize(n,a.length),m=r,v=[],y=a.length-1;y>=0;y--){var k=y==a.length-1,x=this.initScaleConfig(a[y],o,d);k&&this.processIgnores(x),this.initColSizes(x,l,m,_[y]),this.limitVisibleRange(x),k&&(m=x.full_width),v.unshift(x)}for(y=0;y<v.length-1;y++)this.alineScaleColumns(v[v.length-1],v[y]);for(y=0;y<v.length;y++)f&&this.reverseScale(v[y]),this.setPosSettings(v[y]);return v},reverseScale:function(a){a.width=a.width.reverse(),a.trace_x=a.trace_x.reverse();var l=a.trace_indexes;a.trace_indexes={},a.trace_index_transition={},a.rtl=!0;for(var r=0;r<a.trace_x.length;r++)a.trace_indexes[a.trace_x[r].valueOf()]=r,a.trace_index_transition[l[a.trace_x[r].valueOf()]]=r;return a},setPosSettings:function(a){for(var l=0,r=a.trace_x.length;l<r;l++)a.left.push((a.width[l-1]||0)+(a.left[l-1]||0))},_ignore_time_config:function(a,l){if(c.config.skip_off_time){for(var r=!0,n=a,o=0;o<l.step;o++)o&&(n=u.add(a,o,l.unit)),r=r&&!this.isWorkTime(n,l.unit);return r}return!1},processIgnores:function(a){a.ignore_x={},a.display_count=a.count},initColSizes:function(a,l,r,n){var o=r;a.height=n;var d=a.display_count===void 0?a.count:a.display_count;d||(d=1),a.col_width=Math.floor(o/d),l&&a.col_width<l&&(a.col_width=l,o=a.col_width*d),a.width=[];for(var f=a.ignore_x||{},_=0;_<a.trace_x.length;_++)if(f[a.trace_x[_].valueOf()]||a.display_count==a.count)a.width[_]=0;else{var m=1;a.unit=="month"&&(m=Math.round((u.add(a.trace_x[_],a.step,a.unit)-a.trace_x[_])/864e5)),a.width[_]=m}this.adjustSize(o-this.getSum(a.width),a.width),a.full_width=this.getSum(a.width)},initScaleConfig:function(a,l,r){var n=p.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(l),max_date:new Date(r)},a);return this.eachColumn(a.unit,a.step,l,r,function(o){n.count++,n.trace_x.push(new Date(o)),n.trace_indexes[o.valueOf()]=n.trace_x.length-1}),n.trace_x_ascending=n.trace_x.slice(),n},iterateScales:function(a,l,r,n,o){for(var d=l.trace_x,f=a.trace_x,_=r||0,m=n||f.length-1,v=0,y=1;y<d.length;y++){var k=a.trace_indexes[+d[y]];k!==void 0&&k<=m&&(o&&o.apply(this,[v,y,_,k]),_=k,v=y)}},alineScaleColumns:function(a,l,r,n){this.iterateScales(a,l,r,n,function(o,d,f,_){var m=this.getSum(a.width,f,_-1);this.getSum(l.width,o,d-1)!=m&&this.setSumWidth(m,l,o,d-1)})},eachColumn:function(a,l,r,n,o){var d=new Date(r),f=new Date(n);u[a+"_start"]&&(d=u[a+"_start"](d));var _=new Date(d);for(+_>=+f&&(f=u.add(_,l,a));+_<+f;){o.call(this,new Date(_));var m=_.getTimezoneOffset();_=u.add(_,l,a),_=c._correct_dst_change(_,m,l,a),u[a+"_start"]&&(_=u[a+"_start"](_))}},limitVisibleRange:function(a){var l=a.trace_x,r=a.width.length-1,n=0;if(+l[0]<+a.min_date&&r!=0){var o=Math.floor(a.width[0]*((l[1]-a.min_date)/(l[1]-l[0])));n+=a.width[0]-o,a.width[0]=o,l[0]=new Date(a.min_date)}var d=l.length-1,f=l[d],_=u.add(f,a.step,a.unit);if(+_>+a.max_date&&d>0&&(o=a.width[d]-Math.floor(a.width[d]*((_-a.max_date)/(_-f))),n+=a.width[d]-o,a.width[d]=o),n){for(var m=this.getSum(a.width),v=0,y=0;y<a.width.length;y++){var k=Math.floor(n*(a.width[y]/m));a.width[y]+=k,v+=k}this.adjustSize(n-v,a.width)}}}}},,function(s,g,i){},function(s,g,i){var p=i(2),c={getHtmlSelect:function(a,l,r){var n="",o=this;return a=a||[],p.forEach(a,function(d){var f=[{key:"value",value:d.key}];r==d.key&&(f[f.length]={key:"selected",value:"selected"}),d.attributes&&(f=f.concat(d.attributes)),n+=o.getHtmlOption({innerHTML:d.label},f)}),u("select",{innerHTML:n},l)},getHtmlOption:function(a,l){return u("option",a,l)},getHtmlButton:function(a,l){return u("button",a,l)},getHtmlDiv:function(a,l){return u("div",a,l)},getHtmlLabel:function(a,l){return u("label",a,l)},getHtmlInput:function(a){return"<input"+h(a||[])+">"}};function u(a,l,r){return l=l||[],"<"+a+h(r||[])+">"+(l.innerHTML||"")+"</"+a+">"}function h(a){var l="";return p.forEach(a,function(r){l+=" "+r.key+"='"+r.value+"'"}),l}s.exports=c},function(s,g,i){var p=i(2);s.exports=function(c){var u={};return c.$data.tasksStore.attachEvent("onStoreUpdated",function(){u={}}),function(h,a,l,r){var n=h.id+"_"+a+"_"+l.unit+"_"+l.step;return u[n]?u[n]:u[n]=function(o,d,f,_){var m,v=!1,y={};c.config.process_resource_assignments&&d===c.config.resource_property?(m=o.$role=="task"?c.getResourceAssignments(o.$resource_id,o.$task_id):c.getResourceAssignments(o.id),v=!0):m=o.$role=="task"?[]:c.getTaskBy(d,o.id),y=function(P,I,O){for(var B=I.unit,R=I.step,H={},q={},G=0;G<P.length;G++){var L=P[G],F=L;if(O&&(F=c.getTask(L.task_id)),!F.unscheduled){var J=L.start_date||F.start_date,z=L.end_date||F.end_date;O&&(L.start_date&&(J=new Date(Math.max(L.start_date.valueOf(),F.start_date.valueOf()))),L.end_date&&(z=new Date(Math.min(L.end_date.valueOf(),F.end_date.valueOf()))),L.mode&&L.mode=="fixedDates"&&(J=L.start_date,z=L.end_date));var X=p.findBinary(I.trace_x,J.valueOf()),ne=new Date(I.trace_x[X]||c.date[B+"_start"](new Date(J))),ee=new Date(Math.min(J.valueOf(),ne.valueOf())),V=c.config.work_time?c.getTaskCalendar(F):c;for(q[V.id]={};ee<z;){var j=q[V.id],M=ee,A=M.valueOf();if(ee=c.date.add(ee,R,B),j[A]!==!1){var U=V.isWorkTime({date:M,task:F,unit:B});U?(H[A]||(H[A]={tasks:[],assignments:[]}),H[A].tasks.push(F),O&&H[A].assignments.push(L)):j[A]=!1}}}}return H}(m,f,v);for(var k,x,w,b,S,T=f.unit,N=f.step,$=[],E=_.$getConfig(),D=0;D<f.trace_x.length;D++)k=new Date(f.trace_x[D]),x=c.date.add(k,N,T),S=y[k.valueOf()]||{},w=S.tasks||[],b=S.assignments||[],w.length||E.resource_render_empty_cells?$.push({start_date:k,end_date:x,tasks:w,assignments:b}):$.push(null);return $}(h,a,l,r)}}},function(s,g,i){var p=i(3),c=i(1),u=function(h){function a(l,r,n){var o=h.apply(this,arguments)||this;return l&&(o.$root=!0),o._parseConfig(r),o.$name="layout",o}return p(a,h),a.prototype.destructor=function(){this.$container&&this.$view&&c.removeNode(this.$view);for(var l=0;l<this.$cells.length;l++)this.$cells[l].destructor();this.$cells=[],h.prototype.destructor.call(this)},a.prototype._resizeScrollbars=function(l,r){var n,o=!1,d=[],f=[],_=[];function m(w){w.$parent.show(),o=!0,d.push(w)}function v(w){w.$parent.hide(),o=!0,f.push(w)}for(var y=0;y<r.length;y++)l[(n=r[y]).$config.scroll]?v(n):n.shouldHide()?_.push(n):n.shouldShow()?m(n):n.isVisible()?d.push(n):f.push(n);var k={};for(y=0;y<d.length;y++)d[y].$config.group&&(k[d[y].$config.group]=!0);for(_.forEach(function(w){w.$config.group&&k[w.$config.group]||v(w)}),y=0;y<f.length;y++)if((n=f[y]).$config.group&&k[n.$config.group]){m(n);for(var x=0;x<d.length;x++)if(d[x]==n){this.$gantt.$scrollbarRepaint=!0;break}}return o},a.prototype._syncCellSizes=function(l,r){if(l){var n={};return this._eachChild(function(o){o.$config.group&&o.$name!="scrollbar"&&o.$name!="resizer"&&(n[o.$config.group]||(n[o.$config.group]=[]),n[o.$config.group].push(o))}),n[l]&&this._syncGroupSize(n[l],r),n[l]}},a.prototype._syncGroupSize=function(l,r){if(l.length)for(var n=l[0].$parent._xLayout?"width":"height",o=l[0].$parent.getNextSibling(l[0].$id)?1:-1,d=r.value,f=r.isGravity,_=0;_<l.length;_++){var m=l[_].getSize(),v=o>0?l[_].$parent.getNextSibling(l[_].$id):l[_].$parent.getPrevSibling(l[_].$id);v.$name=="resizer"&&(v=o>0?v.$parent.getNextSibling(v.$id):v.$parent.getPrevSibling(v.$id));var y=v.getSize();if(f)l[_].$config.gravity=d;else if(v[n]){var k=m.gravity+y.gravity,x=m[n]+y[n],w=k/x;l[_].$config.gravity=w*d,v.$config[n]=x-d,v.$config.gravity=k-w*d}else l[_].$config[n]=d;var b=this.$gantt.$ui.getView("grid");!b||l[_].$content!==b||b.$config.scrollable||f||(this.$gantt.config.grid_width=d)}},a.prototype.resize=function(l){var r=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),r=!0,this._resizeInProgress=!0),h.prototype.resize.call(this,!0),h.prototype.resize.call(this,!1),r){var n=[];n=(n=(n=n.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var o=this.getCellsByType("scroller"),d=0;d<n.length;d++)n[d].$config.hidden||n[d].setContentSize();var f=this._getAutosizeMode(this.$config.autosize),_=this._resizeScrollbars(f,o);if(this.$config.autosize&&(this.autosize(this.$config.autosize),n.forEach(function(m){var v=m.$parent,y=v.getContentSize(f);f.x&&(v.$config.$originalWidthStored||(v.$config.$originalWidthStored=!0,v.$config.$originalWidth=v.$config.width),v.$config.width=y.width),f.y&&(v.$config.$originalHeightStored||(v.$config.$originalHeightStored=!0,v.$config.$originalHeight=v.$config.height),v.$config.height=y.height)}),_=!0),_)for(this.resize(),d=0;d<n.length;d++)n[d].$config.hidden||n[d].setContentSize();this.callEvent("onResize",[])}r&&(this._resizeInProgress=!1)},a.prototype._eachChild=function(l,r){if(l(r=r||this),r.$cells)for(var n=0;n<r.$cells.length;n++)this._eachChild(l,r.$cells[n])},a.prototype.isChild=function(l){var r=!1;return this._eachChild(function(n){n!==l&&n.$content!==l||(r=!0)}),r},a.prototype.getCellsByType=function(l){var r=[];if(l===this.$name&&r.push(this),this.$content&&this.$content.$name==l&&r.push(this.$content),this.$cells)for(var n=0;n<this.$cells.length;n++){var o=a.prototype.getCellsByType.call(this.$cells[n],l);o.length&&r.push.apply(r,o)}return r},a.prototype.getNextSibling=function(l){var r=this.cellIndex(l);return r>=0&&this.$cells[r+1]?this.$cells[r+1]:null},a.prototype.getPrevSibling=function(l){var r=this.cellIndex(l);return r>=0&&this.$cells[r-1]?this.$cells[r-1]:null},a.prototype.cell=function(l){for(var r=0;r<this.$cells.length;r++){var n=this.$cells[r];if(n.$id===l)return n;var o=n.cell(l);if(o)return o}},a.prototype.cellIndex=function(l){for(var r=0;r<this.$cells.length;r++)if(this.$cells[r].$id===l)return r;return-1},a.prototype.moveView=function(l,r){if(this.$cells[r]!==l)return window.alert("Not implemented");r+=this.$config.header?1:0;var n=this.$view;r>=n.childNodes.length?n.appendChild(l.$view):n.insertBefore(l.$view,n.childNodes[r])},a.prototype._parseConfig=function(l){this.$cells=[],this._xLayout=!l.rows;for(var r=l.rows||l.cols||l.views,n=0;n<r.length;n++){var o=r[n];o.mode=this._xLayout?"x":"y";var d=this.$factory.initUI(o,this);d?(d.$parent=this,this.$cells.push(d)):(r.splice(n,1),n--)}},a.prototype.getCells=function(){return this.$cells},a.prototype.render=function(){var l=c.insertNode(this.$container,this.$toHTML());this.$fill(l,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},a.prototype.$fill=function(l,r){this.$view=l,this.$parent=r;for(var n=c.getChildNodes(l,"gantt_layout_cell"),o=n.length-1;o>=0;o--){var d=this.$cells[o];d.$fill(n[o],this),d.$config.hidden&&d.$view.parentNode.removeChild(d.$view)}},a.prototype.$toHTML=function(){for(var l=this._xLayout?"x":"y",r=[],n=0;n<this.$cells.length;n++)r.push(this.$cells[n].$toHTML());return h.prototype.$toHTML.call(this,r.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+l)},a.prototype.getContentSize=function(l){for(var r,n,o,d=0,f=0,_=0;_<this.$cells.length;_++)(n=this.$cells[_]).$config.hidden||(r=n.getContentSize(l),n.$config.view==="scrollbar"&&l[n.$config.scroll]&&(r.height=0,r.width=0),n.$config.resizer&&(this._xLayout?r.height=0:r.width=0),o=n._getBorderSizes(),this._xLayout?(d+=r.width+o.horizontal,f=Math.max(f,r.height+o.vertical)):(d=Math.max(d,r.width+o.horizontal),f+=r.height+o.vertical));return{width:d+=(o=this._getBorderSizes()).horizontal,height:f+=o.vertical}},a.prototype._cleanElSize=function(l){return 1*(l||"").toString().replace("px","")||0},a.prototype._getBoxStyles=function(l){var r=null,n=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o={boxSizing:(r=window.getComputedStyle?window.getComputedStyle(l,null):{width:l.clientWidth,height:l.clientHeight}).boxSizing=="border-box"};r.MozBoxSizing&&(o.boxSizing=r.MozBoxSizing=="border-box");for(var d=0;d<n.length;d++)o[n[d]]=r[n[d]]?this._cleanElSize(r[n[d]]):0;var f={horPaddings:o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth,vertPaddings:o.paddingTop+o.paddingBottom+o.borderTopWidth+o.borderBottomWidth,borderBox:o.boxSizing,innerWidth:o.width,innerHeight:o.height,outerWidth:o.width,outerHeight:o.height};return f.borderBox?(f.innerWidth-=f.horPaddings,f.innerHeight-=f.vertPaddings):(f.outerWidth+=f.horPaddings,f.outerHeight+=f.vertPaddings),f},a.prototype._getAutosizeMode=function(l){var r={x:!1,y:!1};return l==="xy"?r.x=r.y=!0:l==="y"||l===!0?r.y=!0:l==="x"&&(r.x=!0),r},a.prototype.autosize=function(l){var r=this._getAutosizeMode(l),n=this._getBoxStyles(this.$container),o=this.getContentSize(l),d=this.$container;r.x&&(n.borderBox&&(o.width+=n.horPaddings),d.style.width=o.width+"px"),r.y&&(n.borderBox&&(o.height+=n.vertPaddings),d.style.height=o.height+"px")},a.prototype.getSize=function(){this._sizes=[];for(var l=0,r=0,n=1e11,o=0,d=1e11,f=0,_=0;_<this.$cells.length;_++){var m=this._sizes[_]=this.$cells[_].getSize();this.$cells[_].$config.hidden||(this._xLayout?(!m.width&&m.minWidth?l+=m.minWidth:l+=m.width,n+=m.maxWidth,r+=m.minWidth,o=Math.max(o,m.height),d=Math.min(d,m.maxHeight),f=Math.max(f,m.minHeight)):(!m.height&&m.minHeight?o+=m.minHeight:o+=m.height,d+=m.maxHeight,f+=m.minHeight,l=Math.max(l,m.width),n=Math.min(n,m.maxWidth),r=Math.max(r,m.minWidth)))}var v=h.prototype.getSize.call(this);return v.maxWidth>=1e5&&(v.maxWidth=n),v.maxHeight>=1e5&&(v.maxHeight=d),v.minWidth=v.minWidth!=v.minWidth?0:v.minWidth,v.minHeight=v.minHeight!=v.minHeight?0:v.minHeight,this._xLayout?(v.minWidth+=this.$config.margin*this.$cells.length||0,v.minWidth+=2*this.$config.padding||0,v.minHeight+=2*this.$config.padding||0):(v.minHeight+=this.$config.margin*this.$cells.length||0,v.minHeight+=2*this.$config.padding||0),v},a.prototype._calcFreeSpace=function(l,r,n){var o=n?r.minWidth:r.minHeight,d=r.maxWidth,f=l;return f?(f>d&&(f=d),f<o&&(f=o),this._free-=f):((f=Math.floor(this._free/this._gravity*r.gravity))>d&&(f=d,this._free-=f,this._gravity-=r.gravity),f<o&&(f=o,this._free-=f,this._gravity-=r.gravity)),f},a.prototype._calcSize=function(l,r,n){var o=l,d=n?r.minWidth:r.minHeight,f=n?r.maxWidth:r.maxHeight;return o||(o=Math.floor(this._free/this._gravity*r.gravity)),o>f&&(o=f),o<d&&(o=d),o},a.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var l=this._xLayout?this._borders.right:this._borders.bottom,r=this.$cells,n=r.length-1,o=n;o>=0;o--)if(!r[o].$config.hidden){n=o;break}for(o=0;o<r.length;o++)if(!r[o].$config.hidden){var d=o>=n,f="";!d&&r[o+1]&&r[o+1].$config.view=="scrollbar"&&(this._xLayout?d=!0:f="gantt_layout_cell_border_transparent"),this._setBorders(d?[]:[l,f],r[o])}},a.prototype._updateCellVisibility=function(){for(var l=this._visibleCells||{},r=!this._visibleCells,n={},o=null,d=[],f=0;f<this._sizes.length;f++)(o=this.$cells[f]).$config.hide_empty&&d.push(o),!r&&o.$config.hidden&&l[o.$id]?o._hide(!0):o.$config.hidden||l[o.$id]||o._hide(!1),o.$config.hidden||(n[o.$id]=!0);for(this._visibleCells=n,f=0;f<d.length;f++){var _=!0;(o=d[f]).$cells.forEach(function(m){m.$config.hidden||m.$config.resizer||(_=!1)}),o.$config.hidden=_}},a.prototype.setSize=function(l,r){this._configureBorders(),h.prototype.setSize.call(this,l,r),r=this.$lastSize.contentY,l=this.$lastSize.contentX;var n,o,d=this.$config.padding||0;this.$view.style.padding=d+"px",this._gravity=0,this._free=this._xLayout?l:r,this._free-=2*d,this._updateCellVisibility();for(var f=0;f<this._sizes.length;f++)if(!(n=this.$cells[f]).$config.hidden){var _=this.$config.margin||0;n.$name!="resizer"||_||(_=-1);var m=n.$view,v=this._xLayout?"marginRight":"marginBottom";f!==this.$cells.length-1&&(m.style[v]=_+"px",this._free-=_),o=this._sizes[f],this._xLayout?o.width||(this._gravity+=o.gravity):o.height||(this._gravity+=o.gravity)}for(f=0;f<this._sizes.length;f++)if(!(n=this.$cells[f]).$config.hidden){var y=(o=this._sizes[f]).width,k=o.height;this._xLayout?this._calcFreeSpace(y,o,!0):this._calcFreeSpace(k,o,!1)}for(f=0;f<this.$cells.length;f++)if(!(n=this.$cells[f]).$config.hidden){o=this._sizes[f];var x=void 0,w=void 0;this._xLayout?(x=this._calcSize(o.width,o,!0),w=r-2*d):(x=l-2*d,w=this._calcSize(o.height,o,!1)),n.setSize(x,w)}},a}(i(14));s.exports=u},function(s,g){s.exports=function(i,p,c,u,h){var a=c.$gantt.getTask(i.source),l=c.$gantt.getTask(i.target),r=c.getItemTop(a.id),n=c.getItemHeight(a.id),o=c.getItemTop(l.id),d=c.getItemHeight(l.id);if(p.y>r+n&&p.y>o+d||p.y_end<o&&p.y_end<r)return!1;var f=c.posFromDate(a.start_date),_=c.posFromDate(a.end_date),m=c.posFromDate(l.start_date),v=c.posFromDate(l.end_date);if(f>_){var y=_;_=f,f=y}return m>v&&(y=v,v=m,m=y),f+=-100,_+=100,m+=-100,v+=100,!(p.x>_&&p.x>v)&&!(p.x_end<f&&p.x_end<m)}},function(s,g,i){var p=i(137);s.exports=function(){var c=[],u=!1;function h(){c=[],u=!1}var a=!1;return function(l,r,n,o,d){(function(y){a||(a=!0,y.attachEvent("onPreFilter",h),y.attachEvent("onStoreUpdated",h),y.attachEvent("onClearAll",h),y.attachEvent("onBeforeStoreUpdate",h))})(o),u||function(y,k,x){var w=k.$getConfig();y.getVisibleItems().forEach(function(b){var S=p(b,k,w,x);S&&c.push({id:b.id,rec:S})}),c.sort(function(b,S){return b.rec.right<S.rec.right?-1:1}),u=!0}(o,r,l);for(var f=[],_=0;_<c.length;_++){var m=c[_],v=m.rec;v.right<d.x||v.left<d.x_end&&v.right>d.x&&v.top<d.y_end&&v.bottom>d.y&&f.push(m.id)}return{ids:f}}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(199),c=i(198),u=i(197);g.LargerUnitsCache=u.LargerUnitsCache,g.createCacheObject=function(){return typeof Map<"u"?new p.WorkUnitsMapCache:new c.WorkUnitsObjectCache}},function(s,g,i){var p=i(0),c=i(2);function u(r,n,o,d,f){return this.date=r,this.unit=n,this.task=o,this.id=d,this.calendar=f,this}function h(r,n,o,d,f,_){return this.date=r,this.dir=n,this.unit=o,this.task=d,this.id=f,this.calendar=_,this}function a(r,n,o,d,f,_,m){return this.start_date=r,this.duration=n,this.unit=o,this.step=d,this.task=f,this.id=_,this.calendar=m,this}function l(r,n,o,d){return this.start_date=r,this.end_date=n,this.task=o,this.calendar=d,this.unit=null,this.step=null,this}s.exports=function(r){return{getWorkHoursArguments:function(){var n=arguments[0];if(n=c.isDate(n)?{date:n}:p.mixin({},n),!c.isValidDate(n.date))throw r.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return n},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var n,o=arguments[0];if(o instanceof u)return o;if((n=o.date?new u(o.date,o.unit,o.task,null,o.calendar):new u(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=n.unit||r.config.duration_unit,!c.isValidDate(n.date))throw r.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return n},getClosestWorkTimeArguments:function(n){var o,d=arguments[0];if(d instanceof h)return d;if(o=c.isDate(d)?new h(d):new h(d.date,d.dir,d.unit,d.task,null,d.calendar),d.id&&(o.task=d),o.dir=d.dir||"any",o.unit=d.unit||r.config.duration_unit,!c.isValidDate(o.date))throw r.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return o},_getStartEndConfig:function(n){var o,d=l;if(n instanceof d)return n;if(c.isDate(n)?o=new d(arguments[0],arguments[1],arguments[2],arguments[3]):(o=new d(n.start_date,n.end_date,n.task),n.id!==null&&n.id!==void 0&&(o.task=n)),o.unit=o.unit||r.config.duration_unit,o.step=o.step||r.config.duration_step,o.start_date=o.start_date||o.start||o.date,!c.isValidDate(o.start_date))throw r.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!c.isValidDate(o.end_date))throw r.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return o},getDurationArguments:function(n,o,d,f){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(n,o,d,f){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(n,o,d,f){var _,m=arguments[0];if(m instanceof a)return m;if(_=c.isDate(m)?new a(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new a(m.start_date,m.duration,m.unit,m.step,m.task,null,m.calendar),m.id!==null&&m.id!==void 0&&(_.task=m,_.unit=null,_.step=null),_.unit=_.unit||r.config.duration_unit,_.step=_.step||r.config.duration_step,!c.isValidDate(_.start_date))throw r.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return _}}}},function(s,g,i){var p=i(211);s.exports=function(c){var u={},h={},a=null,l=-1,r=null,n=p(c);return{_resetTopPositionHeight:function(){u={},h={},n.resetCache()},_resetHeight:function(){var o=this.$config.rowStore,d=this.getCacheStateTotalHeight(o);r?this.shouldClearHeightCache(r,d)&&(r=d,a=null):r=d,l=-1,n.resetCache()},getRowTop:function(o){if(n.canUseSimpleCalculation())return n.getRowTop(o);var d=this.$config.rowStore;if(!d)return 0;if(h[o]!==void 0)return h[o];for(var f=d.getIndexRange(),_=0,m=0,v=0;v<f.length;v++)h[v]=_,_+=this.getItemHeight(f[v].id),v<o&&(m=_);return m},getItemTop:function(o){if(this.$config.rowStore){if(u[o]!==void 0)return u[o];var d=this.$config.rowStore;if(!d)return 0;var f=d.getIndexById(o);if(f===-1&&d.getParent&&d.exists(o)){var _=d.getParent(o);if(d.exists(_)){var m=d.getItem(_);if(this.$gantt.isSplitTask(m))return this.getItemTop(_)}}return u[o]=this.getRowTop(f),u[o]}return 0},getItemHeight:function(o){if(n.canUseSimpleCalculation())return n.getItemHeight(o);if(!a&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),a[o]!==void 0)return a[o];var d=this.$getConfig().row_height;if(this.$config.rowStore){var f=this.$config.rowStore;if(!f)return d;var _=f.getItem(o);return a[o]=_&&_.row_height||d}return d},_fillHeightCache:function(o){if(o){a={};var d=this.$getConfig().row_height;o.eachItem(function(f){return a[f.id]=f&&f.row_height||d})}},getCacheStateTotalHeight:function(o){var d=this.$getConfig().row_height,f={},_=[],m=0;return o&&o.eachItem(function(v){_.push(v),f[v.id]=v.row_height,m+=v.row_height||d}),{globalHeight:d,items:_,count:_.length,sumHeight:m}},shouldClearHeightCache:function(o,d){if(o.count!=d.count||o.globalHeight!=d.globalHeight||o.sumHeight!=d.sumHeight)return!0;for(var f in o.items){var _=d.items[f];if(_!==void 0&&_!=o.items[f])return!0}return!1},getTotalHeight:function(){if(n.canUseSimpleCalculation())return n.getTotalHeight();if(l!=-1)return l;if(this.$config.rowStore){var o=this.$config.rowStore;this._fillHeightCache(o);var d=this.getItemHeight.bind(this),f=0;return o.getVisibleItems().forEach(function(_){f+=d(_.id)}),l=f,f}return 0},getItemIndexByTopPosition:function(o){if(this.$config.rowStore){if(n.canUseSimpleCalculation())return n.getItemIndexByTopPosition(o);for(var d=this.$config.rowStore,f=0;f<d.countVisible();f++){var _=this.getRowTop(f),m=this.getRowTop(f+1);if(!m){var v=d.getIdByIndex(f);m=_+this.getItemHeight(v)}if(o>=_&&o<m)return f}return d.countVisible()+2}return 0}}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(){var u=this;this.canParse=function(h){return!isNaN(u.parse(h))},this.format=function(h){return String(h)},this.parse=function(h){return parseInt(h,10)}}return c.create=function(u){return new c},c}();g.default=p},function(s,g){function i(c,u,h){for(var a=0;a<u.length;a++)c.isLinkExists(u[a])&&(h[u[a]]=c.getLink(u[a]))}function p(c,u,h){i(c,u.$source,h),i(c,u.$target,h)}s.exports={getSubtreeLinks:function(c,u){var h={};return c.isTaskExists(u)&&p(c,c.getTask(u),h),c.eachTask(function(a){p(c,a,h)},u),h},getSubtreeTasks:function(c,u){var h={};return c.eachTask(function(a){h[a.id]=a},u),h}}},function(s,g,i){var p=i(33),c=i(33);function u(h){var a=function(v){var y=new c(v).primaryScale(),k=y.unit,x=y.step;if(v.config.scale_offset_minimal){var w=new p(v),b=[w.primaryScale()].concat(w.getSubScales());w.sortScales(b),k=b[b.length-1].unit,x=b[b.length-1].step||1}return{unit:k,step:x}}(h),l=a.unit,r=a.step,n=function(v,y){var k={start_date:null,end_date:null};if(y.config.start_date&&y.config.end_date){k.start_date=y.date[v+"_start"](new Date(y.config.start_date));var x=new Date(y.config.end_date),w=y.date[v+"_start"](new Date(x));x=+x!=+w?y.date.add(w,1,v):w,k.end_date=x}return k}(l,h);if(!n.start_date||!n.end_date){for(var o=!0,d=h.getTaskByTime(),f=0;f<d.length;f++)if(d[f].type!==h.config.types.project){o=!1;break}if(d.length&&o){var _=d[0].start_date,m=h.date.add(_,1,h.config.duration_unit);n={start_date:new Date(_),end_date:new Date(m)}}else n=h.getSubtaskDates();n.start_date&&n.end_date||(n={start_date:new Date,end_date:new Date}),n.start_date=h.date[l+"_start"](n.start_date),n.start_date=h.calculateEndDate({start_date:h.date[l+"_start"](n.start_date),duration:-1,unit:l,step:r}),n.end_date=h.date[l+"_start"](n.end_date),n.end_date=h.calculateEndDate({start_date:n.end_date,duration:2,unit:l,step:r})}h._min_date=n.start_date,h._max_date=n.end_date}s.exports=function(h){u(h),function(a){if(a.config.fit_tasks){var l=+a._min_date,r=+a._max_date;if(+a._min_date!=l||+a._max_date!=r)return a.render(),a.callEvent("onScaleAdjusted",[]),!0}}(h)}},function(s,g,i){var p=i(48),c=i(0),u=i(2),h=i(49),a=i(16),l=i(2).replaceValidZeroId;h.default&&(h=h.default);var r=function(n){h.apply(this,[n]),this._branches={},this.pull={},this.$initItem=function(v){var y=v;n.initItem&&(y=n.initItem(y));var k=this.getItem(v.id);return k&&k.parent!=y.parent&&this.move(y.id,y.$index||-1,y.parent||this._ganttConfig.root_id),y},this.$parentProperty=n.parentProperty||"parent",typeof n.rootId!="function"?this.$getRootId=function(v){return function(){return v}}(n.rootId||0):this.$getRootId=n.rootId,this.$openInitially=n.openInitially,this.visibleOrder=p.$create(),this.fullOrder=p.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,n.getConfig&&(this._ganttConfig=n.getConfig());var o={},d={},f={},_={},m=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,o={},d={},f={},_={},m=!1,this.eachItem(function(v){var y=this.getParent(v.id);v.$open&&f[y]!==!1?f[v.id]=!0:f[v.id]=!1,this._isSplitItem(v)&&(m=!0,o[v.id]=!0,d[v.id]=!0),m&&d[y]&&(d[v.id]=!0),f[y]||f[y]===void 0?_[v.id]=!0:_[v.id]=!1})}),this.attachEvent("onFilterItem",function(v,y){var k=!1;this._ganttConfig&&(k=this._ganttConfig.open_split_tasks);var x=_[y.id];return m&&(x&&d[y.id]&&!o[y.id]&&(x=!!k),d[y.id]&&!o[y.id]&&(y.$split_subtask=!0)),y.$expanded_branch=!!_[y.id],!!x}),this.attachEvent("onFilter",function(){o={},d={},f={},_={}}),this};r.prototype=c.mixin({_buildTree:function(n){for(var o=null,d=this.$getRootId(),f=0,_=n.length;f<_;f++)o=n[f],this.setParent(o,l(this.getParent(o),d)||d);for(f=0,_=n.length;f<_;f++)o=n[f],this._add_branch(o),o.$level=this.calculateItemLevel(o),o.$local_index=this.getBranchIndex(o.id),c.defined(o.$open)||(o.$open=c.defined(o.open)?o.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(n){return n.render=="split"&&this.hasChild(n.id)},parse:function(n){this._skip_refresh||this.callEvent("onBeforeParse",[n]);var o=this._parseInner(n);this._buildTree(o),this.filter(),this._skip_refresh||this.callEvent("onParse",[o])},_addItemInner:function(n,o){var d=this.getParent(n);c.defined(d)||(d=this.$getRootId(),this.setParent(n,d));var f=this.getIndexById(d)+Math.min(Math.max(o,0),this.visibleOrder.length);1*f!==f&&(f=void 0),h.prototype._addItemInner.call(this,n,f),this.setParent(n,d),n.hasOwnProperty("$rendered_parent")&&this._move_branch(n,n.$rendered_parent),this._add_branch(n,o)},_changeIdInner:function(n,o){var d=this.getChildren(n),f=this._searchVisibleOrder[n];h.prototype._changeIdInner.call(this,n,o);var _=this.getParent(o);this._replace_branch_child(_,n,o),this._branches[n]&&(this._branches[o]=this._branches[n]);for(var m=0;m<d.length;m++){var v=this.getItem(d[m]);v[this.$parentProperty]=o,v.$rendered_parent=o}this._searchVisibleOrder[o]=f,delete this._branches[n]},_traverseBranches:function(n,o){c.defined(o)||(o=this.$getRootId());var d=this._branches[o];if(d)for(var f=0;f<d.length;f++){var _=d[f];n.call(this,_),this._branches[_]&&this._traverseBranches(n,_)}},_updateOrder:function(n){this.fullOrder=p.$create(),this._traverseBranches(function(o){this.fullOrder.push(o)}),n&&h.prototype._updateOrder.call(this,n)},_removeItemInner:function(n){var o=[];this.eachItem(function(f){o.push(f)},n),o.push(this.getItem(n));for(var d=0;d<o.length;d++)this._move_branch(o[d],this.getParent(o[d]),null),h.prototype._removeItemInner.call(this,o[d].id),this._move_branch(o[d],this.getParent(o[d]),null)},move:function(n,o,d){var f=arguments[3],_=(this._ganttConfig||{}).root_id||0;if(f=l(f,_)){if(f===n)return;d=this.getParent(f),o=this.getBranchIndex(f)}if(n!=d){c.defined(d)||(d=this.$getRootId());var m=this.getItem(n),v=this.getParent(m.id),y=this.getChildren(d);if(o==-1&&(o=y.length+1),v==d&&this.getBranchIndex(n)==o)return;if(this.callEvent("onBeforeItemMove",[n,d,o])===!1)return!1;for(var k=[],x=0;x<y.length;x++)a(y[x],null,this,this._ganttConfig)&&(k.push(y[x]),y.splice(x,1),x--);this._replace_branch_child(v,n);var w=(y=this.getChildren(d))[o];(w=l(w,_))?y=y.slice(0,o).concat([n]).concat(y.slice(o)):y.push(n),k.length&&(y=y.concat(k)),m.$rendered_parent!==v&&v!==d&&(m.$rendered_parent=v),this.setParent(m,d),this._branches[d]=y;var b=this.calculateItemLevel(m)-m.$level;m.$level+=b,this.eachItem(function(S){S.$level+=b},m.id,this),this._moveInner(this.getIndexById(n),this.getIndexById(d)+o),this.callEvent("onAfterItemMove",[n,d,o]),this.refresh()}},getBranchIndex:function(n){var o=this.getChildren(this.getParent(n)),d=o.indexOf(n+"");return d==-1&&(d=o.indexOf(+n)),d},hasChild:function(n){var o=this._branches[n];return o&&o.length},getChildren:function(n){var o=this._branches[n];return o||p.$create()},isChildOf:function(n,o){if(!this.exists(n))return!1;if(o===this.$getRootId())return!0;if(!this.hasChild(o))return!1;var d=this.getItem(n),f=this.getParent(n);if(this.getItem(o).$level>=d.$level)return!1;for(;d&&this.exists(f);){if((d=this.getItem(f))&&d.id==o)return!0;f=this.getParent(d)}return!1},getSiblings:function(n){if(!this.exists(n))return p.$create();var o=this.getParent(n);return this.getChildren(o)},getNextSibling:function(n){for(var o=this.getSiblings(n),d=0,f=o.length;d<f;d++)if(o[d]==n){var _=o[d+1];return _===0&&d>0&&(_="0"),_||null}return null},getPrevSibling:function(n){for(var o=this.getSiblings(n),d=0,f=o.length;d<f;d++)if(o[d]==n){var _=o[d-1];return _===0&&d>0&&(_="0"),_||null}return null},getParent:function(n){var o=null;return(o=n.id!==void 0?n:this.getItem(n))?o[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},h.prototype.clearAll.call(this)},calculateItemLevel:function(n){var o=0;return this.eachParent(function(){o++},n),o},_setParentInner:function(n,o,d){d||(n.hasOwnProperty("$rendered_parent")?this._move_branch(n,n.$rendered_parent,o):this._move_branch(n,n[this.$parentProperty],o))},setParent:function(n,o,d){this._setParentInner(n,o,d),n[this.$parentProperty]=o},_eachItemCached:function(n,o){for(var d=0,f=o.length;d<f;d++)n.call(this,o[d])},_eachItemIterate:function(n,o,d){var f=this.getChildren(o);for(f.length&&(f=f.slice().reverse());f.length;){var _=f.pop(),m=this.getItem(_);if(n.call(this,m),d&&d.push(m),this.hasChild(m.id))for(var v=this.getChildren(m.id),y=v.length-1;y>=0;y--)f.push(v[y])}},eachItem:function(n,o){var d=this.$getRootId();c.defined(o)||(o=d);var f=l(o,d)||d,_=!1,m=!1,v=null;f===d&&(this._eachItemMainRangeCache?(_=!0,v=this._eachItemMainRangeCache):(m=!0,v=this._eachItemMainRangeCache=[])),_?this._eachItemCached(n,v):this._eachItemIterate(n,f,m?v:null)},eachParent:function(n,o){for(var d={},f=o,_=this.getParent(f);this.exists(_);){if(d[_])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+_);d[_]=!0,f=this.getItem(_),n.call(this,f),_=this.getParent(f)}},_add_branch:function(n,o,d){var f=d===void 0?this.getParent(n):d;this.hasChild(f)||(this._branches[f]=p.$create());var _=this.getChildren(f);_.indexOf(n.id+"")>-1||_.indexOf(+n.id)>-1||(1*o==o?_.splice(o,0,n.id):_.push(n.id),n.$rendered_parent=f)},_move_branch:function(n,o,d){this._eachItemMainRangeCache=null,this._replace_branch_child(o,n.id),this.exists(d)||d==this.$getRootId()?this._add_branch(n,void 0,d):delete this._branches[n.id],n.$level=this.calculateItemLevel(n),this.eachItem(function(f){f.$level=this.calculateItemLevel(f)},n.id)},_replace_branch_child:function(n,o,d){var f=this.getChildren(n);if(f&&n!==void 0){var _=p.$create(),m=f.indexOf(o+"");m!=-1||isNaN(+o)||(m=f.indexOf(+o)),m>-1&&(d?f.splice(m,1,d):f.splice(m,1)),_=f,this._branches[n]=_}},sort:function(n,o,d){this.exists(d)||(d=this.$getRootId()),n||(n="order");var f=typeof n=="string"?function(k,x){return k[n]==x[n]||u.isDate(k[n])&&u.isDate(x[n])&&k[n].valueOf()==x[n].valueOf()?0:k[n]>x[n]?1:-1}:n;if(o){var _=f;f=function(k,x){return _(x,k)}}var m=this.getChildren(d);if(m){for(var v=[],y=m.length-1;y>=0;y--)v[y]=this.getItem(m[y]);for(v.sort(f),y=0;y<v.length;y++)m[y]=v[y].id,this.sort(n,o,m[y])}},filter:function(n){for(var o in this.pull){var d=this.pull[o].$rendered_parent,f=this.getParent(this.pull[o]);d!==f&&this._move_branch(this.pull[o],d,f)}return h.prototype.filter.apply(this,arguments)},open:function(n){this.exists(n)&&(this.getItem(n).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[n]))},close:function(n){this.exists(n)&&(this.getItem(n).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[n]))},destructor:function(){h.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},h.prototype),s.exports=r},function(s,g,i){var p=i(0),c={$create:function(u){return p.mixin(u||[],this)},$removeAt:function(u,h){u>=0&&this.splice(u,h||1)},$remove:function(u){this.$removeAt(this.$find(u))},$insertAt:function(u,h){if(h||h===0){var a=this.splice(h,this.length-h);this[h]=u,this.push.apply(this,a)}else this.push(u)},$find:function(u){for(var h=0;h<this.length;h++)if(u==this[h])return h;return-1},$each:function(u,h){for(var a=0;a<this.length;a++)u.call(h||this,this[a])},$map:function(u,h){for(var a=0;a<this.length;a++)this[a]=u.call(h||this,this[a]);return this},$filter:function(u,h){for(var a=0;a<this.length;a++)u.call(h||this,this[a])||(this.splice(a,1),a--);return this}};s.exports=c},function(s,g,i){var p=i(48),c=i(0),u=i(5),h=i(16),a=function(l){return this.pull={},this.$initItem=l.initItem,this.visibleOrder=p.$create(),this.fullOrder=p.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=l,u(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};a.prototype={_attachDataChange:function(l){this.attachEvent("onClearAll",l),this.attachEvent("onBeforeParse",l),this.attachEvent("onBeforeUpdate",l),this.attachEvent("onBeforeDelete",l),this.attachEvent("onBeforeAdd",l),this.attachEvent("onParse",l),this.attachEvent("onBeforeFilter",l)},_parseInner:function(l){for(var r=null,n=[],o=0,d=l.length;o<d;o++)r=l[o],this.$initItem&&(this.$config.copyOnParse()&&(r=c.copy(r)),r=this.$initItem(r)),this.callEvent("onItemLoading",[r])&&(this.pull.hasOwnProperty(r.id)||this.fullOrder.push(r.id),n.push(r),this.pull[r.id]=r);return n},parse:function(l){this.isSilent()||this.callEvent("onBeforeParse",[l]);var r=this._parseInner(l);this.isSilent()||(this.refresh(),this.callEvent("onParse",[r]))},getItem:function(l){return this.pull[l]},_updateOrder:function(l){l.call(this.visibleOrder),l.call(this.fullOrder)},updateItem:function(l,r){if(c.defined(r)||(r=this.getItem(l)),!this.isSilent()&&this.callEvent("onBeforeUpdate",[r.id,r])===!1)return!1;c.mixin(this.pull[l],r,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[r.id,r]),this.callEvent("onStoreUpdated",[r.id,r,"update"]))},_removeItemInner:function(l){this._updateOrder(function(){this.$remove(l)}),delete this.pull[l]},removeItem:function(l){var r=this.getItem(l);if(!this.isSilent()&&this.callEvent("onBeforeDelete",[r.id,r])===!1)return!1;this.callEvent("onAfterDeleteConfirmed",[r.id,r]),this._removeItemInner(l),this.isSilent()&&this.callEvent("onAfterSilentDelete",[r.id,r]),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[r.id,r]),this.callEvent("onStoreUpdated",[r.id,r,"delete"]))},_addItemInner:function(l,r){if(this.exists(l.id))this.silent(function(){this.updateItem(l.id,l)});else{var n=this.visibleOrder,o=n.length;(!c.defined(r)||r<0)&&(r=o),r>o&&(r=Math.min(n.length,r))}this.pull[l.id]=l,this.isSilent()||this._updateOrder(function(){this.$find(l.id)===-1&&this.$insertAt(l.id,r)}),this.filter()},isVisible:function(l){return this.visibleOrder.$find(l)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(l,r){return c.defined(l.id)||(l.id=c.uid()),this.$initItem&&(l=this.$initItem(l)),!(!this.isSilent()&&this.callEvent("onBeforeAdd",[l.id,l])===!1)&&(this._addItemInner(l,r),this.isSilent()||(this.callEvent("onAfterAdd",[l.id,l]),this.callEvent("onStoreUpdated",[l.id,l,"add"])),l.id)},_changeIdInner:function(l,r){this.pull[l]&&(this.pull[r]=this.pull[l]);var n=this._searchVisibleOrder[l];this.pull[r].id=r,this._updateOrder(function(){this[this.$find(l)]=r}),this._searchVisibleOrder[r]=n,delete this._searchVisibleOrder[l],delete this.pull[l]},changeId:function(l,r){this._changeIdInner(l,r),this.callEvent("onIdChange",[l,r])},exists:function(l){return!!this.pull[l]},_moveInner:function(l,r){var n=this.getIdByIndex(l);this._updateOrder(function(){this.$removeAt(l),this.$insertAt(n,Math.min(this.length,r))})},move:function(l,r){var n=this.getIdByIndex(l),o=this.getItem(n);this._moveInner(l,r),this.isSilent()||this.callEvent("onStoreUpdated",[o.id,o,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=p.$create(),this.fullOrder=p.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(l,r){var n=!1;this.isSilent()&&(n=!0),this._skip_refresh=!0,l.call(r||this),n||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(l,r){if(l.length!==r.length)return!1;for(var n=0;n<l.length;n++)if(l[n]!==r[n])return!1;return!0},refresh:function(l,r){var n,o;if(!this.isSilent()&&(l&&(n=this.getItem(l)),o=l?[l,n,"paint"]:[null,null,null],this.callEvent("onBeforeStoreUpdate",o)!==!1)){var d=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,l){if(!r&&!d){var f=this.visibleOrder;this.filter(),this.arraysEqual(f,this.visibleOrder)||(l=void 0)}}else d||this.filter();o=l?[l,n,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",o)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(l){},serialize:function(){},eachItem:function(l){for(var r=0;r<this.fullOrder.length;r++){var n=this.getItem(this.fullOrder[r]);l.call(this,n)}},find:function(l){var r=[];return this.eachItem(function(n){l(n)&&r.push(n)}),r},filter:function(l){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var r=p.$create(),n=[];this.eachItem(function(d){this.callEvent("onFilterItem",[d.id,d])&&(h(d.id,null,this,this._ganttConfig)?n.push(d.id):r.push(d.id))});for(var o=0;o<n.length;o++)r.push(n[o]);for(this.visibleOrder=r,this._searchVisibleOrder={},o=0;o<this.visibleOrder.length;o++)this._searchVisibleOrder[this.visibleOrder[o]]=o;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(l,r){var n=Math.min(r||1/0,this.countVisible()-1),o=l||0,d=o+"-"+n;if(this._indexRangeCache[d])return this._indexRangeCache[d].slice();for(var f=[],_=o;_<=n;_++)f.push(this.getItem(this.visibleOrder[_]));return this._indexRangeCache[d]=f.slice(),f},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var l=[];for(var r in this.pull)l.push(this.pull[r]);return this._getItemsCache=l.slice(),l},getIdByIndex:function(l){return this.visibleOrder[l]},getIndexById:function(l){var r=this._searchVisibleOrder[l];return r===void 0&&(r=-1),r},_getNullIfUndefined:function(l){return l===void 0?null:l},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(l){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(l)+1])},getPrev:function(l){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(l)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},s.exports=a},function(s,g){s.exports=function(i,p){if(!p)return!0;if(i._on_timeout)return!1;var c=Math.ceil(1e3/p);return c<2||(setTimeout(function(){delete i._on_timeout},c),i._on_timeout=!0,!0)}},function(s,g,i){var p=i(0);s.exports=function c(u,h){u=u||p.event,h=h||p.eventRemove;var a=[],l={attach:function(r,n,o,d){a.push({element:r,event:n,callback:o,capture:d}),u(r,n,o,d)},detach:function(r,n,o,d){h(r,n,o,d);for(var f=0;f<a.length;f++){var _=a[f];_.element===r&&_.event===n&&_.callback===o&&_.capture===d&&(a.splice(f,1),f--)}},detachAll:function(){for(var r=a.slice(),n=0;n<r.length;n++){var o=r[n];l.detach(o.element,o.event,o.callback,o.capture),l.detach(o.element,o.event,o.callback,void 0),l.detach(o.element,o.event,o.callback,!1),l.detach(o.element,o.event,o.callback,!0)}a.splice(0,a.length)},extend:function(){return c(this.event,this.eventRemove)}};return l}},function(s,g){function i(p){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(p)}s.exports=(typeof self>"u"?"undefined":i(self))=="object"?self.FormData:window.FormData},function(s,g){(function(i){s.exports=i}).call(this,{})},function(s,g,i){function p(b){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(b)}var c=i(280),u=i(278);function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}g.parse=w,g.resolve=function(b,S){return w(b,!1,!0).resolve(S)},g.resolveObject=function(b,S){return b?w(b,!1,!0).resolveObject(S):S},g.format=function(b){return u.isString(b)&&(b=w(b)),b instanceof h?b.format():h.prototype.format.call(b)},g.Url=h;var a=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),o=["'"].concat(n),d=["%","/","?",";","#"].concat(o),f=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=i(277);function w(b,S,T){if(b&&u.isObject(b)&&b instanceof h)return b;var N=new h;return N.parse(b,S,T),N}h.prototype.parse=function(b,S,T){if(!u.isString(b))throw new TypeError("Parameter 'url' must be a string, not "+p(b));var N=b.indexOf("?"),$=N!==-1&&N<b.indexOf("#")?"?":"#",E=b.split($);E[0]=E[0].replace(/\\/g,"/");var D=b=E.join($);if(D=D.trim(),!T&&b.split("#").length===1){var P=r.exec(D);if(P)return this.path=D,this.href=D,this.pathname=P[1],P[2]?(this.search=P[2],this.query=S?x.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query={}),this}var I=a.exec(D);if(I){var O=(I=I[0]).toLowerCase();this.protocol=O,D=D.substr(I.length)}if(T||I||D.match(/^\/\/[^@\/]+@[^@\/]+/)){var B=D.substr(0,2)==="//";!B||I&&y[I]||(D=D.substr(2),this.slashes=!0)}if(!y[I]&&(B||I&&!k[I])){for(var R,H,q=-1,G=0;G<f.length;G++)(L=D.indexOf(f[G]))!==-1&&(q===-1||L<q)&&(q=L);for((H=q===-1?D.lastIndexOf("@"):D.lastIndexOf("@",q))!==-1&&(R=D.slice(0,H),D=D.slice(H+1),this.auth=decodeURIComponent(R)),q=-1,G=0;G<d.length;G++){var L;(L=D.indexOf(d[G]))!==-1&&(q===-1||L<q)&&(q=L)}q===-1&&(q=D.length),this.host=D.slice(0,q),D=D.slice(q),this.parseHost(),this.hostname=this.hostname||"";var F=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!F)for(var J=this.hostname.split(/\./),z=(G=0,J.length);G<z;G++){var X=J[G];if(X&&!X.match(_)){for(var ne="",ee=0,V=X.length;ee<V;ee++)X.charCodeAt(ee)>127?ne+="x":ne+=X[ee];if(!ne.match(_)){var j=J.slice(0,G),M=J.slice(G+1),A=X.match(m);A&&(j.push(A[1]),M.unshift(A[2])),M.length&&(D="/"+M.join(".")+D),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=c.toASCII(this.hostname));var U=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+U,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),D[0]!=="/"&&(D="/"+D))}if(!v[O])for(G=0,z=o.length;G<z;G++){var K=o[G];if(D.indexOf(K)!==-1){var ae=encodeURIComponent(K);ae===K&&(ae=escape(K)),D=D.split(K).join(ae)}}var Q=D.indexOf("#");Q!==-1&&(this.hash=D.substr(Q),D=D.slice(0,Q));var ie=D.indexOf("?");if(ie!==-1?(this.search=D.substr(ie),this.query=D.substr(ie+1),S&&(this.query=x.parse(this.query)),D=D.slice(0,ie)):S&&(this.search="",this.query={}),D&&(this.pathname=D),k[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var fe=this.search||"";this.path=U+fe}return this.href=this.format(),this},h.prototype.format=function(){var b=this.auth||"";b&&(b=(b=encodeURIComponent(b)).replace(/%3A/i,":"),b+="@");var S=this.protocol||"",T=this.pathname||"",N=this.hash||"",$=!1,E="";this.host?$=b+this.host:this.hostname&&($=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&($+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(E=x.stringify(this.query));var D=this.search||E&&"?"+E||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||k[S])&&$!==!1?($="//"+($||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):$||($=""),N&&N.charAt(0)!=="#"&&(N="#"+N),D&&D.charAt(0)!=="?"&&(D="?"+D),S+$+(T=T.replace(/[?#]/g,function(P){return encodeURIComponent(P)}))+(D=D.replace("#","%23"))+N},h.prototype.resolve=function(b){return this.resolveObject(w(b,!1,!0)).format()},h.prototype.resolveObject=function(b){if(u.isString(b)){var S=new h;S.parse(b,!1,!0),b=S}for(var T=new h,N=Object.keys(this),$=0;$<N.length;$++){var E=N[$];T[E]=this[E]}if(T.hash=b.hash,b.href==="")return T.href=T.format(),T;if(b.slashes&&!b.protocol){for(var D=Object.keys(b),P=0;P<D.length;P++){var I=D[P];I!=="protocol"&&(T[I]=b[I])}return k[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(b.protocol&&b.protocol!==T.protocol){if(!k[b.protocol]){for(var O=Object.keys(b),B=0;B<O.length;B++){var R=O[B];T[R]=b[R]}return T.href=T.format(),T}if(T.protocol=b.protocol,b.host||y[b.protocol])T.pathname=b.pathname;else{for(var H=(b.pathname||"").split("/");H.length&&!(b.host=H.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),H[0]!==""&&H.unshift(""),H.length<2&&H.unshift(""),T.pathname=H.join("/")}if(T.search=b.search,T.query=b.query,T.host=b.host||"",T.auth=b.auth,T.hostname=b.hostname||b.host,T.port=b.port,T.pathname||T.search){var q=T.pathname||"",G=T.search||"";T.path=q+G}return T.slashes=T.slashes||b.slashes,T.href=T.format(),T}var L=T.pathname&&T.pathname.charAt(0)==="/",F=b.host||b.pathname&&b.pathname.charAt(0)==="/",J=F||L||T.host&&b.pathname,z=J,X=T.pathname&&T.pathname.split("/")||[],ne=(H=b.pathname&&b.pathname.split("/")||[],T.protocol&&!k[T.protocol]);if(ne&&(T.hostname="",T.port=null,T.host&&(X[0]===""?X[0]=T.host:X.unshift(T.host)),T.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(H[0]===""?H[0]=b.host:H.unshift(b.host)),b.host=null),J=J&&(H[0]===""||X[0]==="")),F)T.host=b.host||b.host===""?b.host:T.host,T.hostname=b.hostname||b.hostname===""?b.hostname:T.hostname,T.search=b.search,T.query=b.query,X=H;else if(H.length)X||(X=[]),X.pop(),X=X.concat(H),T.search=b.search,T.query=b.query;else if(!u.isNullOrUndefined(b.search))return ne&&(T.hostname=T.host=X.shift(),(A=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=A.shift(),T.host=T.hostname=A.shift())),T.search=b.search,T.query=b.query,u.isNull(T.pathname)&&u.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T;if(!X.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var ee=X.slice(-1)[0],V=(T.host||b.host||X.length>1)&&(ee==="."||ee==="..")||ee==="",j=0,M=X.length;M>=0;M--)(ee=X[M])==="."?X.splice(M,1):ee===".."?(X.splice(M,1),j++):j&&(X.splice(M,1),j--);if(!J&&!z)for(;j--;j)X.unshift("..");!J||X[0]===""||X[0]&&X[0].charAt(0)==="/"||X.unshift(""),V&&X.join("/").substr(-1)!=="/"&&X.push("");var A,U=X[0]===""||X[0]&&X[0].charAt(0)==="/";return ne&&(T.hostname=T.host=U?"":X.length?X.shift():"",(A=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=A.shift(),T.host=T.hostname=A.shift())),(J=J||T.host&&X.length)&&!U&&X.unshift(""),X.length?T.pathname=X.join("/"):(T.pathname=null,T.path=null),u.isNull(T.pathname)&&u.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=b.auth||T.auth,T.slashes=T.slashes||b.slashes,T.href=T.format(),T},h.prototype.parseHost=function(){var b=this.host,S=l.exec(b);S&&((S=S[0])!==":"&&(this.port=S.substr(1)),b=b.substr(0,b.length-S.length)),b&&(this.hostname=b)}},function(s,g,i){s.exports=u;var p=i(12),c=i(17);function u(l){if(!(this instanceof u))return new u(l);p.call(this,l),this._transformState={afterTransform:(function(r,n){var o=this._transformState;o.transforming=!1;var d=o.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));o.writechunk=null,o.writecb=null,n!=null&&this.push(n),d(r);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",h)}function h(){var l=this;typeof this._flush=="function"?this._flush(function(r,n){a(l,r,n)}):a(this,null,null)}function a(l,r,n){if(r)return l.emit("error",r);if(n!=null&&l.push(n),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}c.inherits=i(8),c.inherits(u,p),u.prototype.push=function(l,r){return this._transformState.needTransform=!1,p.prototype.push.call(this,l,r)},u.prototype._transform=function(l,r,n){throw new Error("_transform() is not implemented")},u.prototype._write=function(l,r,n){var o=this._transformState;if(o.writecb=n,o.writechunk=l,o.writeencoding=r,!o.transforming){var d=this._readableState;(o.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},u.prototype._read=function(l){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},u.prototype._destroy=function(l,r){var n=this;p.prototype._destroy.call(this,l,function(o){r(o),n.emit("close")})}},function(s,g,i){var p=i(22).Buffer,c=p.isEncoding||function(_){switch((_=""+_)&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(_){var m;switch(this.encoding=function(v){var y=function(k){if(!k)return"utf8";for(var x;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(x)return;k=(""+k).toLowerCase(),x=!0}}(v);if(typeof y!="string"&&(p.isEncoding===c||!c(v)))throw new Error("Unknown encoding: "+v);return y||v}(_),this.encoding){case"utf16le":this.text=l,this.end=r,m=4;break;case"utf8":this.fillLast=a,m=4;break;case"base64":this.text=n,this.end=o,m=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(m)}function h(_){return _<=127?0:_>>5==6?2:_>>4==14?3:_>>3==30?4:_>>6==2?-1:-2}function a(_){var m=this.lastTotal-this.lastNeed,v=function(y,k,x){if((192&k[0])!=128)return y.lastNeed=0,"�";if(y.lastNeed>1&&k.length>1){if((192&k[1])!=128)return y.lastNeed=1,"�";if(y.lastNeed>2&&k.length>2&&(192&k[2])!=128)return y.lastNeed=2,"�"}}(this,_);return v!==void 0?v:this.lastNeed<=_.length?(_.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(_.copy(this.lastChar,m,0,_.length),void(this.lastNeed-=_.length))}function l(_,m){if((_.length-m)%2==0){var v=_.toString("utf16le",m);if(v){var y=v.charCodeAt(v.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",m,_.length-1)}function r(_){var m=_&&_.length?this.write(_):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,v)}return m}function n(_,m){var v=(_.length-m)%3;return v===0?_.toString("base64",m):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",m,_.length-v))}function o(_){var m=_&&_.length?this.write(_):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function d(_){return _.toString(this.encoding)}function f(_){return _&&_.length?this.write(_):""}g.StringDecoder=u,u.prototype.write=function(_){if(_.length===0)return"";var m,v;if(this.lastNeed){if((m=this.fillLast(_))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<_.length?m?m+this.text(_,v):this.text(_,v):m||""},u.prototype.end=function(_){var m=_&&_.length?this.write(_):"";return this.lastNeed?m+"�":m},u.prototype.text=function(_,m){var v=function(k,x,w){var b=x.length-1;if(b<w)return 0;var S=h(x[b]);return S>=0?(S>0&&(k.lastNeed=S-1),S):--b<w||S===-2?0:(S=h(x[b]))>=0?(S>0&&(k.lastNeed=S-2),S):--b<w||S===-2?0:(S=h(x[b]))>=0?(S>0&&(S===2?S=0:k.lastNeed=S-3),S):0}(this,_,m);if(!this.lastNeed)return _.toString("utf8",m);this.lastTotal=v;var y=_.length-(v-this.lastNeed);return _.copy(this.lastChar,0,y),_.toString("utf8",m,y)},u.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length}},function(s,g,i){(function(p){var c=p!==void 0&&p||typeof self<"u"&&self||window,u=Function.prototype.apply;function h(a,l){this._id=a,this._clearFn=l}g.setTimeout=function(){return new h(u.call(setTimeout,c,arguments),clearTimeout)},g.setInterval=function(){return new h(u.call(setInterval,c,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(a){a&&a.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(c,this._id)},g.enroll=function(a,l){clearTimeout(a._idleTimeoutId),a._idleTimeout=l},g.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},g._unrefActive=g.active=function(a){clearTimeout(a._idleTimeoutId);var l=a._idleTimeout;l>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},l))},i(286),g.setImmediate=typeof self<"u"&&self.setImmediate||p!==void 0&&p.setImmediate||this&&this.setImmediate,g.clearImmediate=typeof self<"u"&&self.clearImmediate||p!==void 0&&p.clearImmediate||this&&this.clearImmediate}).call(this,i(4))},function(s,g,i){(function(p,c,u){var h=i(23);function a(E){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(P,I,O){var B=P.entry;for(P.entry=null;B;){var R=B.callback;I.pendingcb--,R(O),B=B.next}I.corkedRequestsFree?I.corkedRequestsFree.next=P:I.corkedRequestsFree=P})(D,E)}}s.exports=x;var l,r=!p.browser&&["v0.10","v0.9."].indexOf(p.version.slice(0,5))>-1?c:h.nextTick;x.WritableState=k;var n=i(17);n.inherits=i(8);var o={deprecate:i(285)},d=i(60),f=i(22).Buffer,_=u.Uint8Array||function(){},m,v=i(59);function y(){}function k(E,D){l=l||i(12),E=E||{};var P=D instanceof l;this.objectMode=!!E.objectMode,P&&(this.objectMode=this.objectMode||!!E.writableObjectMode);var I=E.highWaterMark,O=E.writableHighWaterMark,B=this.objectMode?16:16384;this.highWaterMark=I||I===0?I:P&&(O||O===0)?O:B,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var R=E.decodeStrings===!1;this.decodeStrings=!R,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){(function(q,G){var L=q._writableState,F=L.sync,J=L.writecb;if(function(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}(L),G)(function(X,ne,ee,V,j){--ne.pendingcb,ee?(h.nextTick(j,V),h.nextTick($,X,ne),X._writableState.errorEmitted=!0,X.emit("error",V)):(j(V),X._writableState.errorEmitted=!0,X.emit("error",V),$(X,ne))})(q,L,F,G,J);else{var z=T(L);z||L.corked||L.bufferProcessing||!L.bufferedRequest||S(q,L),F?r(b,q,L,z,J):b(q,L,z,J)}})(D,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function x(E){if(l=l||i(12),!(m.call(x,this)||this instanceof l))return new x(E);this._writableState=new k(E,this),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),d.call(this)}function w(E,D,P,I,O,B,R){D.writelen=I,D.writecb=R,D.writing=!0,D.sync=!0,P?E._writev(O,D.onwrite):E._write(O,B,D.onwrite),D.sync=!1}function b(E,D,P,I){P||function(O,B){B.length===0&&B.needDrain&&(B.needDrain=!1,O.emit("drain"))}(E,D),D.pendingcb--,I(),$(E,D)}function S(E,D){D.bufferProcessing=!0;var P=D.bufferedRequest;if(E._writev&&P&&P.next){var I=D.bufferedRequestCount,O=new Array(I),B=D.corkedRequestsFree;B.entry=P;for(var R=0,H=!0;P;)O[R]=P,P.isBuf||(H=!1),P=P.next,R+=1;O.allBuffers=H,w(E,D,!0,D.length,O,"",B.finish),D.pendingcb++,D.lastBufferedRequest=null,B.next?(D.corkedRequestsFree=B.next,B.next=null):D.corkedRequestsFree=new a(D),D.bufferedRequestCount=0}else{for(;P;){var q=P.chunk,G=P.encoding,L=P.callback;if(w(E,D,!1,D.objectMode?1:q.length,q,G,L),P=P.next,D.bufferedRequestCount--,D.writing)break}P===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=P,D.bufferProcessing=!1}function T(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function N(E,D){E._final(function(P){D.pendingcb--,P&&E.emit("error",P),D.prefinished=!0,E.emit("prefinish"),$(E,D)})}function $(E,D){var P=T(D);return P&&(function(I,O){O.prefinished||O.finalCalled||(typeof I._final=="function"?(O.pendingcb++,O.finalCalled=!0,h.nextTick(N,I,O)):(O.prefinished=!0,I.emit("prefinish")))}(E,D),D.pendingcb===0&&(D.finished=!0,E.emit("finish"))),P}n.inherits(x,d),k.prototype.getBuffer=function(){for(var E=this.bufferedRequest,D=[];E;)D.push(E),E=E.next;return D},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(E){return!!m.call(this,E)||this===x&&E&&E._writableState instanceof k}})):m=function(E){return E instanceof this},x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},x.prototype.write=function(E,D,P){var I=this._writableState,O=!1,B=!I.objectMode&&function(R){return f.isBuffer(R)||R instanceof _}(E);return B&&!f.isBuffer(E)&&(E=function(R){return f.from(R)}(E)),typeof D=="function"&&(P=D,D=null),B?D="buffer":D||(D=I.defaultEncoding),typeof P!="function"&&(P=y),I.ended?function(R,H){var q=new Error("write after end");R.emit("error",q),h.nextTick(H,q)}(this,P):(B||function(R,H,q,G){var L=!0,F=!1;return q===null?F=new TypeError("May not write null values to stream"):typeof q=="string"||q===void 0||H.objectMode||(F=new TypeError("Invalid non-string/buffer chunk")),F&&(R.emit("error",F),h.nextTick(G,F),L=!1),L}(this,I,E,P))&&(I.pendingcb++,O=function(R,H,q,G,L,F){if(!q){var J=function(ee,V,j){return ee.objectMode||ee.decodeStrings===!1||typeof V!="string"||(V=f.from(V,j)),V}(H,G,L);G!==J&&(q=!0,L="buffer",G=J)}var z=H.objectMode?1:G.length;H.length+=z;var X=H.length<H.highWaterMark;if(X||(H.needDrain=!0),H.writing||H.corked){var ne=H.lastBufferedRequest;H.lastBufferedRequest={chunk:G,encoding:L,isBuf:q,callback:F,next:null},ne?ne.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else w(R,H,!1,z,G,L,F);return X}(this,I,B,E,D,P)),O},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.finished||E.bufferProcessing||!E.bufferedRequest||S(this,E))},x.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(E,D,P){P(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(E,D,P){var I=this._writableState;typeof E=="function"?(P=E,E=null,D=null):typeof D=="function"&&(P=D,D=null),E!=null&&this.write(E,D),I.corked&&(I.corked=1,this.uncork()),I.ending||I.finished||function(O,B,R){B.ending=!0,$(O,B),R&&(B.finished?h.nextTick(R):O.once("finish",R)),B.ended=!0,O.writable=!1}(this,I,P)},Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),x.prototype.destroy=v.destroy,x.prototype._undestroy=v.undestroy,x.prototype._destroy=function(E,D){this.end(),D(E)}}).call(this,i(9),i(57).setImmediate,i(4))},function(s,g,i){var p=i(23);function c(u,h){u.emit("error",h)}s.exports={destroy:function(u,h){var a=this,l=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return l||r?(h?h(u):!u||this._writableState&&this._writableState.errorEmitted||p.nextTick(c,this,u),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(n){!h&&n?(p.nextTick(c,a,n),a._writableState&&(a._writableState.errorEmitted=!0)):h&&h(n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(s,g,i){s.exports=i(61).EventEmitter},function(s,g){function i(a){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function p(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function c(a){return typeof a=="function"}function u(a){return i(a)==="object"&&a!==null}function h(a){return a===void 0}s.exports=p,p.EventEmitter=p,p.prototype._events=void 0,p.prototype._maxListeners=void 0,p.defaultMaxListeners=10,p.prototype.setMaxListeners=function(a){if(!function(l){return typeof l=="number"}(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},p.prototype.emit=function(a){var l,r,n,o,d,f;if(this._events||(this._events={}),a==="error"&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((l=arguments[1])instanceof Error)throw l;var _=new Error('Uncaught, unspecified "error" event. ('+l+")");throw _.context=l,_}if(h(r=this._events[a]))return!1;if(c(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(u(r))for(o=Array.prototype.slice.call(arguments,1),n=(f=r.slice()).length,d=0;d<n;d++)f[d].apply(this,o);return!0},p.prototype.addListener=function(a,l){var r;if(!c(l))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,c(l.listener)?l.listener:l),this._events[a]?u(this._events[a])?this._events[a].push(l):this._events[a]=[this._events[a],l]:this._events[a]=l,u(this._events[a])&&!this._events[a].warned&&(r=h(this._maxListeners)?p.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[a].length>r&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),typeof console.trace=="function"&&console.trace()),this},p.prototype.on=p.prototype.addListener,p.prototype.once=function(a,l){if(!c(l))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(a,n),r||(r=!0,l.apply(this,arguments))}return n.listener=l,this.on(a,n),this},p.prototype.removeListener=function(a,l){var r,n,o,d;if(!c(l))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(o=(r=this._events[a]).length,n=-1,r===l||c(r.listener)&&r.listener===l)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,l);else if(u(r)){for(d=o;d-- >0;)if(r[d]===l||r[d].listener&&r[d].listener===l){n=d;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[a]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",a,l)}return this},p.prototype.removeAllListeners=function(a){var l,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[a]&&delete this._events[a],this;if(arguments.length===0){for(l in this._events)l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events={},this}if(c(r=this._events[a]))this.removeListener(a,r);else if(r)for(;r.length;)this.removeListener(a,r[r.length-1]);return delete this._events[a],this},p.prototype.listeners=function(a){return this._events&&this._events[a]?c(this._events[a])?[this._events[a]]:this._events[a].slice():[]},p.prototype.listenerCount=function(a){if(this._events){var l=this._events[a];if(c(l))return 1;if(l)return l.length}return 0},p.listenerCount=function(a,l){return a.listenerCount(l)}},function(s,g,i){(function(p,c){var u=i(23);s.exports=w;var h,a=i(67);w.ReadableState=x,i(61).EventEmitter;var l=function(L,F){return L.listeners(F).length},r=i(60),n=i(22).Buffer,o=p.Uint8Array||function(){},d=i(17);d.inherits=i(8);var f=i(289),_=void 0;_=f&&f.debuglog?f.debuglog("stream"):function(){};var m,v=i(288),y=i(59);d.inherits(w,r);var k=["error","close","destroy","pause","resume"];function x(L,F){h=h||i(12),L=L||{};var J=F instanceof h;this.objectMode=!!L.objectMode,J&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var z=L.highWaterMark,X=L.readableHighWaterMark,ne=this.objectMode?16:16384;this.highWaterMark=z||z===0?z:J&&(X||X===0)?X:ne,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(m||(m=i(56).StringDecoder),this.decoder=new m(L.encoding),this.encoding=L.encoding)}function w(L){if(h=h||i(12),!(this instanceof w))return new w(L);this._readableState=new x(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),r.call(this)}function b(L,F,J,z,X){var ne,ee=L._readableState;return F===null?(ee.reading=!1,function(V,j){if(!j.ended){if(j.decoder){var M=j.decoder.end();M&&M.length&&(j.buffer.push(M),j.length+=j.objectMode?1:M.length)}j.ended=!0,$(V)}}(L,ee)):(X||(ne=function(V,j){var M;return function(A){return n.isBuffer(A)||A instanceof o}(j)||typeof j=="string"||j===void 0||V.objectMode||(M=new TypeError("Invalid non-string/buffer chunk")),M}(ee,F)),ne?L.emit("error",ne):ee.objectMode||F&&F.length>0?(typeof F=="string"||ee.objectMode||Object.getPrototypeOf(F)===n.prototype||(F=function(V){return n.from(V)}(F)),z?ee.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):S(L,ee,F,!0):ee.ended?L.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!J?(F=ee.decoder.write(F),ee.objectMode||F.length!==0?S(L,ee,F,!1):D(L,ee)):S(L,ee,F,!1))):z||(ee.reading=!1)),function(V){return!V.ended&&(V.needReadable||V.length<V.highWaterMark||V.length===0)}(ee)}function S(L,F,J,z){F.flowing&&F.length===0&&!F.sync?(L.emit("data",J),L.read(0)):(F.length+=F.objectMode?1:J.length,z?F.buffer.unshift(J):F.buffer.push(J),F.needReadable&&$(L)),D(L,F)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(L,F){this.push(null),F(L)},w.prototype.push=function(L,F){var J,z=this._readableState;return z.objectMode?J=!0:typeof L=="string"&&((F=F||z.defaultEncoding)!==z.encoding&&(L=n.from(L,F),F=""),J=!0),b(this,L,F,!1,J)},w.prototype.unshift=function(L){return b(this,L,null,!0,!1)},w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(L){return m||(m=i(56).StringDecoder),this._readableState.decoder=new m(L),this._readableState.encoding=L,this};var T=8388608;function N(L,F){return L<=0||F.length===0&&F.ended?0:F.objectMode?1:L!=L?F.flowing&&F.length?F.buffer.head.data.length:F.length:(L>F.highWaterMark&&(F.highWaterMark=function(J){return J>=T?J=T:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}(L)),L<=F.length?L:F.ended?F.length:(F.needReadable=!0,0))}function $(L){var F=L._readableState;F.needReadable=!1,F.emittedReadable||(_("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?u.nextTick(E,L):E(L))}function E(L){_("emit readable"),L.emit("readable"),B(L)}function D(L,F){F.readingMore||(F.readingMore=!0,u.nextTick(P,L,F))}function P(L,F){for(var J=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(_("maybeReadMore read 0"),L.read(0),J!==F.length);)J=F.length;F.readingMore=!1}function I(L){_("readable nexttick read 0"),L.read(0)}function O(L,F){F.reading||(_("resume read 0"),L.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,L.emit("resume"),B(L),F.flowing&&!F.reading&&L.read(0)}function B(L){var F=L._readableState;for(_("flow",F.flowing);F.flowing&&L.read()!==null;);}function R(L,F){return F.length===0?null:(F.objectMode?J=F.buffer.shift():!L||L>=F.length?(J=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):J=function(z,X,ne){var ee;return z<X.head.data.length?(ee=X.head.data.slice(0,z),X.head.data=X.head.data.slice(z)):ee=z===X.head.data.length?X.shift():ne?function(V,j){var M=j.head,A=1,U=M.data;for(V-=U.length;M=M.next;){var W=M.data,K=V>W.length?W.length:V;if(K===W.length?U+=W:U+=W.slice(0,V),(V-=K)===0){K===W.length?(++A,M.next?j.head=M.next:j.head=j.tail=null):(j.head=M,M.data=W.slice(K));break}++A}return j.length-=A,U}(z,X):function(V,j){var M=n.allocUnsafe(V),A=j.head,U=1;for(A.data.copy(M),V-=A.data.length;A=A.next;){var W=A.data,K=V>W.length?W.length:V;if(W.copy(M,M.length-V,0,K),(V-=K)===0){K===W.length?(++U,A.next?j.head=A.next:j.head=j.tail=null):(j.head=A,A.data=W.slice(K));break}++U}return j.length-=U,M}(z,X),ee}(L,F.buffer,F.decoder),J);var J}function H(L){var F=L._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,u.nextTick(q,F,L))}function q(L,F){L.endEmitted||L.length!==0||(L.endEmitted=!0,F.readable=!1,F.emit("end"))}function G(L,F){for(var J=0,z=L.length;J<z;J++)if(L[J]===F)return J;return-1}w.prototype.read=function(L){_("read",L),L=parseInt(L,10);var F=this._readableState,J=L;if(L!==0&&(F.emittedReadable=!1),L===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return _("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?H(this):$(this),null;if((L=N(L,F))===0&&F.ended)return F.length===0&&H(this),null;var z,X=F.needReadable;return _("need readable",X),(F.length===0||F.length-L<F.highWaterMark)&&_("length less than watermark",X=!0),F.ended||F.reading?_("reading or ended",X=!1):X&&(_("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(L=N(J,F))),(z=L>0?R(L,F):null)===null?(F.needReadable=!0,L=0):F.length-=L,F.length===0&&(F.ended||(F.needReadable=!0),J!==L&&F.ended&&H(this)),z!==null&&this.emit("data",z),z},w.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(L,F){var J=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=L;break;case 1:z.pipes=[z.pipes,L];break;default:z.pipes.push(L)}z.pipesCount+=1,_("pipe count=%d opts=%j",z.pipesCount,F);var X=(!F||F.end!==!1)&&L!==c.stdout&&L!==c.stderr?ee:ae;function ne(Q,ie){_("onunpipe"),Q===J&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,_("cleanup"),L.removeListener("close",W),L.removeListener("finish",K),L.removeListener("drain",V),L.removeListener("error",U),L.removeListener("unpipe",ne),J.removeListener("end",ee),J.removeListener("end",ae),J.removeListener("data",A),j=!0,!z.awaitDrain||L._writableState&&!L._writableState.needDrain||V())}function ee(){_("onend"),L.end()}z.endEmitted?u.nextTick(X):J.once("end",X),L.on("unpipe",ne);var V=function(Q){return function(){var ie=Q._readableState;_("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&l(Q,"data")&&(ie.flowing=!0,B(Q))}}(J);L.on("drain",V);var j=!1,M=!1;function A(Q){_("ondata"),M=!1,L.write(Q)!==!1||M||((z.pipesCount===1&&z.pipes===L||z.pipesCount>1&&G(z.pipes,L)!==-1)&&!j&&(_("false write response, pause",J._readableState.awaitDrain),J._readableState.awaitDrain++,M=!0),J.pause())}function U(Q){_("onerror",Q),ae(),L.removeListener("error",U),l(L,"error")===0&&L.emit("error",Q)}function W(){L.removeListener("finish",K),ae()}function K(){_("onfinish"),L.removeListener("close",W),ae()}function ae(){_("unpipe"),J.unpipe(L)}return J.on("data",A),function(Q,ie,fe){if(typeof Q.prependListener=="function")return Q.prependListener(ie,fe);Q._events&&Q._events[ie]?a(Q._events[ie])?Q._events[ie].unshift(fe):Q._events[ie]=[fe,Q._events[ie]]:Q.on(ie,fe)}(L,"error",U),L.once("close",W),L.once("finish",K),L.emit("pipe",J),z.flowing||(_("pipe resume"),J.resume()),L},w.prototype.unpipe=function(L){var F=this._readableState,J={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return L&&L!==F.pipes?this:(L||(L=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,L&&L.emit("unpipe",this,J),this);if(!L){var z=F.pipes,X=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var ne=0;ne<X;ne++)z[ne].emit("unpipe",this,J);return this}var ee=G(F.pipes,L);return ee===-1?this:(F.pipes.splice(ee,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),L.emit("unpipe",this,J),this)},w.prototype.on=function(L,F){var J=r.prototype.on.call(this,L,F);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var z=this._readableState;z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&$(this):u.nextTick(I,this))}return J},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var L=this._readableState;return L.flowing||(_("resume"),L.flowing=!0,function(F,J){J.resumeScheduled||(J.resumeScheduled=!0,u.nextTick(O,F,J))}(this,L)),this},w.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(L){var F=this,J=this._readableState,z=!1;for(var X in L.on("end",function(){if(_("wrapped end"),J.decoder&&!J.ended){var ee=J.decoder.end();ee&&ee.length&&F.push(ee)}F.push(null)}),L.on("data",function(ee){_("wrapped data"),J.decoder&&(ee=J.decoder.write(ee)),(!J.objectMode||ee!=null)&&(J.objectMode||ee&&ee.length)&&(F.push(ee)||(z=!0,L.pause()))}),L)this[X]===void 0&&typeof L[X]=="function"&&(this[X]=function(ee){return function(){return L[ee].apply(L,arguments)}}(X));for(var ne=0;ne<k.length;ne++)L.on(k[ne],this.emit.bind(this,k[ne]));return this._read=function(ee){_("wrapped _read",ee),z&&(z=!1,L.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=R}).call(this,i(4),i(9))},function(s,g,i){(g=s.exports=i(62)).Stream=g,g.Readable=g,g.Writable=i(58),g.Duplex=i(12),g.Transform=i(55),g.PassThrough=i(284)},function(s,g,i){(function(p,c,u){var h=i(65),a=i(8),l=i(63),r=g.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},n=g.IncomingMessage=function(o,d,f,_){var m=this;if(l.Readable.call(m),m._mode=f,m.headers={},m.rawHeaders=[],m.trailers={},m.rawTrailers=[],m.on("end",function(){p.nextTick(function(){m.emit("close")})}),f==="fetch"){if(m._fetchResponse=d,m.url=d.url,m.statusCode=d.status,m.statusMessage=d.statusText,d.headers.forEach(function(w,b){m.headers[b.toLowerCase()]=w,m.rawHeaders.push(b,w)}),h.writableStream){var v=new WritableStream({write:function(w){return new Promise(function(b,S){m._destroyed?S():m.push(new u(w))?b():m._resumeFetch=b})},close:function(){c.clearTimeout(_),m._destroyed||m.push(null)},abort:function(w){m._destroyed||m.emit("error",w)}});try{return void d.body.pipeTo(v).catch(function(w){c.clearTimeout(_),m._destroyed||m.emit("error",w)})}catch{}}var y=d.body.getReader();(function w(){y.read().then(function(b){if(!m._destroyed){if(b.done)return c.clearTimeout(_),void m.push(null);m.push(new u(b.value)),w()}}).catch(function(b){c.clearTimeout(_),m._destroyed||m.emit("error",b)})})()}else if(m._xhr=o,m._pos=0,m.url=o.responseURL,m.statusCode=o.status,m.statusMessage=o.statusText,o.getAllResponseHeaders().split(/\r?\n/).forEach(function(w){var b=w.match(/^([^:]+):\s*(.*)/);if(b){var S=b[1].toLowerCase();S==="set-cookie"?(m.headers[S]===void 0&&(m.headers[S]=[]),m.headers[S].push(b[2])):m.headers[S]!==void 0?m.headers[S]+=", "+b[2]:m.headers[S]=b[2],m.rawHeaders.push(b[1],b[2])}}),m._charset="x-user-defined",!h.overrideMimeType){var k=m.rawHeaders["mime-type"];if(k){var x=k.match(/;\s*charset=([^;])(;|$)/);x&&(m._charset=x[1].toLowerCase())}m._charset||(m._charset="utf-8")}};a(n,l.Readable),n.prototype._read=function(){var o=this._resumeFetch;o&&(this._resumeFetch=null,o())},n.prototype._onXHRProgress=function(){var o=this,d=o._xhr,f=null;switch(o._mode){case"text:vbarray":if(d.readyState!==r.DONE)break;try{f=new c.VBArray(d.responseBody).toArray()}catch{}if(f!==null){o.push(new u(f));break}case"text":try{f=d.responseText}catch{o._mode="text:vbarray";break}if(f.length>o._pos){var _=f.substr(o._pos);if(o._charset==="x-user-defined"){for(var m=new u(_.length),v=0;v<_.length;v++)m[v]=255&_.charCodeAt(v);o.push(m)}else o.push(_,o._charset);o._pos=f.length}break;case"arraybuffer":if(d.readyState!==r.DONE||!d.response)break;f=d.response,o.push(new u(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=d.response,d.readyState!==r.LOADING||!f)break;o.push(new u(new Uint8Array(f)));break;case"ms-stream":if(f=d.response,d.readyState!==r.LOADING)break;var y=new c.MSStreamReader;y.onprogress=function(){y.result.byteLength>o._pos&&(o.push(new u(new Uint8Array(y.result.slice(o._pos)))),o._pos=y.result.byteLength)},y.onload=function(){o.push(null)},y.readAsArrayBuffer(f)}o._xhr.readyState===r.DONE&&o._mode!=="ms-stream"&&o.push(null)}}).call(this,i(9),i(4),i(13).Buffer)},function(s,g,i){(function(p){g.fetch=r(p.fetch)&&r(p.ReadableStream),g.writableStream=r(p.WritableStream),g.abortController=r(p.AbortController),g.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),g.blobConstructor=!0}catch{}var c;function u(){if(c!==void 0)return c;if(p.XMLHttpRequest){c=new p.XMLHttpRequest;try{c.open("GET",p.XDomainRequest?"/":"https://example.com")}catch{c=null}}else c=null;return c}function h(n){var o=u();if(!o)return!1;try{return o.responseType=n,o.responseType===n}catch{}return!1}var a=p.ArrayBuffer!==void 0,l=a&&r(p.ArrayBuffer.prototype.slice);function r(n){return typeof n=="function"}g.arraybuffer=g.fetch||a&&h("arraybuffer"),g.msstream=!g.fetch&&l&&h("ms-stream"),g.mozchunkedarraybuffer=!g.fetch&&a&&h("moz-chunked-arraybuffer"),g.overrideMimeType=g.fetch||!!u()&&r(u().overrideMimeType),g.vbArray=r(p.VBArray),c=null}).call(this,i(4))},function(s,g,i){(function(p){var c=i(290),u=i(64),h=i(282),a=i(281),l=i(54),r=g;r.request=function(n,o){n=typeof n=="string"?l.parse(n):h(n);var d=p.location.protocol.search(/^https?:$/)===-1?"http:":"",f=n.protocol||d,_=n.hostname||n.host,m=n.port,v=n.path||"/";_&&_.indexOf(":")!==-1&&(_="["+_+"]"),n.url=(_?f+"//"+_:"")+(m?":"+m:"")+v,n.method=(n.method||"GET").toUpperCase(),n.headers=n.headers||{};var y=new c(n);return o&&y.on("response",o),y},r.get=function(n,o){var d=r.request(n,o);return d.end(),d},r.ClientRequest=c,r.IncomingMessage=u.IncomingMessage,r.Agent=function(){},r.Agent.defaultMaxSockets=4,r.globalAgent=new r.Agent,r.STATUS_CODES=a,r.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,i(4))},function(s,g){var i={}.toString;s.exports=Array.isArray||function(p){return i.call(p)=="[object Array]"}},function(s,g,i){s.exports=function(p){var c=i(47),u={};p.attachEvent("onClearAll",function(){u={}});var h=c.prototype.hasChild;p.$data.tasksStore.hasChild=function(a){return p.config.branch_loading?!!h.call(this,a)||!!this.exists(a)&&this.getItem(a)[p.config.branch_loading_property]:h.call(this,a)},p.attachEvent("onTaskOpened",function(a){if(p.config.branch_loading&&p._load_url&&function(d){return!(!p.config.branch_loading||!p._load_url||u[d]||p.getChildren(d).length||!p.hasChild(d))}(a)){var l=p._load_url,r=(l=l.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",n=p.getScrollState().y||0,o={taskId:a,url:l+r+"parent_id="+encodeURIComponent(a)};if(p.callEvent("onBeforeBranchLoading",[o])===!1)return;p.load(o.url,this._load_type,function(){n&&p.scrollTo(null,n),p.callEvent("onAfterBranchLoading",[o])}),u[a]=!0}})}},function(s,g){s.exports=function(i){i.load=function(p,c,u){this._load_url=p,this.assert(arguments.length,"Invalid load arguments");var h="json",a=null;return arguments.length>=3?(h=c,a=u):typeof arguments[1]=="string"?h=arguments[1]:typeof arguments[1]=="function"&&(a=arguments[1]),this._load_type=h,this.callEvent("onLoadStart",[p,h]),this.ajax.get(p,i.bind(function(l){this.on_load(l,h),this.callEvent("onLoadEnd",[p,h]),typeof a=="function"&&a.call(this)},this))}}},function(s,g){s.exports=function(i){var p=new RegExp(`<(?:.|
)*?>`,"gm"),c=new RegExp(" +","gm");function u(r){return(r+"").replace(p," ").replace(c," ")}var h=new RegExp("'","gm");function a(r){return(r+"").replace(h,"&#39;")}for(var l in i._waiAria={getAttributeString:function(r){var n=[" "];for(var o in r){var d=a(u(r[o]));n.push(o+"='"+d+"'")}return n.push(" "),n.join(" ")},getTimelineCellAttr:function(r){return i._waiAria.getAttributeString({"aria-label":r})},_taskCommonAttr:function(r,n){r.start_date&&r.end_date&&(n.setAttribute("aria-label",u(i.templates.tooltip_text(r.start_date,r.end_date,r))),r.$dataprocessor_class&&n.setAttribute("aria-busy",!0))},setTaskBarAttr:function(r,n){this._taskCommonAttr(r,n),n.setAttribute("role","img"),!i.isReadonly(r)&&i.config.drag_move&&(r.id!=i.getState("tasksDnd").drag_id?n.setAttribute("aria-grabbed",!1):n.setAttribute("aria-grabbed",!0))},taskRowAttr:function(r,n){this._taskCommonAttr(r,n),!i.isReadonly(r)&&i.config.order_branch&&n.setAttribute("aria-grabbed",!1),n.setAttribute("role","row"),n.setAttribute("aria-selected",i.isSelectedTask(r.id)?"true":"false"),n.setAttribute("aria-level",r.$level+1||1),i.hasChild(r.id)&&n.setAttribute("aria-expanded",r.$open?"true":"false")},linkAttr:function(r,n){var o=i.config.links,d=r.type==o.finish_to_start||r.type==o.start_to_start,f=r.type==o.start_to_start||r.type==o.start_to_finish,_=i.locale.labels.link+" "+i.templates.drag_link(r.source,f,r.target,d);n.setAttribute("role","img"),n.setAttribute("aria-label",u(_)),i.isReadonly(r)&&n.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(r){r.setAttribute("role","columnheader")},rowResizerAttr:function(r){r.setAttribute("role","row")},lightboxHiddenAttr:function(r){r.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(r){r.setAttribute("aria-hidden","false")},lightboxAttr:function(r){r.setAttribute("role","dialog"),r.setAttribute("aria-hidden","true"),r.firstChild.setAttribute("role","heading"),r.firstChild.setAttribute("aria-level","1")},lightboxButtonAttrString:function(r){return this.getAttributeString({role:"button","aria-label":i.locale.labels[r],tabindex:"0"})},lightboxHeader:function(r,n){r.setAttribute("aria-label",n)},lightboxSelectAttrString:function(r){var n="";switch(r){case"%Y":n=i.locale.labels.years;break;case"%m":n=i.locale.labels.months;break;case"%d":n=i.locale.labels.days;break;case"%H:%i":n=i.locale.labels.hours+i.locale.labels.minutes}return i._waiAria.getAttributeString({"aria-label":n})},lightboxDurationInputAttrString:function(r){return this.getAttributeString({"aria-label":i.locale.labels.column_duration,"aria-valuemin":"0",role:"spinbutton"})},inlineEditorAttr:function(r){r.setAttribute("role","row")},gridAttrString:function(){return[" role='treegrid'",i.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(r,n){var o="";if(r.name=="add")o=this.getAttributeString({role:"columnheader","aria-label":i.locale.labels.new_task});else{var d={role:"columnheader","aria-label":n};i._sort&&i._sort.name==r.name&&(i._sort.direction=="asc"?d["aria-sort"]="ascending":d["aria-sort"]="descending"),o=this.getAttributeString(d)}return o},gridDataAttrString:function(){return"role='rowgroup'"},reorderMarkerAttr:function(r){r.setAttribute("role","grid"),r.firstChild.removeAttribute("aria-level"),r.firstChild.setAttribute("aria-grabbed","true")},gridCellAttrString:function(r,n,o){var d={role:"gridcell","aria-label":n};return r.editor&&!i.isReadonly(o)||(d["aria-readonly"]=!0),this.getAttributeString(d)},gridAddButtonAttrString:function(r){return this.getAttributeString({role:"button","aria-label":i.locale.labels.new_task})},messageButtonAttrString:function(r){return"tabindex='0' role='button' aria-label='"+r+"'"},messageInfoAttr:function(r){r.setAttribute("role","alert")},messageModalAttr:function(r,n){r.setAttribute("role","dialog"),n&&r.setAttribute("aria-labelledby",n)},quickInfoAttr:function(r){r.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' aria-level='1' "},quickInfoHeader:function(r,n){r.setAttribute("aria-label",n)},quickInfoButtonAttrString:function(r){return i._waiAria.getAttributeString({role:"button","aria-label":r,tabindex:"0"})},tooltipAttr:function(r){r.setAttribute("role","tooltip")},tooltipVisibleAttr:function(r){r.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(r){r.setAttribute("aria-hidden","true")}},i._waiAria)i._waiAria[l]=function(r){return function(){return i.config.wai_aria_attributes?r.apply(this,arguments):""}}(i._waiAria[l])}},function(s,g){s.exports=function(i){i._extend_to_optional=function(p){var c=p,u={render:c.render,focus:c.focus,set_value:function(h,a,l,r){var n=i._resolve_default_mapping(r);if(!l[n.start_date]||n.start_date=="start_date"&&this._isAllowedUnscheduledTask(l)){u.disable(h,r);var o={};for(var d in n)o[n[d]]=l[d];return c.set_value.call(i,h,a,o,r)}return u.enable(h,r),c.set_value.call(i,h,a,l,r)},get_value:function(h,a,l){return l.disabled?{start_date:null}:c.get_value.call(i,h,a,l)},update_block:function(h,a){if(i.callEvent("onSectionToggle",[i._lightbox_id,a]),h.style.display=a.disabled?"none":"block",a.button){var l=h.previousSibling.querySelector(".gantt_custom_button_label"),r=i.locale.labels,n=a.disabled?r[a.name+"_enable_button"]:r[a.name+"_disable_button"];l.innerHTML=n}i.resizeLightbox()},disable:function(h,a){a.disabled=!0,u.update_block(h,a)},enable:function(h,a){a.disabled=!1,u.update_block(h,a)},button_click:function(h,a,l,r){if(i.callEvent("onSectionButton",[i._lightbox_id,l])!==!1){var n=i._get_typed_lightbox_config()[h];n.disabled?u.enable(r,n):u.disable(r,n)}}};return u},i.form_blocks.duration_optional=i._extend_to_optional(i.form_blocks.duration),i.form_blocks.time_optional=i._extend_to_optional(i.form_blocks.time)}},function(s,g,i){var p=i(3);s.exports=function(c){var u=i(18)(c);function h(){return u.apply(this,arguments)||this}return p(h,u),h.prototype.render=function(a){var l=c.config.types,r=c.locale.labels,n=[],o=a.filter||function(_,m){return!l.placeholder||m!==l.placeholder};for(var d in l)o(d,l[d])&&n.push({key:l[d],label:r["type_"+d]});a.options=n;var f=a.onchange;return a.onchange=function(){c._lightbox_current_type=this.value,c.changeLightboxType(this.value),typeof f=="function"&&f.apply(this,arguments)},u.prototype.render.apply(this,arguments)},h}},function(s,g,i){var p=i(3),c=i(36);s.exports=function(u){var h=i(7)(u);function a(){return h.apply(this,arguments)||this}function l(n){return!n||n===u.config.constraint_types.ASAP||n===u.config.constraint_types.ALAP}function r(n,o){for(var d=l(o),f=0;f<n.length;f++)n[f].disabled=d}return p(a,h),a.prototype.render=function(n){var o=(n.height||30)+"px",d="<div class='gantt_cal_ltext gantt_section_"+n.name+"' style='height:"+o+";'>",f=[];for(var _ in u.config.constraint_types)f.push({key:u.config.constraint_types[_],label:u.locale.labels[u.config.constraint_types[_]]});return n.options=n.options||f,d+="<span data-constraint-type-select>"+c.getHtmlSelect(n.options,[{key:"data-type",value:"constraint-type"}])+"</span>",d+="<label data-constraint-time-select>"+(u.locale.labels.constraint_date||"Constraint date")+": "+u.form_blocks.getTimePicker.call(this,n)+"</label>",d+="</div>"},a.prototype.set_value=function(n,o,d,f){var _=n.querySelector("[data-constraint-type-select] select"),m=n.querySelectorAll("[data-constraint-time-select] select"),v=f._time_format_order,y=u._resolve_default_mapping(f);_._eventsInitialized||(_.addEventListener("change",function(w){r(m,w.target.value)}),_._eventsInitialized=!0);var k=d[y.constraint_date]||new Date;u.form_blocks._fill_lightbox_select(m,0,k,v,f);var x=d[y.constraint_type]||u.getConstraintType(d);_.value=x,r(m,x)},a.prototype.get_value=function(n,o,d){var f=n.querySelector("[data-constraint-type-select] select"),_=n.querySelectorAll("[data-constraint-time-select] select"),m=f.value,v=null;return l(m)||(v=u.form_blocks.getTimePickerValue(_,d)),{constraint_type:m,constraint_date:v}},a.prototype.focus=function(n){u._focus(n.querySelector("select"))},a}},function(s,g,i){var p=i(3);s.exports=function(c){var u=i(18)(c);function h(){return u.apply(this,arguments)||this}function a(l,r){var n=[],o=[];r&&(n=c.getTaskByTime(),l.allow_root&&n.unshift({id:c.config.root_id,text:l.root_label||""}),n=function(m,v,y){var k=v.filter||function(){return!0};m=m.slice(0);for(var x=0;x<m.length;x++){var w=m[x];(w.id==y||c.isChildOf(w.id,y)||k(w.id,w)===!1)&&(m.splice(x,1),x--)}return m}(n,l,r),l.sort&&n.sort(l.sort));for(var d=l.template||c.templates.task_text,f=0;f<n.length;f++){var _=d.apply(c,[n[f].start_date,n[f].end_date,n[f]]);_===void 0&&(_=""),o.push({key:n[f].id,label:_})}return l.options=o,l.map_to=l.map_to||"parent",c.form_blocks.select.render.apply(this,arguments)}return p(h,u),h.prototype.render=function(l){return a(l,!1)},h.prototype.set_value=function(l,r,n,o){r===0&&(r="0");var d=document.createElement("div");d.innerHTML=a(o,n.id);var f=d.removeChild(d.firstChild);return l.onselect=null,l.parentNode.replaceChild(f,l),c.form_blocks.select.set_value.apply(c,[f,r,n,o])},h}},function(s,g,i){var p=i(3),c=i(44).default;s.exports=function(u){var h=i(7)(u);function a(){return h.apply(this,arguments)||this}function l(o){return o.formatter||new c}function r(o,d){var f=o.getElementsByTagName("select"),_=d._time_format_order,m=0,v=0;if(u.defined(_[3])){var y=f[_[3]],k=parseInt(y.value,10);isNaN(k)&&y.hasAttribute("data-value")&&(k=parseInt(y.getAttribute("data-value"),10)),m=Math.floor(k/60),v=k%60}return new Date(f[_[2]].value,f[_[1]].value,f[_[0]].value,m,v)}function n(o,d){var f=o.getElementsByTagName("input")[1];return(f=l(d).parse(f.value))&&!window.isNaN(f)||(f=1),f<0&&(f*=-1),f}return p(a,h),a.prototype.render=function(o){var d="<div class='gantt_time_selects'>"+u.form_blocks.getTimePicker.call(this,o)+"</div>",f=" "+u.locale.labels[u.config.duration_unit+"s"]+" ",_=o.single_date?" style='display:none'":"",m=o.readonly?" disabled='disabled'":"",v=u._waiAria.lightboxDurationInputAttrString(o),y="gantt_duration_value";o.formatter&&(f="",y+=" gantt_duration_value_formatted");var k="<div class='gantt_duration' "+_+"><input type='button' class='gantt_duration_dec' value='−'"+m+"><input type='text' value='5days' class='"+y+"'"+m+" "+v+"><input type='button' class='gantt_duration_inc' value='+'"+m+">"+f+"<span></span></div>",x="gantt_section_time";return o.name!=="time"&&(x+=" gantt_section_"+o.name),"<div style='height:"+(o.height||30)+"px;padding-top:0px;font-size:inherit;' class='"+x+"'>"+d+" "+k+"</div>"},a.prototype.set_value=function(o,d,f,_){var m,v,y,k,x=o.getElementsByTagName("select"),w=o.getElementsByTagName("input"),b=w[1],S=[w[0],w[2]],T=o.getElementsByTagName("span")[0],N=_._time_format_order;function $(){var D=r.call(u,o,_),P=n.call(u,o,_),I=u.calculateEndDate({start_date:D,duration:P,task:f}),O=u.templates.task_end_date||u.templates.task_date;T.innerHTML=O(I)}function E(D){var P=b.value;P=l(_).parse(P),window.isNaN(P)&&(P=0),(P+=D)<1&&(P=1),b.value=l(_).format(P),$()}S[0].onclick=u.bind(function(){E(-1*u.config.duration_step)},this),S[1].onclick=u.bind(function(){E(1*u.config.duration_step)},this),x[0].onchange=$,x[1].onchange=$,x[2].onchange=$,x[3]&&(x[3].onchange=$),b.onkeydown=u.bind(function(D){var P;return(P=(D=D||window.event).charCode||D.keyCode||D.which)==u.constants.KEY_CODES.DOWN?(E(-1*u.config.duration_step),!1):P==u.constants.KEY_CODES.UP?(E(1*u.config.duration_step),!1):void window.setTimeout($,1)},this),b.onchange=u.bind($,this),typeof(m=u._resolve_default_mapping(_))=="string"&&(m={start_date:m}),v=f[m.start_date]||new Date,y=f[m.end_date]||u.calculateEndDate({start_date:v,duration:1,task:f}),k=Math.round(f[m.duration])||u.calculateDuration({start_date:v,end_date:y,task:f}),k=l(_).format(k),u.form_blocks._fill_lightbox_select(x,0,v,N,_),b.value=k,$()},a.prototype.get_value=function(o,d,f){var _=r(o,f),m=n(o,f),v=u.calculateEndDate({start_date:_,duration:m,task:d});return typeof u._resolve_default_mapping(f)=="string"?_:{start_date:_,end_date:v,duration:m}},a.prototype.focus=function(o){u._focus(o.getElementsByTagName("select")[0])},a}},function(s,g,i){var p=i(3);s.exports=function(c){var u=i(7)(c);function h(){return u.apply(this,arguments)||this}return p(h,u),h.prototype.render=function(a){var l=(a.height||"23")+"px",r="<div class='gantt_cal_ltext gantt_section_"+a.name+"' style='height:"+l+";'>";if(a.options&&a.options.length)for(var n=0;n<a.options.length;n++)r+="<label><input type='radio' value='"+a.options[n].key+"' name='"+a.name+"'>"+a.options[n].label+"</label>";return r+="</div>"},h.prototype.set_value=function(a,l,r,n){var o;n.options&&n.options.length&&(o=a.querySelector("input[type=radio][value='"+l+"']")||a.querySelector("input[type=radio][value='"+n.default_value+"']"))&&(!a._dhx_onchange&&n.onchange&&(a.onchange=n.onchange,a._dhx_onchange=!0),o.checked=!0)},h.prototype.get_value=function(a,l){var r=a.querySelector("input[type=radio]:checked");return r?r.value:""},h.prototype.focus=function(a){c._focus(a.querySelector("input[type=radio]"))},h}},function(s,g,i){var p=i(2),c=i(3);s.exports=function(u){var h=i(7)(u);function a(){return h.apply(this,arguments)||this}return c(a,h),a.prototype.render=function(l){var r=(l.height||"23")+"px",n="<div class='gantt_cal_ltext gantt_section_"+l.name+"' style='height:"+r+";'>";if(l.options&&l.options.length)for(var o=0;o<l.options.length;o++)n+="<label><input type='checkbox' value='"+l.options[o].key+"' name='"+l.name+"'>"+l.options[o].label+"</label>";else l.single_value=!0,n+="<label><input type='checkbox' name='"+l.name+"'></label>";return n+="</div>"},a.prototype.set_value=function(l,r,n,o){var d=Array.prototype.slice.call(l.querySelectorAll("input[type=checkbox]"));!l._dhx_onchange&&o.onchange&&(l.onchange=o.onchange,l._dhx_onchange=!0),o.single_value?d[0].checked=!!r:p.forEach(d,function(f){f.checked=!!r&&r.indexOf(f.value)>=0})},a.prototype.get_value=function(l,r,n){return n.single_value?l.querySelector("input[type=checkbox]").checked:p.arrayMap(Array.prototype.slice.call(l.querySelectorAll("input[type=checkbox]:checked")),function(o){return o.value})},a.prototype.focus=function(l){u._focus(l.querySelector("input[type=checkbox]"))},a}},function(s,g,i){var p=i(3);s.exports=function(c){var u=i(7)(c);function h(){return u.apply(this,arguments)||this}return p(h,u),h.prototype.render=function(a){var l=c.form_blocks.getTimePicker.call(this,a),r="gantt_section_time";a.name!=="time"&&(r+=" gantt_section_"+a.name);var n="<div style='height:"+(a.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='"+r+"'>";return n+=l,a.single_date?(l=c.form_blocks.getTimePicker.call(this,a,!0),n+="<span></span>"):n+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",n+=l,n+="</div>"},h.prototype.set_value=function(a,l,r,n){var o=n,d=a.getElementsByTagName("select"),f=n._time_format_order;if(o.auto_end_date)for(var _=function(){y=new Date(d[f[2]].value,d[f[1]].value,d[f[0]].value,0,0),k=c.calculateEndDate({start_date:y,duration:1,task:r}),c.form_blocks._fill_lightbox_select(d,f.size,k,f,o)},m=0;m<4;m++)d[m].onchange=_;var v=c._resolve_default_mapping(n);typeof v=="string"&&(v={start_date:v});var y=r[v.start_date]||new Date,k=r[v.end_date]||c.calculateEndDate({start_date:y,duration:1,task:r});c.form_blocks._fill_lightbox_select(d,0,y,f,o),c.form_blocks._fill_lightbox_select(d,f.size,k,f,o)},h.prototype.get_value=function(a,l,r){var n,o=a.getElementsByTagName("select"),d=r._time_format_order;return n=c.form_blocks.getTimePickerValue(o,r),typeof c._resolve_default_mapping(r)=="string"?n:{start_date:n,end_date:function(f,_,m){var v=c.form_blocks.getTimePickerValue(f,r,_.size);return v<=m&&(r.autofix_end!==!1||r.single_date)?c.date.add(m,c._get_timepicker_step(),"minute"):v}(o,d,n)}},h.prototype.focus=function(a){c._focus(a.getElementsByTagName("select")[0])},h}},function(s,g,i){var p=i(3);s.exports=function(c){var u=i(7)(c);function h(){return u.apply(this,arguments)||this}return p(h,u),h.prototype.render=function(a){var l=(a.height||"130")+"px";return"<div class='gantt_cal_ltext gantt_section_"+a.name+"' style='height:"+l+";'><textarea></textarea></div>"},h.prototype.set_value=function(a,l){c.form_blocks.textarea._get_input(a).value=l||""},h.prototype.get_value=function(a){return c.form_blocks.textarea._get_input(a).value},h.prototype.focus=function(a){var l=c.form_blocks.textarea._get_input(a);c._focus(l,!0)},h.prototype._get_input=function(a){return a.querySelector("textarea")},h}},function(s,g,i){var p=i(3);s.exports=function(c){var u=i(7)(c);function h(){return u.apply(this,arguments)||this}return p(h,u),h.prototype.render=function(a){var l=(a.height||"30")+"px";return"<div class='gantt_cal_ltext gantt_cal_template gantt_section_"+a.name+"' style='height:"+l+";'></div>"},h.prototype.set_value=function(a,l){a.innerHTML=l||""},h.prototype.get_value=function(a){return a.innerHTML||""},h.prototype.focus=function(){},h}},function(s,g,i){function p(c){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}s.exports=function(c){var u=i(1),h=i(2),a=i(80)(c),l=i(79)(c),r=i(78)(c),n=i(18)(c),o=i(77)(c),d=i(76)(c),f=i(75)(c),_=i(74)(c),m=i(18)(c),v=i(73)(c),y=i(72)(c);function k(w,b){var S,T,N="";for(T=0;T<w.length;T++)S=c.config._migrate_buttons[w[T]]?c.config._migrate_buttons[w[T]]:w[T],N+="<div "+c._waiAria.lightboxButtonAttrString(S)+" class='gantt_btn_set gantt_left_btn_set "+S+"_set'"+(b?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+S+"'></div><div>"+c.locale.labels[S]+"</div></div>";return N}function x(w,b,S){var T,N,$,E,D,P,I="";switch(S.timeFormat[b]){case"%Y":for(w._time_format_order[2]=b,w._time_format_order.size++,w.year_range&&(isNaN(w.year_range)?w.year_range.push&&($=w.year_range[0],E=w.year_range[1]):T=w.year_range),T=T||10,N=N||Math.floor(T/2),$=$||S.date.getFullYear()-N,E=E||c.getState().max_date.getFullYear()+N,D=$;D<E;D++)I+="<option value='"+D+"'>"+D+"</option>";break;case"%m":for(w._time_format_order[1]=b,w._time_format_order.size++,D=0;D<12;D++)I+="<option value='"+D+"'>"+c.locale.date.month_full[D]+"</option>";break;case"%d":for(w._time_format_order[0]=b,w._time_format_order.size++,D=1;D<32;D++)I+="<option value='"+D+"'>"+D+"</option>";break;case"%H:%i":for(w._time_format_order[3]=b,w._time_format_order.size++,D=S.first,P=S.date.getDate(),w._time_values=[];D<S.last;)I+="<option value='"+D+"'>"+c.templates.time_picker(S.date)+"</option>",w._time_values.push(D),S.date.setTime(S.date.valueOf()+60*c._get_timepicker_step()*1e3),D=24*(S.date.getDate()!=P?1:0)*60+60*S.date.getHours()+S.date.getMinutes()}return I}c._lightbox_methods={},c._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",c._lightbox_root=c.$root,c.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:c._lightbox_id}}),c.showLightbox=function(w){var b=this.getTask(w);if(this.callEvent("onBeforeLightbox",[w])){var S=this.getLightbox(this.getTaskType(b.type));this._center_lightbox(S),this.showCover(),this._fill_lightbox(w,S),this._waiAria.lightboxVisibleAttr(S),this.callEvent("onLightbox",[w])}else c.isTaskExists(w)&&c.getTask(w).$new&&this.$data.tasksStore._updateOrder()},c._get_timepicker_step=function(){if(this.config.round_dnd_dates){var w;if(function(S){var T=S.$ui.getView("timeline");return!(!T||!T.isVisible())}(this)){var b=c.getScale();w=h.getSecondsInUnit(b.unit)*b.step/60}return(!w||w>=1440)&&(w=this.config.time_step),w}return this.config.time_step},c.getLabel=function(w,b){for(var S=this._get_typed_lightbox_config(),T=0;T<S.length;T++)if(S[T].map_to==w){for(var N=S[T].options,$=0;$<N.length;$++)if(N[$].key==b)return N[$].label}return""},c.updateCollection=function(w,b){b=b.slice(0);var S=c.serverList(w);if(!S)return!1;S.splice(0,S.length),S.push.apply(S,b||[]),c.resetLightbox()},c.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},c.getLightbox=function(w){var b,S,T,N,$,E="";if(function(){var P=c.config.csp===!0,I=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;c._lightbox_root=P||I?c.$root:document.body}(),w===void 0&&(w=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(w)){this._lightbox_type=this.getTaskType(w),b=document.createElement("div"),E="gantt_cal_light",S=this._is_lightbox_timepicker(),c.config.wide_form&&(E+=" gantt_cal_light_wide"),S&&(E+=" gantt_cal_light_full"),b.className=E,b.style.visibility="hidden",T=this._lightbox_template,T+=k(this.config.buttons_left),T+=k(this.config.buttons_right,!0),b.innerHTML=T,c._waiAria.lightboxAttr(b),c.config.drag_lightbox&&(b.firstChild.onmousedown=c._ready_to_dnd,b.firstChild.ontouchstart=function(P){c._ready_to_dnd(P.touches[0])},b.firstChild.onselectstart=function(){return!1},b.firstChild.style.cursor="pointer",c._init_dnd_events()),this._lightbox&&this.resetLightbox(),c._lightbox_root.insertBefore(b,c._lightbox_root.firstChild),this._lightbox=b,N=this._get_typed_lightbox_config(w),T=this._render_sections(N);var D=($=b.querySelector("div.gantt_cal_larea")).style.overflow;$.style.overflow="hidden",$.innerHTML=T,function(P){var I,O,B,R,H,q;for(q=0;q<P.length;q++)I=P[q],B=c._lightbox_root.querySelector("#"+I.id),I.id&&B&&(O=B.querySelector("label"),(R=B.nextSibling)&&(H=R.querySelector("input, select, textarea"))&&(H.id=H.id||"input_"+c.uid(),I.inputId=H.id,O.setAttribute("for",I.inputId)))}(N),this.resizeLightbox(),$.style.overflow=D,this._init_lightbox_events(this),b.style.display="none",b.style.visibility="visible"}return this._lightbox},c._render_sections=function(w){for(var b="",S=0;S<w.length;S++){var T=this.form_blocks[w[S].type];if(T){w[S].id="area_"+this.uid();var N=w[S].hidden?" style='display:none'":"",$="";w[S].button&&($="<div class='gantt_custom_button' data-index='"+S+"'><div class='gantt_custom_button_"+w[S].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+w[S].button]+"</div></div>"),this.config.wide_form&&(b+="<div class='gantt_wrap_section' "+N+">"),b+="<div id='"+w[S].id+"' class='gantt_cal_lsection'><label>"+$+this.locale.labels["section_"+w[S].name]+"</label></div>"+T.render.call(this,w[S]),b+="</div>"}}return b},c.resizeLightbox=function(){if(this._lightbox){var w=this._lightbox.querySelector(".gantt_cal_larea");w.style.height="0px",w.style.height=w.scrollHeight+"px",this._lightbox.style.height=w.scrollHeight+this.config.lightbox_additional_height+"px",w.style.height=w.scrollHeight+"px"}},c._center_lightbox=function(w){if(w){w.style.display="block";var b=window.pageYOffset||c._lightbox_root.scrollTop||document.documentElement.scrollTop,S=window.pageXOffset||c._lightbox_root.scrollLeft||document.documentElement.scrollLeft,T=window.innerHeight||document.documentElement.clientHeight;c._lightbox_root==c.$root&&(b-=document.documentElement.scrollTop+c.$root.getBoundingClientRect().top),w.style.top=b?Math.round(b+Math.max((T-w.offsetHeight)/2,0))+"px":Math.round(Math.max((T-w.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>c._lightbox_root.offsetWidth?w.style.left=Math.round(S+(c._lightbox_root.offsetWidth-w.offsetWidth)/2)+"px":w.style.left=Math.round((c._lightbox_root.offsetWidth-w.offsetWidth)/2)+"px"}},c.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(c._lightbox_root||c.$root).appendChild(this._cover))},c.event(window,"deviceorientation",function(){c.getState().lightbox&&c._center_lightbox(c.getLightbox())}),c._init_lightbox_events=function(){c.lightbox_events={},c.lightbox_events.gantt_save_btn=function(){c._save_lightbox()},c.lightbox_events.gantt_delete_btn=function(){c._lightbox_current_type=null,c.callEvent("onLightboxDelete",[c._lightbox_id])&&(c.isTaskExists(c._lightbox_id)?c.$click.buttons.delete(c._lightbox_id):c.hideLightbox())},c.lightbox_events.gantt_cancel_btn=function(){c._cancel_lightbox()},c.lightbox_events.default=function(w,b){if(b.getAttribute("data-dhx-button"))c.callEvent("onLightboxButton",[b.className,b,w]);else{var S,T,N=u.getClassName(b);if(N.indexOf("gantt_custom_button")!=-1)if(N.indexOf("gantt_custom_button_")!=-1)for(S=b.parentNode.getAttribute("data-index"),T=b;T&&u.getClassName(T).indexOf("gantt_cal_lsection")==-1;)T=T.parentNode;else S=b.getAttribute("data-index"),T=b.parentNode,b=b.firstChild;var $=c._get_typed_lightbox_config();S&&(S*=1,c.form_blocks[$[1*S].type].button_click(S,b,T,T.nextSibling))}},this.event(c.getLightbox(),"click",function(w){w=w||window.event;var b=u.getTargetNode(w),S=u.getClassName(b);return S||(b=b.previousSibling,S=u.getClassName(b)),b&&S&&S.indexOf("gantt_btn_set")===0&&(b=b.firstChild,S=u.getClassName(b)),!(!b||!S)&&(c.defined(c.lightbox_events[b.className])?c.lightbox_events[b.className]:c.lightbox_events.default)(w,b)}),c.getLightbox().onkeydown=function(w){var b=w||window.event,S=w.target||w.srcElement,T=u.getClassName(S).indexOf("gantt_btn_set")>-1;switch((w||b).keyCode){case c.constants.KEY_CODES.SPACE:if((w||b).shiftKey)return;T&&S.click&&S.click();break;case c.keys.edit_save:if((w||b).shiftKey)return;T&&S.click?S.click():c._save_lightbox();break;case c.keys.edit_cancel:c._cancel_lightbox()}}},c._cancel_lightbox=function(){var w=this.getLightboxValues();c._lightbox_current_type=null,this.callEvent("onLightboxCancel",[this._lightbox_id,w.$new]),c.isTaskExists(w.id)&&w.$new&&(this.silent(function(){c.$data.tasksStore.removeItem(w.id),c._update_flags(w.id,null)}),this.refreshData()),this.hideLightbox()},c._save_lightbox=function(){var w=this.getLightboxValues();c._lightbox_current_type=null,this.callEvent("onLightboxSave",[this._lightbox_id,w,!!w.$new])&&(c.$data.tasksStore._skipTaskRecalculation="lightbox",w.$new?(delete w.$new,this.addTask(w,w.parent,this.getTaskIndex(w.id))):this.isTaskExists(w.id)&&(this.mixin(this.getTask(w.id),w,!0),this.refreshTask(w.id),this.updateTask(w.id)),c.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},c._resolve_default_mapping=function(w){var b=w.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[w.type]?w.map_to=="auto"?b={start_date:"start_date",end_date:"end_date",duration:"duration"}:typeof w.map_to=="string"&&(b={start_date:w.map_to}):w.type==="constraint"&&(w.map_to&&typeof w.map_to!="string"||(b={constraint_type:"constraint_type",constraint_date:"constraint_date"})),b},c.getLightboxValues=function(){var w={};c.isTaskExists(this._lightbox_id)&&(w=this.mixin({},this.getTask(this._lightbox_id)));for(var b=this._get_typed_lightbox_config(),S=0;S<b.length;S++){var T=c._lightbox_root.querySelector("#"+b[S].id);T=T&&T.nextSibling;var N=this.form_blocks[b[S].type];if(N){var $=N.get_value.call(this,T,w,b[S]),E=c._resolve_default_mapping(b[S]);if(typeof E=="string"&&E!="auto")w[E]=$;else if(p(E)=="object")for(var D in E)E[D]&&(w[E[D]]=$[D])}}return c._lightbox_current_type&&(w.type=c._lightbox_current_type),w},c.hideLightbox=function(){var w=this.getLightbox();w&&(w.style.display="none"),this._waiAria.lightboxHiddenAttr(w),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},c.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},c.resetLightbox=function(){c._lightbox&&!c._custom_lightbox&&c._lightbox.parentNode.removeChild(c._lightbox),c._lightbox=null,c.hideCover()},c._set_lightbox_values=function(w,b){var S=w,T=b.getElementsByTagName("span"),N=[];c.templates.lightbox_header?(N.push(""),N.push(c.templates.lightbox_header(S.start_date,S.end_date,S)),T[1].innerHTML="",T[2].innerHTML=c.templates.lightbox_header(S.start_date,S.end_date,S)):(N.push(this.templates.task_time(S.start_date,S.end_date,S)),N.push(String(this.templates.task_text(S.start_date,S.end_date,S)||"").substr(0,70)),T[1].innerHTML=this.templates.task_time(S.start_date,S.end_date,S),T[2].innerHTML=String(this.templates.task_text(S.start_date,S.end_date,S)||"").substr(0,70)),T[1].innerHTML=N[0],T[2].innerHTML=N[1],c._waiAria.lightboxHeader(b,N.join(" "));for(var $=this._get_typed_lightbox_config(this.getLightboxType()),E=0;E<$.length;E++){var D=$[E];if(this.form_blocks[D.type]){var P=c._lightbox_root.querySelector("#"+D.id).nextSibling,I=this.form_blocks[D.type],O=c._resolve_default_mapping($[E]),B=this.defined(S[O])?S[O]:D.default_value;I.set_value.call(c,P,B,S,D),D.focus&&I.focus.call(c,P)}}c.isTaskExists(w.id)&&(c._lightbox_id=w.id)},c._fill_lightbox=function(w,b){var S=this.getTask(w);this._set_lightbox_values(S,b)},c.getLightboxSection=function(w){for(var b=this._get_typed_lightbox_config(),S=0;S<b.length&&b[S].name!=w;S++);var T=b[S];if(!T)return null;this._lightbox||this.getLightbox();var N=c._lightbox_root.querySelector("#"+T.id),$=N.nextSibling,E={section:T,header:N,node:$,getValue:function(P){return c.form_blocks[T.type].get_value.call(c,$,P||{},T)},setValue:function(P,I){return c.form_blocks[T.type].set_value.call(c,$,P,I||{},T)}},D=this._lightbox_methods["get_"+T.type+"_control"];return D?D(E):E},c._lightbox_methods.get_template_control=function(w){return w.control=w.node,w},c._lightbox_methods.get_select_control=function(w){return w.control=w.node.getElementsByTagName("select")[0],w},c._lightbox_methods.get_textarea_control=function(w){return w.control=w.node.getElementsByTagName("textarea")[0],w},c._lightbox_methods.get_time_control=function(w){return w.control=w.node.getElementsByTagName("select"),w},c._init_dnd_events=function(){var w=c._lightbox_root;this.event(w,"mousemove",c._move_while_dnd),this.event(w,"mouseup",c._finish_dnd),this.event(w,"touchmove",function(b){c._move_while_dnd(b.touches[0])}),this.event(w,"touchend",function(b){c._finish_dnd(b.touches[0])})},c._move_while_dnd=function(w){if(c._dnd_start_lb){document.gantt_unselectable||(c._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var b=c.getLightbox(),S=[w.pageX,w.pageY];b.style.top=c._lb_start[1]+S[1]-c._dnd_start_lb[1]+"px",b.style.left=c._lb_start[0]+S[0]-c._dnd_start_lb[0]+"px"}},c._ready_to_dnd=function(w){var b=c.getLightbox();c._lb_start=[parseInt(b.style.left,10),parseInt(b.style.top,10)],c._dnd_start_lb=[w.pageX,w.pageY]},c._finish_dnd=function(){c._lb_start&&(c._lb_start=c._dnd_start_lb=!1,c._lightbox_root.className=c._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},c._focus=function(w,b){if(w&&w.focus&&!c.config.touch)try{b&&w.select&&w.select(),w.focus()}catch{}},c.form_blocks={getTimePicker:function(w,b){var S,T,N,$="",E=this.config,D={first:0,last:1440,date:this.date.date_part(new Date(c._min_date.valueOf())),timeFormat:function(P){var I,O,B;return P.time_format?P.time_format:(B=["%d","%m","%Y"],I=c.getScale(),O=I?I.unit:c.config.duration_unit,h.getSecondsInUnit(O)<h.getSecondsInUnit("day")&&B.push("%H:%i"),B)}(w)};for(w._time_format_order={size:0},c.config.limit_time_select&&(D.first=60*E.first_hour,D.last=60*E.last_hour+1,D.date.setHours(E.first_hour)),S=0;S<D.timeFormat.length;S++)S>0&&($+=" "),(T=x(w,S,D))&&(N=c._waiAria.lightboxSelectAttrString(D.timeFormat[S]),$+="<select "+(w.readonly?"disabled='disabled'":"")+(b?" style='display:none' ":"")+N+">"+T+"</select>");return $},getTimePickerValue:function(w,b,S){var T,N=b._time_format_order,$=c.defined(N[3]),E=0,D=0,P=S||0;return $&&(T=parseInt(w[N[3]+P].value,10),E=Math.floor(T/60),D=T%60),new Date(w[N[2]+P].value,w[N[1]+P].value,w[N[0]+P].value,E,D)},_fill_lightbox_select:function(w,b,S,T){if(w[b+T[0]].value=S.getDate(),w[b+T[1]].value=S.getMonth(),w[b+T[2]].value=S.getFullYear(),c.defined(T[3])){var N=60*S.getHours()+S.getMinutes();N=Math.round(N/c._get_timepicker_step())*c._get_timepicker_step();var $=w[b+T[3]];$.value=N,$.setAttribute("data-value",N)}},template:new a,textarea:new l,select:new n,time:new r,duration:new f,parent:new _,radio:new d,checkbox:new o,resources:new m,constraint:new v,typeselect:new y},c._is_lightbox_timepicker=function(){for(var w=this._get_typed_lightbox_config(),b=0;b<w.length;b++)if(w[b].name=="time"&&w[b].type=="time")return!0;return!1},c._simple_confirm=function(w,b,S,T){if(!w)return S();var N={text:w};b&&(N.title=b),T&&(N.ok=T),S&&(N.callback=function($){$&&S()}),c.confirm(N)},c._get_typed_lightbox_config=function(w){w===void 0&&(w=this.getLightboxType());var b=(function(S){for(var T in this.config.types)if(this.config.types[T]==S)return T;return"task"}).call(this,w);return c.config.lightbox[b+"_sections"]?c.config.lightbox[b+"_sections"]:c.config.lightbox.sections},c._silent_redraw_lightbox=function(w){var b=this.getLightboxType();if(this.getState().lightbox){var S=this.getState().lightbox,T=this.getLightboxValues(),N=this.copy(this.getTask(S));this.resetLightbox();var $=this.mixin(N,T,!0),E=this.getLightbox(w||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values($,E),this.showCover()}else this.resetLightbox(),this.getLightbox(w||void 0);this.callEvent("onLightboxChange",[b,this.getLightboxType()])}}},function(s,g){s.exports=function(i){function p(){if(i.config.touch!="force"&&(i.config.touch=i.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),i.config.touch){var a=!0;try{document.createEvent("TouchEvent")}catch{a=!1}a?i._touch_events(["touchmove","touchstart","touchend"],function(l){return l.touches&&l.touches.length>1?null:l.touches[0]?{target:l.target,pageX:l.touches[0].pageX,pageY:l.touches[0].pageY,clientX:l.touches[0].clientX,clientY:l.touches[0].clientY}:l},function(){return!1}):window.navigator.pointerEnabled?i._touch_events(["pointermove","pointerdown","pointerup"],function(l){return l.pointerType=="mouse"?null:l},function(l){return!l||l.pointerType=="mouse"}):window.navigator.msPointerEnabled&&i._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(l){return l.pointerType==l.MSPOINTER_TYPE_MOUSE?null:l},function(l){return!l||l.pointerType==l.MSPOINTER_TYPE_MOUSE})}}function c(a){var l=a.$config.scrollX?i.$ui.getView(a.$config.scrollX):null,r=a.$config.scrollY?i.$ui.getView(a.$config.scrollY):null,n={x:null,y:null};return l&&l.getScrollState().visible&&(n.x=l.$view.scrollLeft),r&&r.getScrollState().visible&&(n.y=r.$view.scrollTop),n}function u(){var a;return i.$ui.getView("timeline")&&(a=i.$ui.getView("timeline")._tasks_dnd),a}i.config.touch_drag=500,i.config.touch=!0,i.config.touch_feedback=!0,i.config.touch_feedback_duration=1,i._prevent_touch_scroll=!1,i._touch_feedback=function(){i.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(i.config.touch_feedback_duration)},i.attachEvent("onGanttReady",function(){i.$container&&p()}),i.attachEvent("onGanttLayoutReady",function(){i.$container&&i.attachEvent("onGanttRender",p,{once:!0})});var h=[];i._touch_events=function(a,l,r){for(var n,o=0,d=!1,f=!1,_=null,m=null,v=null,y=[],k=null,x={},w=0;w<h.length;w++)i.eventRemove(h[w][0],h[w][1],h[w][2]);(h=[]).push([i.$container,a[0],function(S){var T=u();if(!r(S)&&d){m&&clearTimeout(m);var N=l(S);if(T&&(T.drag.id||T.drag.start_drag))return T.on_mouse_move(N),S.preventDefault&&S.preventDefault(),S.cancelBubble=!0,!1;if(!i._prevent_touch_scroll){if(N&&_){var $=_.pageX-N.pageX,E=_.pageY-N.pageY;if(!f&&(Math.abs($)>5||Math.abs(E)>5)&&(f=!0,o=0,n=k?c(k):i.getScrollState()),f){var D,P=n.x+$,I=n.y+E;if(k?(function(O,B,R){var H=O.$config.scrollX?i.$ui.getView(O.$config.scrollX):null,q=O.$config.scrollY?i.$ui.getView(O.$config.scrollY):null;H&&H.scrollTo(B,null),q&&q.scrollTo(null,R)}(k,P,I),D=c(k)):(i.scrollTo(P,I),D=i.getScrollState()),n.x!=D.x&&E>2*$||n.y!=D.y&&$>2*E)return b(S)}}return b(S)}return!0}}]);try{document.addEventListener("touchmove",function(S){i._touch_drag&&b(S)},{passive:!1})}catch{console.warn("Cannot prevent touch event for the page drag")}for(h.push([this.$container,"contextmenu",function(S){if(d)return b(S)}]),h.push([this.$container,a[1],function(S){if(x=S.touches.length,document&&document.body&&document.body.classList.add("gantt_touch_active"),!r(S))if(S.touches&&S.touches.length>1)d=!1;else{_=l(S),k=function(N){for(var $=i.$layout.getCellsByType("viewCell"),E=0;E<$.length;E++){var D=$[E].$view.getBoundingClientRect();if(N.clientX>=D.left&&N.clientX<=D.right&&N.clientY<=D.bottom&&N.clientY>=D.top)return $[E]}}(_),i._locate_css(_,"gantt_hor_scroll")||i._locate_css(_,"gantt_ver_scroll")||(d=!0);var T=u();m=setTimeout(function(){var N=i.locate(_);T&&N&&!i._locate_css(_,"gantt_link_control")&&!i._locate_css(_,"gantt_grid_data")&&(T.on_mouse_down(_),T.drag&&T.drag.start_drag&&(function($){var E=i._getTaskLayers(),D=i.getTask($);if(D){var P=i.isTaskVisible($);if(P){v=$;for(var I=0;I<E.length;I++)if((D=E[I].rendered[$])&&D.getAttribute(i.config.task_attribute)&&D.getAttribute(i.config.task_attribute)==$){var O=D.cloneNode(!0);y.push(D),E[I].rendered[$]=O,D.style.display="none",O.className+=" gantt_drag_move ",D.parentNode.appendChild(O)}}else if(D.$split_subtask){var B=D.$rendered_parent;if(!(P=i.isTaskVisible(B)))return;v=$;for(var R=0;R<E.length;R++){var H=E[R].rendered[B],q=void 0;if(H&&H.childNodes&&(q=H.querySelector("[".concat(i.config.task_attribute,'="').concat(D.id,'"]'))),q){var G=q.cloneNode(!0);q.parentNode.appendChild(G),i.$task_bars.appendChild(q),q.style.display="none",y.push(q),q=null}}}}}(N),T._start_dnd(_),i._touch_drag=!0,i.refreshTask(N),i._touch_feedback())),m=null},i.config.touch_drag)}}]),h.push([this.$container,a[2],function(S){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!r(S)){m&&clearTimeout(m),i._touch_drag=!1,d=!1;var T=l(S),N=u();if(N&&N.on_mouse_up(T),v&&i.isTaskExists(v)&&(i.refreshTask(v),y.length&&(y.forEach(function(E){E.parentNode&&E.parentNode.removeChild(E)}),i._touch_feedback())),d=f=!1,y=[],v=null,_&&o){var $=new Date;$-o<500&&x<=1?(i.$services.getService("mouseEvents").onDoubleClick(_),b(S)):o=$}else o=new Date}}]),w=0;w<h.length;w++)i.event(h[w][0],h[w][1],h[w][2]);function b(S){return S&&S.preventDefault&&S.cancelable&&S.preventDefault(),S.cancelBubble=!0,!1}}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(11),c=i(5),u=["ctrlKey","altKey","shiftKey","metaKey"],h=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],a=function(){function l(r){var n=this;this.zoomIn=function(){var o=n.getCurrentLevel()-1;o<0||n.setLevel(o)},this.zoomOut=function(){var o=n.getCurrentLevel()+1;o>n._levels.length-1||n.setLevel(o)},this.getCurrentLevel=function(){return n._activeLevelIndex},this.getLevels=function(){return n._levels},this.setLevel=function(o){var d=n._getZoomIndexByName(o);d===-1&&n.$gantt.assert(d!==-1,"Invalid zoom level for gantt.ext.zoom.setLevel. "+o+" is not an expected value."),n._setLevel(d,0)},this._getZoomIndexByName=function(o){var d=-1;if(typeof o=="string"){if(!isNaN(Number(o))&&n._levels[Number(o)])d=Number(o);else for(var f=0;f<n._levels.length;f++)if(n._levels[f].name===o){d=f;break}}else d=o;return d},this._getVisibleDate=function(){if(!n.$gantt.$task)return null;var o=n.$gantt.getScrollState().x,d=n.$gantt.$task.offsetWidth;n._visibleDate=n.$gantt.dateFromPos(o+d/2)},this._setLevel=function(o,d){n._activeLevelIndex=o;var f=n.$gantt,_=f.copy(n._levels[n._activeLevelIndex]),m=f.copy(_);if(delete m.name,f.mixin(f.config,m,!0),!!f.$root&&!!f.$task){if(d){var v=n.$gantt.dateFromPos(d+n.$gantt.getScrollState().x);n.$gantt.render();var y=n.$gantt.posFromDate(v);n.$gantt.scrollTo(y-d)}else{var k=n.$gantt.$task.offsetWidth;n._visibleDate||n._getVisibleDate();var x=n._visibleDate;n.$gantt.render(),y=n.$gantt.posFromDate(x),n.$gantt.scrollTo(y-k/2)}n.callEvent("onAfterZoom",[n._activeLevelIndex,_])}},this._attachWheelEvent=function(o){var d,f=p.isFF?"wheel":"mousewheel";(d=typeof o.element=="function"?o.element():o.element)&&n._domEvents.attach(d,f,n.$gantt.bind(function(_){if(this._useKey&&(u.indexOf(this._useKey)<0||!_[this._useKey]))return!1;if(typeof this._handler=="function")return this._handler.apply(this,[_]),!0},n),{passive:!1})},this._defaultHandler=function(o){var d=n.$gantt.$task.getBoundingClientRect().x,f=o.clientX-d,_=!1;(n.$gantt.env.isFF?-40*o.deltaY:o.wheelDelta)>0&&(_=!0),o.preventDefault(),o.stopPropagation(),n._setScaleSettings(_,f)},this._setScaleDates=function(){n._initialStartDate&&n._initialEndDate&&(n.$gantt.config.start_date=n._initialStartDate,n.$gantt.config.end_date=n._initialEndDate)},this.$gantt=r,this._domEvents=this.$gantt._createDomEventScope()}return l.prototype.init=function(r){var n=this;this.$gantt.env.isNode||(this._initialStartDate=r.startDate,this._initialEndDate=r.endDate,this._activeLevelIndex=r.activeLevelIndex?r.activeLevelIndex:0,this._levels=this._mapScales(r.levels||h),this._handler=r.handler||this._defaultHandler,this._minColumnWidth=r.minColumnWidth||60,this._maxColumnWidth=r.maxColumnWidth||240,this._widthStep=r.widthStep||3/8*r.minColumnWidth,this._useKey=r.useKey,this._initialized||(c(this),this.$gantt.attachEvent("onGanttScroll",function(){n._getVisibleDate()})),this._domEvents.detachAll(),r.trigger==="wheel"&&(this.$gantt.$root?this._attachWheelEvent(r):this.$gantt.attachEvent("onGanttReady",function(){n._attachWheelEvent(r)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},l.prototype._mapScales=function(r){return r.map(function(n){return Array.isArray(n)?{scales:n}:n})},l.prototype._setScaleSettings=function(r,n){r?this._stepUp(n):this._stepDown(n)},l.prototype._stepUp=function(r){if(!(this._activeLevelIndex>=this._levels.length-1)){var n=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var o=this.$gantt.config.min_column_width+this._widthStep;o>this._maxColumnWidth&&(o=this._minColumnWidth,n++),this.$gantt.config.min_column_width=o}else n++;this._setLevel(n,r)}},l.prototype._stepDown=function(r){if(!(this._activeLevelIndex<1)){var n=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var o=this.$gantt.config.min_column_width-this._widthStep;o<this._minColumnWidth&&(o=this._maxColumnWidth,n--),this.$gantt.config.min_column_width=o}else n--;this._setLevel(n,r)}},l}();g.default=a},function(s,g){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(i,p,c){var u=document.createElement("DIV");c=c||window.gantt,u.id="gantt_"+c.uid(),u.style.width="100%",u.style.height="100%",u.cmp="grid",document.body.appendChild(u),this.attachObject(u.id),this.dataType="gantt",this.dataObj=c;var h=this.vs[this.av];return h.grid=c,c.init(u.id,i,p),u.firstChild.style.border="none",h.gridId=u.id,h.gridObj=u,this.vs[this._viewRestore()].grid}),window.dhtmlXCellObject!==void 0&&(window.dhtmlXCellObject.prototype.attachGantt=function(i,p,c){c=c||window.gantt;var u=document.createElement("DIV");return u.id="gantt_"+c.uid(),u.style.width="100%",u.style.height="100%",u.cmp="grid",document.body.appendChild(u),this.attachObject(u.id),this.dataType="gantt",this.dataObj=c,c.init(u.id,i,p),u.firstChild.style.border="none",u=null,this.callEvent("_onContentAttach",[]),this.dataObj}),s.exports=null},function(s,g){function i(p){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(p)}window.jQuery&&function(p){var c=[];p.fn.dhx_gantt=function(u){if(typeof(u=u||{})!="string"){var h=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)h.push(i(this.gantt)=="object"?this.gantt:window.gantt);else{var a=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var l in u)l!="data"&&(a.config[l]=u[l]);a.init(this),u.data&&a.parse(u.data),h.push(a)}}),h.length===1?h[0]:h}if(c[u])return c[u].apply(this,[]);p.error("Method "+u+" does not exist on jQuery.dhx_gantt")}}(window.jQuery),s.exports=null},function(s,g,i){var p=i(1),c=i(15);s.exports=function(u){var h=50,a=30,l=10,r=50,n=null,o=!1,d=null,f={started:!1},_={};function m(S){return S&&p.isChildOf(S,u.$root)&&S.offsetHeight}function v(){var S=!!document.querySelector(".gantt_drag_marker"),T=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),N=!!document.querySelector(".gantt_link_direction"),$=u.getState(),E=$.autoscroll;return o=S&&!T&&!N,!(!$.drag_mode&&!S||T)||E}function y(S){if(d&&(clearTimeout(d),d=null),S){var T=u.config.autoscroll_speed;T&&T<10&&(T=10),d=setTimeout(function(){n=setInterval(w,T||r)},u.config.autoscroll_delay||l)}}function k(S){S?(y(!0),f.started||(f.x=_.x,f.y=_.y,f.started=!0)):(n&&(clearInterval(n),n=null),y(!1),f.started=!1)}function x(S){var T=v();if(!n&&!d||T||k(!1),!u.config.autoscroll||!T)return!1;_={x:S.clientX,y:S.clientY},S.type=="touchmove"&&(_.x=S.targetTouches[0].clientX,_.y=S.targetTouches[0].clientY),!n&&T&&k(!0)}function w(){if(!v())return k(!1),!1;var S=m(u.$task)?u.$task:m(u.$grid)?u.$grid:u.$root;if(S){var T=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(F){T=T||!!document.querySelector(F)}),T&&(S=u.$grid);var N=p.getNodePosition(S),$=_.x-N.x,E=_.y-N.y+window.scrollY,D=o?0:b($,N.width,f.x-N.x),P=b(E,N.height,f.y-N.y+window.scrollY),I=u.getScrollState(),O=I.y,B=I.inner_height,R=I.height,H=I.x,q=I.inner_width,G=I.width;(P&&!B||P<0&&!O||P>0&&O+B>=R+2)&&(P=0),(D&&!q||D<0&&!H||D>0&&H+q>=G)&&(D=0);var L=u.config.autoscroll_step;L&&L<2&&(L=2),D*=L||a,P*=L||a,(D||P)&&function(F,J){var z=u.getScrollState(),X=null,ne=null;F&&(X=z.x+F,X=Math.min(z.width,X),X=Math.max(0,X)),J&&(ne=z.y+J,ne=Math.min(z.height,ne),ne=Math.max(0,ne)),u.scrollTo(X,ne)}(D,P)}}function b(S,T,N){return S-h<0&&S<N?-1:S>T-h&&S>N?1:0}u.attachEvent("onGanttReady",function(){if(!c(u)){var S=p.getRootNode(u.$root)||document.body;u.eventRemove(S,"mousemove",x),u.event(S,"mousemove",x),u.eventRemove(S,"touchmove",x),u.event(S,"touchmove",x),u.eventRemove(S,"pointermove",x),u.event(S,"pointermove",x)}}),u.attachEvent("onDestroy",function(){k(!1)})}},function(s,g,i){s.exports=function(p){p.ext||(p.ext={});for(var c=[i(86),i(85),i(84)],u=0;u<c.length;u++)c[u]&&c[u](p);var h=i(83).default;p.ext.zoom=new h(p)}},function(s,g){s.exports=function(i){i.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(s,g){s.exports=function(i){i.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(s,g){s.exports=function(i){i.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},i.attachEvent("onAfterTaskDrag",function(p){var c=i.getTaskNode(p);c&&(c.className+=" gantt_drag_animation",setTimeout(function(){var u=c.className.indexOf(" gantt_drag_animation");u>-1&&(c.className=c.className.slice(0,u))},200))})}},function(s,g){s.exports=function(i){i.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(s,g){s.exports=function(i){i.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(s,g){s.exports=function(i){i.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(s,g){s.exports=function(i){i.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(s,g){function i(p,c){var u=c.skin;if(!u||p)for(var h=document.getElementsByTagName("link"),a=0;a<h.length;a++){var l=h[a].href.match("dhtmlxgantt_([a-z_]+).css");if(l&&(c.skins[l[1]]||!u)){u=l[1];break}}c.skin=u||"terrace";var r=c.skins[c.skin]||c.skins.terrace;(function(d,f,_){for(var m in f)(d[m]===void 0||_)&&(d[m]=f[m])})(c.config,r.config,p);var n=c.getGridColumns();for(n[1]&&!c.defined(n[1].width)&&(n[1].width=r._second_column_width),n[2]&&!c.defined(n[2].width)&&(n[2].width=r._third_column_width),a=0;a<n.length;a++){var o=n[a];o.name=="add"&&(o.width||(o.width=44),c.defined(o.min_width)&&c.defined(o.max_width)||(o.min_width=o.min_width||o.width,o.max_width=o.max_width||o.width),o.min_width&&(o.min_width=+o.min_width),o.max_width&&(o.max_width=+o.max_width),o.width&&(o.width=+o.width,o.width=o.min_width&&o.min_width>o.width?o.min_width:o.width,o.width=o.max_width&&o.max_width<o.width?o.max_width:o.width))}r.config.task_height&&(c.config.task_height=r.config.task_height||"full"),r.config.bar_height&&(c.config.bar_height=r.config.bar_height||"full"),r._lightbox_template&&(c._lightbox_template=r._lightbox_template),r._redefine_lightbox_buttons&&(c.config.buttons_right=r._redefine_lightbox_buttons.buttons_right,c.config.buttons_left=r._redefine_lightbox_buttons.buttons_left),c.resetLightbox()}s.exports=function(p){p.resetSkin||(p.resetSkin=function(){this.skin="",i(!0,this)},p.skins={},p.attachEvent("onGanttLayoutReady",function(){i(!1,this)}))}},function(s,g){s.exports=function(){function i(n){return n.$ui.getView("timeline")}function p(n){return n.$ui.getView("grid")}function c(n){var o=i(n);if(o&&!o.$config.hidden)return o;var d=p(n);return d&&!d.$config.hidden?d:null}function u(n){var o=null,d=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(f){d=d||!!document.querySelector(f)}),(o=d?p(n):c(n))?a(n,o,"scrollY"):null}function h(n){var o=c(n);return o&&o.id!="grid"?a(n,o,"scrollX"):null}function a(n,o,d){var f=o.$config[d];return n.$ui.getView(f)}var l="DEFAULT_VALUE";function r(n,o,d,f){var _=n(this);return _&&_.isVisible()?_[o].apply(_,d):f?f():l}return{getColumnIndex:function(n){var o=r.call(this,p,"getColumnIndex",[n]);return o===l?0:o},dateFromPos:function(n){var o=r.call(this,i,"dateFromPos",Array.prototype.slice.call(arguments));return o===l?this.getState().min_date:o},posFromDate:function(n){var o=r.call(this,i,"posFromDate",[n]);return o===l?0:o},getRowTop:function(n){var o=this,d=r.call(o,i,"getRowTop",[n],function(){return r.call(o,p,"getRowTop",[n])});return d===l?0:d},getTaskTop:function(n){var o=this,d=r.call(o,i,"getItemTop",[n],function(){return r.call(o,p,"getItemTop",[n])});return d===l?0:d},getTaskPosition:function(n,o,d){var f=r.call(this,i,"getItemPosition",[n,o,d]);return f===l?{left:0,top:this.getTaskTop(n.id),height:this.getTaskBarHeight(n.id),width:0}:f},getTaskBarHeight:function(n,o){var d=this,f=r.call(d,i,"getBarHeight",[n,o],function(){return r.call(d,p,"getItemHeight",[n])});return f===l?0:f},getTaskHeight:function(n){var o=this,d=r.call(o,i,"getItemHeight",[n],function(){return r.call(o,p,"getItemHeight",[n])});return d===l?0:d},columnIndexByDate:function(n){var o=r.call(this,i,"columnIndexByDate",[n]);return o===l?0:o},roundTaskDates:function(){r.call(this,i,"roundTaskDates",[])},getScale:function(){var n=r.call(this,i,"getScale",[]);return n===l?null:n},getTaskNode:function(n){var o=i(this);if(o&&o.isVisible()){var d=o._taskRenderer.rendered[n];if(!d){var f=o.$config.item_attribute;d=o.$task_bars.querySelector("["+f+"='"+n+"']")}return d||null}return null},getLinkNode:function(n){var o=i(this);return o.isVisible()?o._linkRenderer.rendered[n]:null},scrollTo:function(n,o){var d=u(this),f=h(this),_={position:0},m={position:0};d&&(m=d.getScrollState()),f&&(_=f.getScrollState());var v=f&&1*n==n,y=d&&1*o==o;if(v&&y)for(var k=d._getLinkedViews(),x=f._getLinkedViews(),w=[],b=0;b<k.length;b++)for(var S=0;S<x.length;S++)k[b].$config.id&&x[S].$config.id&&k[b].$config.id===x[S].$config.id&&w.push(k[b].$config.id);v&&(w&&w.forEach((function($){this.$ui.getView($).$config.$skipSmartRenderOnScroll=!0}).bind(this)),f.scroll(n),w&&w.forEach((function($){this.$ui.getView($).$config.$skipSmartRenderOnScroll=!1}).bind(this))),y&&d.scroll(o);var T={position:0},N={position:0};d&&(T=d.getScrollState()),f&&(N=f.getScrollState()),this.callEvent("onGanttScroll",[_.position,m.position,N.position,T.position])},showDate:function(n){var o=this.posFromDate(n),d=Math.max(o-this.config.task_scroll_offset,0);this.scrollTo(d)},showTask:function(n){var o=this.getTaskPosition(this.getTask(n)),d=o.left;this.config.rtl&&(d=o.left+o.width);var f,_=Math.max(d-this.config.task_scroll_offset,0),m=this._scroll_state().y;f=m?o.top-(m-this.getTaskBarHeight(n))/2:o.top,this.scrollTo(_,f);var v=p(this),y=i(this);v&&y&&v.$config.scrollY!=y.$config.scrollY&&a(this,v,"scrollY").scrollTo(null,f)},_scroll_state:function(){var n={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},o=u(this),d=h(this);if(d){var f=d.getScrollState();f.visible&&(n.x=f.size,n.x_inner=f.scrollSize),n.x_pos=f.position||0}if(o){var _=o.getScrollState();_.visible&&(n.y=_.size,n.y_inner=_.scrollSize),n.y_pos=_.position||0}return n},getScrollState:function(){var n=this._scroll_state();return{x:n.x_pos,y:n.y_pos,inner_width:n.x,inner_height:n.y,width:n.x_inner,height:n.y_inner}},getLayoutView:function(n){return this.$ui.getView(n)},scrollLayoutCell:function(n,o,d){var f=this.$ui.getView(n);if(!f)return!1;if(o!==null){var _=this.$ui.getView(f.$config.scrollX);_&&_.scrollTo(o,null)}if(d!==null){var m=this.$ui.getView(f.$config.scrollY);m&&m.scrollTo(null,d)}}}}},function(s,g){s.exports=function(i){delete i.addTaskLayer,delete i.addLinkLayer}},function(s,g,i){var p=i(1),c=function(u){return{getVerticalScrollbar:function(){return u.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return u.$ui.getView("scrollHor")},_legacyGridResizerClass:function(h){for(var a=h.getCellsByType("resizer"),l=0;l<a.length;l++){var r=a[l],n=!1,o=r.$parent.getPrevSibling(r.$id);if(o&&o.$config&&o.$config.id==="grid")n=!0;else{var d=r.$parent.getNextSibling(r.$id);d&&d.$config&&d.$config.id==="grid"&&(n=!0)}n&&(r.$config.css=(r.$config.css?r.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(h){var a=!0;this._legacyGridResizerClass(h),h.attachEvent("onBeforeResize",function(){var l=u.$ui.getView("timeline");l&&(l.$config.hidden=l.$parent.$config.hidden=!u.config.show_chart);var r=u.$ui.getView("grid");if(r){var n=r._getColsTotalWidth(),o=!u.config.show_grid||!u.config.grid_width||n===0;if(a&&!o&&n!==!1&&(u.config.grid_width=n),r.$config.hidden=r.$parent.$config.hidden=o,!r.$config.hidden){var d=r._getGridWidthLimits();if(d[0]&&u.config.grid_width<d[0]&&(u.config.grid_width=d[0]),d[1]&&u.config.grid_width>d[1]&&(u.config.grid_width=d[1]),l&&u.config.show_chart){if(r.$config.width=u.config.grid_width-1,!r.$config.scrollable&&r.$config.scrollY&&u.$root.offsetWidth){var f=r.$gantt.$layout.$container.offsetWidth,_=u.$ui.getView(r.$config.scrollY).$config.width,m=f-(r.$config.width+_)-4;m<0&&(r.$config.width+=m,u.config.grid_width+=m)}if(a)r.$parent.$config.width=u.config.grid_width,r.$parent.$config.group&&u.$layout._syncCellSizes(r.$parent.$config.group,{value:r.$parent.$config.width,isGravity:!1});else if(l&&!p.isChildOf(l.$task,h.$view)){if(!r.$config.original_grid_width){var v=u.skins[u.skin];v&&v.config&&v.config.grid_width?r.$config.original_grid_width=v.config.grid_width:r.$config.original_grid_width=0}u.config.grid_width=r.$config.original_grid_width,r.$parent.$config.width=u.config.grid_width}else r.$parent._setContentSize(r.$config.width,null),u.$layout._syncCellSizes(r.$parent.$config.group,{value:u.config.grid_width,isGravity:!1})}else l&&p.isChildOf(l.$task,h.$view)&&(r.$config.original_grid_width=u.config.grid_width),a||(r.$parent.$config.width=0)}a=!1}}),this._initScrollStateEvents(h)},_initScrollStateEvents:function(h){u._getVerticalScrollbar=this.getVerticalScrollbar,u._getHorizontalScrollbar=this.getHorizontalScrollbar;var a=this.getVerticalScrollbar(),l=this.getHorizontalScrollbar();a&&a.attachEvent("onScroll",function(r,n,o){var d=u.getScrollState();u.callEvent("onGanttScroll",[d.x,r,d.x,n])}),l&&l.attachEvent("onScroll",function(r,n,o){var d=u.getScrollState();u.callEvent("onGanttScroll",[r,d.y,n,d.y]);var f=u.$ui.getView("grid");f&&f.$grid_data&&!f.$config.scrollable&&(f.$grid_data.style.left=f.$grid.scrollLeft+"px",f.$grid_data.scrollLeft=f.$grid.scrollLeft)}),h.attachEvent("onResize",function(){a&&!u.$scroll_ver&&(u.$scroll_ver=a.$scroll_ver),l&&!u.$scroll_hor&&(u.$scroll_hor=l.$scroll_hor)})},_findGridResizer:function(h,a){for(var l,r=h.getCellsByType("resizer"),n=!0,o=0;o<r.length;o++){var d=r[o];d._getSiblings();var f=d._behind,_=d._front;if(f&&f.$content===a||f.isChild&&f.isChild(a)){l=d,n=!0;break}if(_&&_.$content===a||_.isChild&&_.isChild(a)){l=d,n=!1;break}}return{resizer:l,gridFirst:n}},onInitialized:function(h){var a=u.$ui.getView("grid"),l=this._findGridResizer(h,a);if(l.resizer){var r,n=l.gridFirst,o=l.resizer;if(o.$config.mode!=="x")return;o.attachEvent("onResizeStart",function(d,f){var _=u.$ui.getView("grid"),m=_?_.$parent:null;if(m){var v=_._getGridWidthLimits();_.$config.scrollable||(m.$config.minWidth=v[0]),m.$config.maxWidth=v[1]}return r=n?d:f,u.callEvent("onGridResizeStart",[r])}),o.attachEvent("onResize",function(d,f){var _=n?d:f;return u.callEvent("onGridResize",[r,_])}),o.attachEvent("onResizeEnd",function(d,f,_,m){var v=n?d:f,y=n?_:m,k=u.$ui.getView("grid"),x=k?k.$parent:null;x&&(x.$config.minWidth=void 0);var w=u.callEvent("onGridResizeEnd",[v,y]);return w&&y!==0&&(u.config.grid_width=y),w})}},onDestroyed:function(h){}}};s.exports=c},function(s,g,i){var p=i(1),c=function(u,h){var a,l,r,n,o,d=10,f=18;function _(){return{link_source_id:n,link_target_id:l,link_from_start:o,link_to_start:r,link_landing_area:a}}var m=h.$services,v=m.getService("state"),y=m.getService("dnd");v.registerProvider("linksDnD",_);var k=new y(u.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:h.$root,selector:".gantt_link_point",preventDefault:!0});function x($,E,D,P,I){var O=function(H,q,G){var L=q(H),F={x:L.left,y:L.top,width:L.width,height:L.height};if(G.rtl?(F.xEnd=F.x,F.x=F.xEnd+F.width):F.xEnd=F.x+F.width,F.yEnd=F.y+F.height,h.getTaskType(H.type)==h.config.types.milestone){var J=function(z){var X=u.getBarHeight(z,!0);return Math.round(Math.sqrt(2*X*X))-2}(H.id);F.x+=(G.rtl?1:-1)*(J/2),F.xEnd+=(G.rtl?-1:1)*(J/2),F.width=L.xEnd-L.x}return F}($,function(H){return h.getTaskPosition(H)},P),B={x:O.x,y:O.y};E||(B.x=O.xEnd),B.y+=h.getTaskHeight($.id)/2;var R=function(H){return h.getTaskType(H.type)==h.config.types.milestone}($)&&I?2:0;return D=D||0,P.rtl&&(D*=-1),B.x+=(E?-1:1)*D-R,B}function w($,E){var D=k.getPosition($),P=function(G){var L=0,F=0;return G&&(L=G.offsetWidth||0,F=G.offsetHeight||0),{width:L,height:F}}(E),I=function(){var G=h.$root;return{right:G.offsetWidth,bottom:G.offsetHeight}}(),O=h.config.tooltip_offset_x||d,B=h.config.tooltip_offset_y||d,R=h.config.scroll_size||f,H=h.$container.getBoundingClientRect().y+window.scrollY,q={y:D.y+B,x:D.x+O,bottom:D.y+P.height+B+R,right:D.x+P.width+O+R};return q.bottom>I.bottom+H&&(q.y=I.bottom+H-P.height-B),q.right>I.right&&(q.x=I.right-P.width-O),q}function b($){var E=_(),D=["gantt_link_tooltip"];E.link_source_id&&E.link_target_id&&(h.isLinkAllowed(E.link_source_id,E.link_target_id,E.link_from_start,E.link_to_start)?D.push("gantt_allowed_link"):D.push("gantt_invalid_link"));var P=h.templates.drag_link_class(E.link_source_id,E.link_from_start,E.link_target_id,E.link_to_start);P&&D.push(P);var I="<div class='"+P+"'>"+h.templates.drag_link(E.link_source_id,E.link_from_start,E.link_target_id,E.link_to_start)+"</div>";$.innerHTML=I}function S(){n=o=l=null,r=!0}function T($,E,D,P){var I=function(){return k._direction&&k._direction.parentNode||(k._direction=document.createElement("div"),u.$task_links.appendChild(k._direction)),k._direction}(),O=_(),B=["gantt_link_direction"];h.templates.link_direction_class&&B.push(h.templates.link_direction_class(O.link_source_id,O.link_from_start,O.link_target_id,O.link_to_start));var R=Math.sqrt(Math.pow(D-$,2)+Math.pow(P-E,2));if(R=Math.max(0,R-3)){I.className=B.join(" ");var H=(P-E)/(D-$),q=Math.atan(H);N($,D,E,P)==2?q+=Math.PI:N($,D,E,P)==3&&(q-=Math.PI);var G=Math.sin(q),L=Math.cos(q),F=Math.round(E),J=Math.round($),z=["-webkit-transform: rotate("+q+"rad)","-moz-transform: rotate("+q+"rad)","-ms-transform: rotate("+q+"rad)","-o-transform: rotate("+q+"rad)","transform: rotate("+q+"rad)","width:"+Math.round(R)+"px"];if(window.navigator.userAgent.indexOf("MSIE 8.0")!=-1){z.push('-ms-filter: "'+function(ee,V){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+V+",M12 = -"+ee+",M21 = "+ee+",M22 = "+V+",SizingMethod = 'auto expand')"}(G,L)+'"');var X=Math.abs(Math.round($-D)),ne=Math.abs(Math.round(P-E));switch(N($,D,E,P)){case 1:F-=ne;break;case 2:J-=X,F-=ne;break;case 3:J-=X}}z.push("top:"+F+"px"),z.push("left:"+J+"px"),I.style.cssText=z.join(";")}}function N($,E,D,P){return E>=$?P<=D?1:4:P<=D?2:3}k.attachEvent("onBeforeDragStart",h.bind(function($,E){var D=E.target||E.srcElement;if(S(),h.getState("tasksDnd").drag_id)return!1;if(p.locateClassName(D,"gantt_link_point")){p.locateClassName(D,"task_start_date")&&(o=!0);var P=h.locate(E);n=P;var I=h.getTask(P);return h.isReadonly(I)?(S(),!1):(this._dir_start=x(I,!!o,0,u.$getConfig(),!0),!0)}return!1},this)),k.attachEvent("onAfterDragStart",h.bind(function($,E){h.config.touch&&h.refreshData(),b(k.config.marker)},this)),k.attachEvent("onDragMove",h.bind(function($,E){var D=k.config,P=w(E,D.marker);(function(ne,ee){ne.style.left=ee.x+"px",ne.style.top=ee.y+"px"})(D.marker,P);var I=!!p.locateClassName(E,"gantt_link_control"),O=l,B=a,R=r,H=h.locate(E),q=!0,G=p.getTargetNode(E);if(p.isChildOf(G,h.$root)||(I=!1,H=null),I&&(q=!p.locateClassName(E,"task_end_date"),I=!!H),l=H,a=I,r=q,I){var L=h.getTask(H),F=u.$getConfig(),J=p.locateClassName(E,"gantt_link_control"),z=0;J&&(z=Math.floor(J.offsetWidth/2)),this._dir_end=x(L,!!r,z,F)}else this._dir_end=p.getRelativeEventPosition(E,u.$task_data),h.env.isEdge&&(this._dir_end.y+=window.scrollY);var X=!(B==I&&O==H&&R==q);return X&&(O&&h.refreshTask(O,!1),H&&h.refreshTask(H,!1)),X&&b(D.marker),T(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),k.attachEvent("onDragEnd",h.bind(function(){var $=_();if($.link_source_id&&$.link_target_id&&$.link_source_id!=$.link_target_id){var E=h._get_link_type($.link_from_start,$.link_to_start),D={source:$.link_source_id,target:$.link_target_id,type:E};D.type&&h.isLinkAllowed(D)&&h.callEvent("onLinkCreated",[D])&&h.addLink(D)}S(),h.config.touch?h.refreshData():($.link_source_id&&h.refreshTask($.link_source_id,!1),$.link_target_id&&h.refreshTask($.link_target_id,!1)),k._direction&&(k._direction.parentNode&&k._direction.parentNode.removeChild(k._direction),k._direction=null)},this)),h.attachEvent("onGanttRender",h.bind(function(){k._direction&&T(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};s.exports={createLinkDND:function(){return{init:c}}}},function(s,g,i){var p=i(1),c=i(0),u=i(50),h=i(2);s.exports={createTaskDND:function(){var a;return{extend:function(l){l.roundTaskDates=function(r){a.round_task_dates(r)}},init:function(l,r){return a=function(n,o){var d=o.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=o._createDomEventScope(),this.clear_drag_state();var f=o.config.drag_mode;this.set_actions(),d.getService("state").registerProvider("tasksDnd",c.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var _={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var m in this._events)for(var v in f)this._events[m][v]=_[m];this._handlers[f.move]=this._move,this._handlers[f.resize]=this._resize,this._handlers[f.progress]=this._resize_progress},set_actions:function(){var f=n.$task_data;this._domEvents.attach(f,"mousemove",o.bind(function(_){this.on_mouse_move(_)},this)),this._domEvents.attach(f,"mousedown",o.bind(function(_){this.on_mouse_down(_)},this)),this._domEvents.attach(document.body,"mouseup",o.bind(function(_){this.on_mouse_up(_)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(f,_,m){var v=n.$getConfig(),y=this._drag_task_coords(f,m);m.left?(f.start_date=o.dateFromPos(y.start+_),f.start_date||(f.start_date=new Date(o.getState().min_date))):(f.end_date=o.dateFromPos(y.end+_),f.end_date||(f.end_date=new Date(o.getState().max_date)));var k=this._calculateMinDuration(v.min_duration,v.duration_unit);f.end_date-f.start_date<v.min_duration&&(m.left?f.start_date=o.calculateEndDate(f.end_date,-k,v.duration_unit,f):f.end_date=o.calculateEndDate(f.start_date,k,v.duration_unit,f)),o._init_task_timing(f)},_calculateMinDuration:function(f,_){return Math.ceil(f/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[_])},_resize_progress:function(f,_,m){var v=this._drag_task_coords(f,m),y=n.$getConfig().rtl?v.start-m.pos.x:m.pos.x-v.start,k=Math.max(0,y);f.progress=Math.min(1,k/Math.abs(v.end-v.start))},_find_max_shift:function(f,_){var m;for(var v in f){var y=f[v],k=o.getTask(y.id),x=this._drag_task_coords(k,y),w=o.posFromDate(new Date(o.getState().min_date)),b=o.posFromDate(new Date(o.getState().max_date));if(x.end+_>b){var S=b-x.end;(S<m||m===void 0)&&(m=S)}else if(x.start+_<w){var T=w-x.start;(T>m||m===void 0)&&(m=T)}}return m},_move:function(f,_,m,v){var y=this._drag_task_coords(f,m),k=null,x=null;v?(k=new Date(+m.obj.start_date+v),x=new Date(+m.obj.end_date+v)):(k=o.dateFromPos(y.start+_),x=o.dateFromPos(y.end+_)),k?x?(f.start_date=k,f.end_date=x):(f.end_date=new Date(o.getState().max_date),f.start_date=o.dateFromPos(o.posFromDate(f.end_date)-(y.end-y.start))):(f.start_date=new Date(o.getState().min_date),f.end_date=o.dateFromPos(o.posFromDate(f.start_date)+(y.end-y.start)))},_drag_task_coords:function(f,_){return{start:_.obj_s_x=_.obj_s_x||o.posFromDate(f.start_date),end:_.obj_e_x=_.obj_e_x||o.posFromDate(f.end_date)}},_mouse_position_change:function(f,_){var m=f.x-_.x,v=f.y-_.y;return Math.sqrt(m*m+v*v)},_is_number:function(f){return!isNaN(parseFloat(f))&&isFinite(f)},on_mouse_move:function(f){if(this.drag.start_drag){var _=p.getRelativeEventPosition(f,o.$task_data),m=this.drag.start_drag.start_x,v=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(m)&&this._is_number(v)&&this._mouse_position_change({x:m,y:v},_)>20)&&this._start_dnd(f)}if(this.drag.mode){if(!u(this,40))return;this._update_on_move(f)}},_update_item_on_move:function(f,_,m,v,y,k){var x=o.getTask(_),w=o.mixin({},x),b=o.mixin({},x);this._handlers[m].apply(this,[b,f,v,k]),o.mixin(x,b,!0),o.callEvent("onTaskDrag",[x.id,m,b,w,y]),o.mixin(x,b,!0),o.refreshTask(_)},_update_on_move:function(f){var _=this.drag,m=n.$getConfig();if(_.mode){var v=p.getRelativeEventPosition(f,n.$task_data);if(_.pos&&_.pos.x==v.x)return;_.pos=v;var y=o.dateFromPos(v.x);if(!y||isNaN(y.getTime()))return;var k=v.x-_.start_x,x=o.getTask(_.id);if(this._handlers[_.mode]){if(_.mode===m.drag_mode.move){var w={};this._isMultiselect()&&o.getSelectedTasks().indexOf(_.id)>=0&&(w=this.dragMultiple);var b=!1;if(o.isSummaryTask(x)&&o.config.drag_project){var S={};S[_.id]=c.copy(_),b=!0,w=c.mixin(S,this.dragMultiple)}var T=this._find_max_shift(w,k);for(var N in T!==void 0&&(k=T),this._update_item_on_move(k,_.id,_.mode,_,f),w){var $=w[N];if(b&&$.id!=_.id&&(o._bulk_dnd=!0),T===void 0&&(b||Object.keys(w).length>1))var E=y-o.dateFromPos(_.start_x);this._update_item_on_move(k,$.id,$.mode,$,f,E)}o._bulk_dnd=!1}else this._update_item_on_move(k,_.id,_.mode,_,f);o._update_parents(_.id)}}},on_mouse_down:function(f,_){if(f.button!=2||f.button===void 0){var m=n.$getConfig(),v=o.locate(f),y=null;if(o.isTaskExists(v)&&(y=o.getTask(v)),!o.isReadonly(y)&&!this.drag.mode){this.clear_drag_state(),_=_||f.target||f.srcElement;var k=p.getClassName(_),x=this._get_drag_mode(k,_);if(!k||!x)return _.parentNode?this.on_mouse_down(f,_.parentNode):void 0;if(x)if(x.mode&&x.mode!=m.drag_mode.ignore&&m["drag_"+x.mode]){if(v=o.locate(_),y=o.copy(o.getTask(v)||{}),o.isReadonly(y))return this.clear_drag_state(),!1;if(o.isSummaryTask(y)&&!m.drag_project&&x.mode!=m.drag_mode.progress)return void this.clear_drag_state();x.id=v;var w=p.getRelativeEventPosition(f,o.$task_data);x.start_x=w.x,x.start_y=w.y,x.obj=y,this.drag.start_drag=x,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(o.checkEvent("onMouseDown")&&o.callEvent("onMouseDown",[k.split(" ")[0]])&&_.parentNode)return this.on_mouse_down(f,_.parentNode)}}},_fix_dnd_scale_time:function(f,_){var m=n.$getConfig(),v=o.getScale().unit,y=o.getScale().step;function k(x){if(o.config.correct_work_time){var w=n.$getConfig();o.isWorkTime(x.start_date,void 0,x)||(x.start_date=o.calculateEndDate({start_date:x.start_date,duration:-1,unit:w.duration_unit,task:x}))}}m.round_dnd_dates||(v="minute",y=m.time_step),_.mode==m.drag_mode.resize?_.left?(f.start_date=o.roundDate({date:f.start_date,unit:v,step:y}),k(f)):(f.end_date=o.roundDate({date:f.end_date,unit:v,step:y}),function(x){if(o.config.correct_work_time){var w=n.$getConfig();o.isWorkTime(new Date(x.end_date-1),void 0,x)||(x.end_date=o.calculateEndDate({start_date:x.end_date,duration:1,unit:w.duration_unit,task:x}))}}(f)):_.mode==m.drag_mode.move&&(f.start_date=o.roundDate({date:f.start_date,unit:v,step:y}),k(f),f.end_date=o.calculateEndDate(f))},_fix_working_times:function(f,_){var m=n.$getConfig();(_=_||{mode:m.drag_mode.move}).mode==m.drag_mode.resize?_.left?f.start_date=o.getClosestWorkTime({date:f.start_date,dir:"future",task:f}):f.end_date=o.getClosestWorkTime({date:f.end_date,dir:"past",task:f}):_.mode==m.drag_mode.move&&o.correctTaskWorkTime(f)},_finalize_mouse_up:function(f,_,m,v){var y=o.getTask(f);if(_.work_time&&_.correct_work_time&&this._fix_working_times(y,m),this._fix_dnd_scale_time(y,m),this._fireEvent("before_finish",m.mode,[f,m.mode,o.copy(m.obj),v])){var k=f;o._init_task_timing(y),this.clear_drag_state(),o.updateTask(y.id),this._fireEvent("after_finish",m.mode,[k,m.mode,v])}else this.clear_drag_state(),f==m.id&&(m.obj._dhx_changed=!1,o.mixin(y,m.obj,!0)),o.refreshTask(y.id)},on_mouse_up:function(f){var _=this.drag;if(_.mode&&_.id){var m=n.$getConfig(),v=o.getTask(_.id),y=this.dragMultiple,k=!1,x=0;_.mode===m.drag_mode.move&&(o.isSummaryTask(v)&&m.drag_project||this._isMultiselect())&&(k=!0,x=Object.keys(y).length);var w=function(){if(k)for(var b in y)y[b].id!=_.id&&this._finalize_mouse_up(y[b].id,m,y[b],f);this._finalize_mouse_up(_.id,m,_,f)};k&&x>10?o.batchUpdate((function(){w.call(this)}).bind(this)):w.call(this)}this.clear_drag_state()},_get_drag_mode:function(f,_){var m=n.$getConfig().drag_mode,v={mode:null,left:null};switch((f||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":v.mode=m.move;break;case"gantt_task_drag":v.mode=m.resize;var y=_.getAttribute("data-bind-property");v.left=y=="start_date";break;case"gantt_task_progress_drag":v.mode=m.progress;break;case"gantt_link_control":case"gantt_link_point":v.mode=m.ignore;break;default:v=null}return v},_start_dnd:function(f){var _=this.drag=this.drag.start_drag;delete _.start_drag;var m=n.$getConfig(),v=_.id;if(m["drag_"+_.mode]&&o.callEvent("onBeforeDrag",[v,_.mode,f])&&this._fireEvent("before_start",_.mode,[v,_.mode,f])){delete _.start_drag;var y=o.getTask(v);if(o.isReadonly(y))return void this.clear_drag_state();if(this._isMultiselect()){var k=o.getSelectedTasks();k.indexOf(_.id)>=0&&h.forEach(k,o.bind(function(x){var w=o.getTask(x);o.isSummaryTask(w)&&o.config.drag_project&&_.mode==m.drag_mode.move&&this._addSubtasksToDragMultiple(w.id),this.dragMultiple[x]=o.mixin({id:w.id,obj:o.copy(w)},this.drag)},this))}o.isSummaryTask(y)&&o.config.drag_project&&_.mode==m.drag_mode.move&&this._addSubtasksToDragMultiple(y.id),o.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(f,_,m){o.assert(this._events[f],"Invalid stage:{"+f+"}");var v=this._events[f][_];return o.assert(v,"Unknown after drop mode:{"+_+"}"),o.assert(m,"Invalid event arguments"),!o.checkEvent(v)||o.callEvent(v,m)},round_task_dates:function(f){var _=this.drag,m=n.$getConfig();_||(_={mode:m.drag_mode.move}),this._fix_dnd_scale_time(f,_)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return o.config.drag_multiple&&!!(o.getSelectedTasks&&o.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(f){o.eachTask(function(_){this.dragMultiple[_.id]=o.mixin({id:_.id,obj:o.copy(_)},this.drag)},f,this)}}}(l,r),l._tasks_dnd=a,a.init(r)},destructor:function(){a&&(a.destructor(),a=null)}}}}},function(s,g,i){var p=i(0),c=i(100),u=i(99),h=i(1),a=function(l){var r=l.$services;return{onCreated:function(n){var o=n.$config;o.bind=p.defined(o.bind)?o.bind:"task",o.bindLinks=p.defined(o.bindLinks)?o.bindLinks:"link",n._linksDnD=u.createLinkDND(),n._tasksDnD=c.createTaskDND(),n._tasksDnD.extend(n),this._mouseDelegates=i(31)(l)},onInitialized:function(n){this._attachDomEvents(l),this._attachStateProvider(l,n),n._tasksDnD.init(n,l),n._linksDnD.init(n,l),n.$config.id=="timeline"&&this.extendDom(n)},onDestroyed:function(n){this._clearDomEvents(l),this._clearStateProvider(l),n._tasksDnD&&n._tasksDnD.destructor()},extendDom:function(n){l.$task=n.$task,l.$task_scale=n.$task_scale,l.$task_data=n.$task_data,l.$task_bg=n.$task_bg,l.$task_links=n.$task_links,l.$task_bars=n.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(n){function o(d,f){if(d&&this.callEvent("onLinkDblClick",[d,f])){var _=this.getLink(d);if(this.isReadonly(_))return;var m=this.locale.labels.link+" "+this.templates.link_description(this.getLink(d))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){n._simple_confirm(m,"",function(){n.deleteLink(d)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",n.bind(function(d,f){var _=this.locate(d,this.config.link_attribute);_&&this.callEvent("onLinkClick",[_,d])},n),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",n.bind(function(d,f){var _=h.getRelativeEventPosition(d,n.$task_data),m=n.dateFromPos(_.x),v=Math.floor(n.columnIndexByDate(m)),y=n.getScale().trace_x[v];n.callEvent("onScaleClick",[d,y])},n),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",n.bind(function(d,f,_){f=this.locate(d,n.config.link_attribute),o.call(this,f,d)},n),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",n.bind(function(d,f,_){f=this.locate(d);var m=this.getTask(f),v=null;return _.parentNode&&h.getClassName(_.parentNode)&&(v=h.getClassName(_.parentNode).indexOf("_left")>-1?m.$target[0]:m.$source[0]),v&&o.call(this,v,d),!1},n),this.$task)},_attachStateProvider:function(n,o){var d=o;r.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:d._tasks?d._tasks.unit:void 0,scale_step:d._tasks?d._tasks.step:void 0}})},_clearStateProvider:function(){r.getService("state").unregisterProvider("tasksTimeline")}}};s.exports=a},function(s,g,i){var p=i(1);function c(h,a){var l=p.getNodePosition(a.$grid_data);return h.x+=l.x+a.$grid.scrollLeft,h.y+=l.y-a.$grid_data.scrollTop,h}function u(h,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=p.getNodePosition(h.$root);return a>r.width&&(a=r.width-l-2),a}s.exports={removeLineHighlight:function(h){h.markerLine&&h.markerLine.parentNode&&h.markerLine.parentNode.removeChild(h.markerLine),h.markerLine=null},highlightPosition:function(h,a,l){var r=function(o,d){var f=p.getNodePosition(d.$grid_data),_=p.getRelativeEventPosition(o,d.$grid_data),m=f.x+d.$grid.scrollLeft,v=_.y-10,y=d.getItemHeight(o.targetId);v<f.y&&(v=f.y);var k=d.getTotalHeight();return v>f.y+k-y&&(v=f.y+k-y),f.x=m,f.y=v,f.width=u(d.$gantt,f.width,9),f}(h,l);a.marker.style.left=r.x+9+"px",a.marker.style.width=r.width+"px",a.marker.style.overflow="hidden";var n=a.markerLine;n||((n=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",n.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",n.style.pointerEvents="none"),h.child?function(o,d,f){var _=o.targetParent,m=c({x:0,y:f.getItemTop(_)},f),v=f.$grid_data.getBoundingClientRect().bottom+window.scrollY,y=u(f.$gantt,f.$grid_data.offsetWidth);d.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",d.style.width=y+"px",d.style.top=m.y+"px",d.style.left=m.x+"px",d.style.height=f.getItemHeight(_)+"px",m.y>v&&(d.style.top=v+"px")}(h,n,l):function(o,d,f){var _=function(y,k){var x=k.$config.rowStore,w={x:0,y:0},b=k.$grid_data.querySelector(".gantt_tree_indent"),S=15,T=0;if(b&&(S=b.offsetWidth),y.targetId!==x.$getRootId()){var N=k.getItemTop(y.targetId),$=k.getItemHeight(y.targetId);if(T=x.exists(y.targetId)?x.calculateItemLevel(x.getItem(y.targetId)):0,y.prevSibling)w.y=N;else if(y.nextSibling){var E=0;x.eachItem(function(D){x.getIndexById(D.id)!==-1&&E++},y.targetId),w.y=N+$+E*$}else w.y=N+$,T+=1}return w.x=40+T*S,w.width=u(k.$gantt,Math.max(k.$grid_data.offsetWidth-w.x,0),w.x),c(w,k)}(o,f),m=f.$grid_data.getBoundingClientRect().bottom+window.scrollY;d.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",d.style.left=_.x+"px",d.style.height="4px";var v=_.y-2;d.style.top=v+"px",d.style.width=_.width+"px",v>m&&(d.style.top=m+"px")}(h,n,l),a.markerLine||(document.body.appendChild(n),a.markerLine=n)}}},function(s,g,i){var p=i(24);s.exports=function(c,u,h,a,l){var r;if(u!==l.$getRootId())r=h<.25?p.prevSiblingTarget(c,u,l):!(h>.6)||l.hasChild(u)&&l.getItem(u).$open?p.firstChildTarget(c,u,l):p.nextSiblingTarget(c,u,l);else{var n=l.$getRootId();r=l.hasChild(n)&&a>=0?p.lastChildTarget(c,n,l):p.firstChildTarget(c,n,l)}return r}},function(s,g,i){var p=i(24);function c(a,l,r,n,o){for(var d=l;n.exists(d);){var f=n.calculateItemLevel(n.getItem(d));if((f===r||f===r-1)&&n.getBranchIndex(d)>-1)break;d=o?n.getPrev(d):n.getNext(d)}return n.exists(d)?n.calculateItemLevel(n.getItem(d))===r?o?p.nextSiblingTarget(a,d,n):p.prevSiblingTarget(a,d,n):p.firstChildTarget(a,d,n):null}function u(a,l,r,n){return c(a,l,r,n,!0)}function h(a,l,r,n){return c(a,l,r,n,!1)}s.exports=function(a,l,r,n,o,d){var f;if(l!==o.$getRootId()){var _=o.getItem(l),m=o.calculateItemLevel(_);if(m===d){var v=o.getPrevSibling(l);r<.5&&!v?f=p.prevSiblingTarget(a,l,o):(r<.5&&(l=v),f=p.nextSiblingTarget(a,l,o))}else if(m>d)o.eachParent(function(b){o.calculateItemLevel(b)===d&&(l=b.id)},_),f=u(a,l,d,o);else{var y=u(a,l,d,o),k=h(a,l,d,o);f=r<.5?y:k}}else{var x=o.$getRootId(),w=o.getChildren(x);f=p.createDropTargetObject(),f=w.length&&n>=0?u(a,function(b){for(var S=b.getNext();b.exists(S);){var T=b.getNext(S);if(!b.exists(T))return S;S=T}return null}(o),d,o):h(a,x,d,o)}return f}},function(s,g,i){var p=i(1),c=i(24),u=i(104),h=i(103),a=i(102),l=i(16);s.exports={init:function(r,n){var o=r.$services.getService("dnd");if(n.$config.bind&&r.getDatastore(n.$config.bind)){var d=new o(n.$grid_data,{updates_per_second:60});r.defined(n.$getConfig().dnd_sensitivity)&&(d.config.sensitivity=n.$getConfig().dnd_sensitivity),d.attachEvent("onBeforeDragStart",r.bind(function(v,y){var k=f(y);if(!k||(r.hideQuickInfo&&r._hideQuickInfo(),p.closest(y.target,".gantt_grid_editor_placeholder")))return!1;var x=k.getAttribute(n.$config.item_attribute),w=n.$config.rowStore.getItem(x);return!r.isReadonly(w)&&!_(x)&&(d.config.initial_open_state=w.$open,!!r.callEvent("onRowDragStart",[x,y.target||y.srcElement,y])&&void 0)},r)),d.attachEvent("onAfterDragStart",r.bind(function(v,y){var k=f(y);d.config.marker.innerHTML=k.outerHTML;var x=d.config.marker.firstChild;x&&(d.config.marker.style.opacity=.4,x.style.position="static",x.style.pointerEvents="none"),d.config.id=k.getAttribute(n.$config.item_attribute);var w=n.$config.rowStore,b=w.getItem(d.config.id);d.config.level=w.calculateItemLevel(b),d.config.drop_target=c.createDropTargetObject({targetParent:w.getParent(b.id),targetIndex:w.getBranchIndex(b.id),targetId:b.id,nextSibling:!0}),b.$open=!1,b.$transparent=!0,this.refreshData()},r)),d.attachEvent("onDragMove",r.bind(function(v,y){var k=m(y);return k&&r.callEvent("onBeforeRowDragMove",[d.config.id,k.targetParent,k.targetIndex])!==!1||(k=c.createDropTargetObject(d.config.drop_target)),a.highlightPosition(k,d.config,n),d.config.drop_target=k,r._waiAria.reorderMarkerAttr(d.config.marker),this.callEvent("onRowDragMove",[d.config.id,k.targetParent,k.targetIndex]),!0},r)),d.attachEvent("onDragEnd",r.bind(function(){var v=n.$config.rowStore,y=v.getItem(d.config.id);a.removeLineHighlight(d.config),y.$transparent=!1,y.$open=d.config.initial_open_state;var k=d.config.drop_target;this.callEvent("onBeforeRowDragEnd",[d.config.id,k.targetParent,k.targetIndex])===!1?y.$drop_target=null:(v.move(d.config.id,k.targetIndex,k.targetParent),r.render(),this.callEvent("onRowDragEnd",[d.config.id,k.targetParent,k.targetIndex])),v.refresh(y.id)},r))}function f(v){return p.locateAttribute(v,n.$config.item_attribute)}function _(v){return l(v,r,r.getDatastore(n.$config.bind))}function m(v){var y,k=function(T){var N=p.getRelativeEventPosition(T,n.$grid_data).y,$=n.$config.rowStore;document.doctype||(N+=window.scrollY),N=N||0;var E=n.$state.scrollTop||0,D=r.$grid_data.getBoundingClientRect().height+E+window.scrollY,P=E,I=n.getItemIndexByTopPosition(n.$state.scrollTop);if($.exists(I)||(I=$.countVisible()-1),I<0)return $.$getRootId();var O=$.getIdByIndex(I),B=n.$state.scrollTop/n.getItemHeight(O),R=B-Math.floor(B);R>.1&&R<.9&&(D-=n.getItemHeight(O)*R,P+=n.getItemHeight(O)*(1-R));var H=p.getNodePosition(n.$grid_data),q=H.y+H.height,G=d.config.marker.offsetHeight;N+G+window.scrollY>=D&&(d.config.marker.style.top=q-G+"px"),N>=D?N=D:N<=P&&(N=P,d.config.marker.style.top=H.y+"px");var L=n.getItemIndexByTopPosition(N);if(L>$.countVisible()-1||L<0)return $.$getRootId();var F=$.getIdByIndex(L);return _(F)?$.getPrevSibling(F):$.getIdByIndex(L)}(v),x=null,w=n.$config.rowStore,b=!n.$getConfig().order_branch_free,S=p.getRelativeEventPosition(v,n.$grid_data).y;return document.doctype||(S+=window.scrollY),k!==w.$getRootId()&&(x=(S-n.getItemTop(k))/n.getItemHeight(k)),b?(y=u(d.config.id,k,x,S,w,d.config.level))&&y.targetParent&&_(y.targetParent)&&(k=w.getPrevSibling(y.targetParent),y=u(d.config.id,k,x,S,w,d.config.level)):y=h(d.config.id,k,x,S,w),y}}}},function(s,g,i){var p=i(1),c=i(16);s.exports={init:function(u,h){var a=u.$services.getService("dnd");if(h.$config.bind&&u.getDatastore(h.$config.bind)){var l=new a(h.$grid_data,{updates_per_second:60});u.defined(h.$getConfig().dnd_sensitivity)&&(l.config.sensitivity=h.$getConfig().dnd_sensitivity),l.attachEvent("onBeforeDragStart",u.bind(function(d,f){var _=r(f);if(!_||(u.hideQuickInfo&&u._hideQuickInfo(),p.closest(f.target,".gantt_grid_editor_placeholder")))return!1;var m=_.getAttribute(h.$config.item_attribute);if(o(m))return!1;var v=n().getItem(m);return!u.isReadonly(v)&&(l.config.initial_open_state=v.$open,!!u.callEvent("onRowDragStart",[m,f.target||f.srcElement,f])&&void 0)},u)),l.attachEvent("onAfterDragStart",u.bind(function(d,f){var _=r(f);l.config.marker.innerHTML=_.outerHTML;var m=l.config.marker.firstChild;m&&(m.style.position="static"),l.config.id=_.getAttribute(h.$config.item_attribute);var v=n(),y=v.getItem(l.config.id);l.config.index=v.getBranchIndex(l.config.id),l.config.parent=y.parent,y.$open=!1,y.$transparent=!0,this.refreshData()},u)),l.lastTaskOfLevel=function(d){for(var f=null,_=n().getItems(),m=0,v=_.length;m<v;m++)_[m].$level==d&&(f=_[m]);return f?f.id:null},l._getGridPos=u.bind(function(d){var f=p.getNodePosition(h.$grid_data),_=f.x+h.$grid.scrollLeft,m=d.pos.y-10,v=h.getItemHeight(l.config.id);m<f.y&&(m=f.y);var y=h.getTotalHeight();m>f.y+y-v&&(m=f.y+y-v);var k=f.y+f.height;return m>k-v&&(m=k-v),f.x=_,f.y=m,f},u),l._getTargetY=u.bind(function(d){var f=p.getNodePosition(h.$grid_data),_=h.$state.scrollTop||0,m=u.$grid_data.getBoundingClientRect().height+_,v=d.pageY-f.y+_;return v>m?v=m:v<_&&(v=_),v},u),l._getTaskByY=u.bind(function(d,f){var _=n();d=d||0;var m=h.getItemIndexByTopPosition(d);return(m=f<m?m-1:m)>_.countVisible()-1?null:_.getIdByIndex(m)},u),l.attachEvent("onDragMove",u.bind(function(d,f){var _=u.$grid_data.getBoundingClientRect(),m=_.height+_.y+(h.$state.scrollTop||0)+window.scrollY,v=l.config,y=l._getGridPos(f);u._waiAria.reorderMarkerAttr(v.marker);var k=h.$getConfig(),x=n();y.y<m?v.marker.style.top=y.y+"px":v.marker.style.top=m+"px",v.marker.style.left=y.x+10+"px";var w=p.getNodePosition(u.$root);y.width>w.width&&(v.marker.style.width=w.width-10-2+"px",v.marker.style.overflow="hidden");var b=x.getItem(l.config.id),S=l._getTargetY(f),T=l._getTaskByY(S,x.getIndexById(b.id));function N(q,G){return!x.isChildOf($.id,G.id)&&(q.$level==G.$level||k.order_branch_free)}if(x.exists(T)||(T=l.lastTaskOfLevel(k.order_branch_free?b.$level:0))==l.config.id&&(T=null),x.exists(T)){var $=x.getItem(T),E=h.getItemTop($.id),D=h.getItemHeight($.id);if(E+D/2<S){var P=x.getIndexById($.id),I=x.getNext($.id),O=x.getItem(I);if(o(I)){var B=x.getPrev(O.id);O=x.getItem(B)}if(O){if(O.id==b.id)return k.order_branch_free&&x.isChildOf(b.id,$.id)&&x.getChildren($.id).length==1?void x.move(b.id,x.getBranchIndex($.id)+1,x.getParent($.id)):void 0;$=O}else if(I=x.getIdByIndex(P),O=x.getItem(I),o(I)&&(B=x.getPrev(O.id),O=x.getItem(B)),N(O,b)&&O.id!=b.id)return void x.move(b.id,-1,x.getParent(O.id))}else if(k.order_branch_free&&$.id!=b.id&&N($,b)&&!o($.id)){if(!x.hasChild($.id))return $.$open=!0,void x.move(b.id,-1,$.id);if(x.getIndexById($.id)||D/3<S)return}P=x.getIndexById($.id),B=x.getIdByIndex(P-1);for(var R=x.getItem(B),H=1;(!R||R.id==$.id)&&P-H>=0;)B=x.getIdByIndex(P-H),R=x.getItem(B),H++;if(b.id==$.id||o($.id))return;N($,b)&&b.id!=$.id?x.move(b.id,0,0,$.id):$.$level!=b.$level-1||x.getChildren($.id).length?R&&N(R,b)&&b.id!=R.id&&x.move(b.id,-1,x.getParent(R.id)):x.move(b.id,0,$.id)}return!0},u)),l.attachEvent("onDragEnd",u.bind(function(){var d=n(),f=d.getItem(l.config.id);f.$transparent=!1,f.$open=l.config.initial_open_state,this.callEvent("onBeforeRowDragEnd",[l.config.id,l.config.parent,l.config.index])===!1?(d.move(l.config.id,l.config.index,l.config.parent),f.$drop_target=null):this.callEvent("onRowDragEnd",[l.config.id,f.$drop_target]),u.render(),this.refreshData()},u))}function r(d){return p.locateAttribute(d,h.$config.item_attribute)}function n(){return u.getDatastore(h.$config.bind)}function o(d){return c(d,u,n())}}}},function(s,g,i){var p=i(0),c=i(106),u=i(105),h=function(a){return{onCreated:function(l){l.$config=p.mixin(l.$config,{bind:"task"}),l.$config.id=="grid"&&(this.extendGantt(l),a.ext.inlineEditors=a.ext._inlineEditors.createEditors(l),a.ext.inlineEditors.init()),this._mouseDelegates=i(31)(a)},onInitialized:function(l){var r=l.$getConfig();r.order_branch&&(r.order_branch=="marker"?u.init(l.$gantt,l):c.init(l.$gantt,l)),this.initEvents(l,a),l.$config.id=="grid"&&this.extendDom(l)},onDestroyed:function(l){l.$config.id=="grid"&&a.ext.inlineEditors.destructor(),this.clearEvents(l,a)},initEvents:function(l,r){this._mouseDelegates.delegate("click","gantt_row",r.bind(function(n,o,d){var f=l.$getConfig();if(o!==null){var _=this.getTask(o);f.scroll_on_click&&!r._is_icon_open_click(n)&&this.showDate(_.start_date),r.callEvent("onTaskRowClick",[o,d])}},r),l.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",r.bind(function(n,o,d){var f=d.getAttribute("data-column-id");if(r.callEvent("onGridHeaderClick",[f,n])){var _=l.$getConfig();if(f!="add"){if(_.sort&&f){for(var m,v=f,y=0;y<_.columns.length;y++)if(_.columns[y].name==f){m=_.columns[y];break}if(m&&m.sort!==void 0&&m.sort!==!0&&!(v=m.sort))return;var k=this._sort&&this._sort.direction&&this._sort.name==f?this._sort.direction:"desc";k=k=="desc"?"asc":"desc",this._sort={name:f,direction:k},this.sort(v,k=="desc")}}else r.$services.getService("mouseEvents").callHandler("click","gantt_add",l.$grid,[n,_.root_id])}},r),l.$grid),this._mouseDelegates.delegate("click","gantt_add",r.bind(function(n,o,d){if(!l.$getConfig().readonly)return this.createTask({},o||r.config.root_id),!1},r),l.$grid)},clearEvents:function(l,r){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(l){a.$grid=l.$grid,a.$grid_scale=l.$grid_scale,a.$grid_data=l.$grid_data},extendGantt:function(l){a.getGridColumns=a.bind(l.getGridColumns,l),l.attachEvent("onColumnResizeStart",function(){return a.callEvent("onColumnResizeStart",arguments)}),l.attachEvent("onColumnResize",function(){return a.callEvent("onColumnResize",arguments)}),l.attachEvent("onColumnResizeEnd",function(){return a.callEvent("onColumnResizeEnd",arguments)}),l.attachEvent("onColumnResizeComplete",function(r,n){a.config.grid_width=n}),l.attachEvent("onBeforeRowResize",function(){return a.callEvent("onBeforeRowResize",arguments)}),l.attachEvent("onRowResize",function(){return a.callEvent("onRowResize",arguments)}),l.attachEvent("onBeforeRowResizeEnd",function(){return a.callEvent("onBeforeRowResizeEnd",arguments)}),l.attachEvent("onAfterRowResize",function(){return a.callEvent("onAfterRowResize",arguments)})}}};s.exports=h},function(s,g,i){var p=i(30),c=i(6);s.exports=function(u){return{render:function(h,a,l){var r=a.$getConfig(),n=document.createElement("div");return n.className="gantt_task_grid_row_resize_wrap",n.style.top=a.getItemTop(h.id)+a.getItemHeight(h.id)+"px",n.innerHTML="<div class='gantt_task_grid_row_resize' role='cell'></div>",n.setAttribute(r.task_grid_row_resizer_attribute,h.id),u._waiAria.rowResizerAttr(n),n},update:null,getRectangle:p,getVisibleRange:c}}},function(s,g,i){var p=i(27),c=i(6),u=i(26),h=i(25),a=i(37);function l(n,o,d,f){var _=100*(1-(1*n||0)),m=f.posFromDate(o),v=f.posFromDate(d),y=document.createElement("div");return y.className="gantt_histogram_hor_bar",y.style.top=_+"%",y.style.left=m+"px",y.style.width=v-m+1+"px",y}function r(n,o,d){if(n===o)return null;var f=1-Math.max(n,o),_=Math.abs(n-o),m=document.createElement("div");return m.className="gantt_histogram_vert_bar",m.style.top=100*f+"%",m.style.height=100*_+"%",m.style.left=d+"px",m}s.exports=function(n){var o=a(n),d={},f={},_={};function m(k,x){var w=d[k];w&&w[x]&&w[x].parentNode&&w[x].parentNode.removeChild(w[x])}function v(k,x,w,b,S,T,N){var $=_[k.id];$&&$.parentNode&&$.parentNode.removeChild($);var E=function(D,P,I,O){for(var B=P.getScale(),R=document.createElement("div"),H=u(B,O),q=H.start;q<=H.end;q++){var G=B.trace_x[q],L=B.trace_x[q+1]||n.date.add(G,B.step,B.unit),F=B.trace_x[q].valueOf(),J=Math.min(D[F]/I,1)||0;if(J<0)return null;var z=Math.min(D[L.valueOf()]/I,1)||0,X=l(J,G,L,P);X&&R.appendChild(X);var ne=r(J,z,P.posFromDate(L));ne&&R.appendChild(ne)}return R}(w,S,T,N);return E&&x&&(E.setAttribute("data-resource-id",k.id),E.setAttribute(S.$config.item_attribute,k.id),E.style.position="absolute",E.style.top=x.top+1+"px",E.style.height=S.getItemHeight(k.id)-1+"px",E.style.left=0),E}function y(k,x,w,b,S,T,N){var $=S.histogram_cell_class(T.start_date,T.end_date,k,T.tasks,T.assignments),E=S.histogram_cell_label(T.start_date,T.end_date,k,T.tasks,T.assignments),D=S.histogram_cell_allocated(T.start_date,T.end_date,k,T.tasks,T.assignments),P=N.getItemHeight(k.id)-1;if($||E){var I=document.createElement("div");return I.className=["gantt_histogram_cell",$].join(" "),I.setAttribute(N.$config.item_attribute,k.id),I.style.cssText=["left:"+x.left+"px","width:"+x.width+"px","height:"+P+"px","line-height:"+P+"px","top:"+(x.top+1)+"px"].join(";"),E&&(E="<div class='gantt_histogram_label'>"+E+"</div>"),D&&(E="<div class='gantt_histogram_fill' style='height:"+100*Math.min(D/w||0,1)+"%;'></div>"+E),E&&(I.innerHTML=E),I}return null}return{render:function(k,x,w,b){var S=x.$getTemplates(),T=x.getScale(),N=o(k,w.resource_property,T,x),$=[],E={},D=k.capacity||x.$config.capacity||24;d[k.id]={},f[k.id]=null,_[k.id]=null;for(var P=!!b,I=u(T,b),O=I.start;O<=I.end;O++){var B=N[O];if(B&&(!P||h(O,T,b,n))){var R=S.histogram_cell_capacity(B.start_date,B.end_date,k,B.tasks,B.assignments);E[B.start_date.valueOf()]=R||0;var H=x.getItemPosition(k,B.start_date,B.end_date),q=y(k,H,D,0,S,B,x);q&&($.push(q),d[k.id][O]=q)}}var G=null;if($.length){G=document.createElement("div");for(var L=0;L<$.length;L++)G.appendChild($[L]);var F=v(k,H,E,0,x,D,b);F&&(G.appendChild(F),_[k.id]=F),f[k.id]=G}return G},update:function(k,x,w,b,S){var T=w.$getTemplates(),N=w.getScale(),$=o(k,b.resource_property,N,w),E=k.capacity||w.$config.capacity||24,D={},P=!!S,I=u(N,S),O={};if(d&&d[k.id])for(var B in d[k.id])O[B]=B;for(var R=I.start;R<=I.end;R++){var H=$[R];if(O[R]=!1,H){var q=T.histogram_cell_capacity(H.start_date,H.end_date,k,H.tasks,H.assignments);D[H.start_date.valueOf()]=q||0;var G=w.getItemPosition(k,H.start_date,H.end_date);if(!P||h(R,N,S,n)){var L=d[k.id];if(L&&L[R])L&&L[R]&&!L[R].parentNode&&x.appendChild(L[R]);else{var F=y(k,G,E,0,T,H,w);F&&(x.appendChild(F),d[k.id][R]=F)}}else m(k.id,R)}}for(var B in O)O[B]!==!1&&m(k.id,B);var J=v(k,G,D,0,w,E,S);J&&(x.appendChild(J),_[k.id]=J)},getRectangle:p,getVisibleRange:c}}},function(s,g,i){var p=i(27),c=i(6),u=i(26),h=i(25),a=i(37);s.exports=function(l){var r=a(l),n={};function o(f,_,m,v,y){var k=m.resource_cell_class(_.start_date,_.end_date,f,_.tasks,_.assignments),x=m.resource_cell_value(_.start_date,_.end_date,f,_.tasks,_.assignments),w=y.getItemHeight(f.id)-1;if(k||x){var b=y.getItemPosition(f,_.start_date,_.end_date),S=document.createElement("div");return S.setAttribute(y.$config.item_attribute,f.id),S.className=["gantt_resource_marker",k].join(" "),S.style.cssText=["left:"+b.left+"px","width:"+b.width+"px","height:"+w+"px","line-height:"+w+"px","top:"+b.top+"px"].join(";"),x&&(S.innerHTML=x),S}return null}function d(f,_){n[f]&&n[f][_]&&n[f][_].parentNode&&n[f][_].parentNode.removeChild(n[f][_])}return{render:function(f,_,m,v){var y=_.$getTemplates(),k=_.getScale(),x=r(f,m.resource_property,_.getScale(),_),w=!!v,b=[];n[f.id]={};for(var S=u(k,v),T=S.start;T<=S.end;T++){var N=x[T];if(N&&(!w||h(T,k,v,l))){var $=o(f,N,y,0,_);$&&(b.push($),n[f.id][T]=$)}}var E=null;if(b.length){E=document.createElement("div");for(var D=0;D<b.length;D++)E.appendChild(b[D])}return E},update:function(f,_,m,v,y){var k=m.$getTemplates(),x=m.getScale(),w=r(f,v.resource_property,m.getScale(),m),b=u(x,y),S={};if(n&&n[f.id])for(var T in n[f.id])S[T]=T;for(var N=b.start;N<=b.end;N++){var $=w[N];if(S[N]=!1,$)if(h(N,x,y,l))if(n[f.id]&&n[f.id][N])n[f.id]&&n[f.id][N]&&!n[f.id][N].parentNode&&_.appendChild(n[f.id][N]);else{var E=o(f,$,k,0,m);E&&(_.appendChild(E),n[f.id][N]=E)}else d(f.id,N)}for(var T in S)S[T]!==!1&&d(f.id,T)},getRectangle:p,getVisibleRange:c}}},function(s,g){s.exports=function(i,p,c,u,h){if(h.$ui.getView("grid")&&(h.config.keyboard_navigation&&h.getSelectedId()||h.ext.inlineEditors&&h.ext.inlineEditors.getState().id))return!0;var a=c.getItemTop(i.id),l=c.getItemHeight(i.id);return!(a>p.y_end||a+l<p.y)}},function(s,g,i){function p(l){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(l)}var c=i(2),u=i(30),h=i(6),a=i(111);s.exports=function(l){return{render:function(r,n,o,d){for(var f=n.getGridColumns(),_=n.$getTemplates(),m=n.$config.rowStore,v=[],y=0;y<f.length;y++){var k,x,w,b=y==f.length-1,S=f[y];S.name=="add"?(x="<div "+(P=l._waiAria.gridAddButtonAttrString(S))+" class='gantt_add'></div>",w=""):(x=S.template?S.template(r):r[S.name],c.isDate(x)&&(x=_.date_grid(x,r,S.name)),x!=null||(x=""),w=x,x="<div class='gantt_tree_content'>"+x+"</div>");var T="gantt_cell"+(b?" gantt_last_cell":""),N=[];if(S.tree){T+=" gantt_cell_tree";for(var $=0;$<r.$level;$++)N.push(_.grid_indent(r));!m.hasChild(r.id)||l.isSplitTask(r)&&!l.config.open_split_tasks?(N.push(_.grid_blank(r)),N.push(_.grid_file(r))):(N.push(_.grid_open(r)),N.push(_.grid_folder(r)))}var E="width:"+(S.width-(b?1:0))+"px;";if(this.defined(S.align)){var D={right:"flex-end",left:"flex-start",center:"center"}[S.align];E+="text-align:"+S.align+";justify-content:"+D+";"}var P=l._waiAria.gridCellAttrString(S,w,r);N.push(x),k="<div class='"+T+"' data-column-index='"+y+"' data-column-name='"+S.name+"' style='"+E+"' "+P+">"+N.join("")+"</div>",v.push(k)}switch(T="",m.$config.name){case"task":T=l.getGlobalTaskIndex(r.id)%2==0?"":" odd";break;case"resource":T=m.visibleOrder.indexOf(r.id)%2==0?"":" odd"}if(T+=r.$transparent?" gantt_transparent":"",T+=r.$dataprocessor_class?" "+r.$dataprocessor_class:"",_.grid_row_class){var I=_.grid_row_class.call(l,r.start_date,r.end_date,r);I&&(T+=" "+I)}m.isSelected(r.id)&&(T+=" gantt_selected");var O=document.createElement("div");O.className="gantt_row"+T+" gantt_row_"+l.getTaskType(r.type);var B=n.getItemHeight(r.id);return O.style.height=B+"px",O.style.lineHeight=B+"px",o.smart_rendering&&(O.style.position="absolute",O.style.left="0px",O.style.top=n.getItemTop(r.id)+"px"),n.$config.item_attribute&&(O.setAttribute(n.$config.item_attribute,r.id),O.setAttribute(n.$config.bind+"_id",r.id)),l._waiAria.taskRowAttr(r,O),O.innerHTML=v.join(""),O},update:null,getRectangle:u,isInViewPort:a,getVisibleRange:h,onrender:function(r,n,o){for(var d=o.getGridColumns(),f=0;f<d.length;f++){var _=d[f];if(_.onrender){var m=n.querySelector("[data-column-name="+_.name+"]");if(m){var v=_.onrender(r,m);if(v&&typeof v=="string")m.innerHTML=v;else if(v&&p(v)==="object"&&l.config.external_render){var y=l.config.external_render;y.isElement(v)&&y.renderElement(v,m)}}}}}}}},function(s,g,i){var p=i(39),c=i(40);s.exports=function(u){var h={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(r){this.current_pos=u.copy(r)},get_lines:function(r){this.clear(),this.point(r[0]);for(var n=1;n<r.length;n++)this.line_to(r[n]);return this.get_path()},line_to:function(r){var n=u.copy(r),o=this.current_pos,d=this._get_line(o,n);this.path.push(d),this.current_pos=n},get_path:function(){return this.path},get_wrapper_sizes:function(r,n,o){var d,f=n.$getConfig().link_wrapper_width,_=r.y-f/2;switch(r.direction){case this.dirs.left:d={top:_,height:f,lineHeight:f,left:r.x-r.size-f/2,width:r.size+f};break;case this.dirs.right:d={top:_,lineHeight:f,height:f,left:r.x-f/2,width:r.size+f};break;case this.dirs.up:d={top:_-r.size,lineHeight:r.size+f,height:r.size+f,left:r.x-f/2,width:f};break;case this.dirs.down:d={top:_,lineHeight:r.size+f,height:r.size+f,left:r.x-f/2,width:f}}return d},get_line_sizes:function(r,n){var o,d=n.$getConfig(),f=d.link_line_width,_=d.link_wrapper_width,m=r.size+f;switch(r.direction){case this.dirs.left:case this.dirs.right:o={height:f,width:m,marginTop:(_-f)/2,marginLeft:(_-f)/2};break;case this.dirs.up:case this.dirs.down:o={height:m,width:f,marginTop:(_-f)/2,marginLeft:(_-f)/2}}return o},render_line:function(r,n,o,d){var f=this.get_wrapper_sizes(r,o,d),_=document.createElement("div");_.style.cssText=["top:"+f.top+"px","left:"+f.left+"px","height:"+f.height+"px","width:"+f.width+"px"].join(";"),_.className="gantt_line_wrapper";var m=this.get_line_sizes(r,o),v=document.createElement("div");return v.style.cssText=["height:"+m.height+"px","width:"+m.width+"px","margin-top:"+m.marginTop+"px","margin-left:"+m.marginLeft+"px"].join(";"),v.className="gantt_link_line_"+r.direction,_.appendChild(v),_},_get_line:function(r,n){var o=this.get_direction(r,n),d={x:r.x,y:r.y,direction:this.get_direction(r,n)};return o==this.dirs.left||o==this.dirs.right?d.size=Math.abs(r.x-n.x):d.size=Math.abs(r.y-n.y),d},get_direction:function(r,n){return n.x<r.x?this.dirs.left:n.x>r.x?this.dirs.right:n.y>r.y?this.dirs.down:this.dirs.up}},a={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(r){return r?(this.path.push(u.copy(r)),r):this.current()},point_to:function(r,n,o){o=o?{x:o.x,y:o.y}:u.copy(this.point());var d=h.dirs;switch(r){case d.left:o.x-=n;break;case d.right:o.x+=n;break;case d.up:o.y-=n;break;case d.down:o.y+=n}return this.point(o)},get_points:function(r,n,o,d){var f=this.get_endpoint(r,n,o,d),_=u.config,m=f.e_y-f.y,v=f.e_x-f.x,y=h.dirs,k=n.getItemHeight(r.source);this.clear(),this.point({x:f.x,y:f.y});var x=2*_.link_arrow_size,w=this.get_line_type(r,n.$getConfig()),b=f.e_x>f.x;if(w.from_start&&w.to_start)this.point_to(y.left,x),b?(this.point_to(y.down,m),this.point_to(y.right,v)):(this.point_to(y.right,v),this.point_to(y.down,m)),this.point_to(y.right,x);else if(!w.from_start&&w.to_start)if(b=f.e_x>f.x+2*x,this.point_to(y.right,x),b)v-=x,this.point_to(y.down,m),this.point_to(y.right,v);else{v-=2*x;var S=m>0?1:-1;this.point_to(y.down,S*(k/2)),this.point_to(y.right,v),this.point_to(y.down,S*(Math.abs(m)-k/2)),this.point_to(y.right,x)}else w.from_start||w.to_start?w.from_start&&!w.to_start&&(b=f.e_x>f.x-2*x,this.point_to(y.left,x),b?(v+=2*x,S=m>0?1:-1,this.point_to(y.down,S*(k/2)),this.point_to(y.right,v),this.point_to(y.down,S*(Math.abs(m)-k/2)),this.point_to(y.left,x)):(v+=x,this.point_to(y.down,m),this.point_to(y.right,v))):(this.point_to(y.right,x),b?(this.point_to(y.right,v),this.point_to(y.down,m)):(this.point_to(y.down,m),this.point_to(y.right,v)),this.point_to(y.left,x));return this.path},get_line_type:function(r,n){var o=n.links,d=!1,f=!1;return r.type==o.start_to_start?d=f=!0:r.type==o.finish_to_finish?d=f=!1:r.type==o.finish_to_start?(d=!1,f=!0):r.type==o.start_to_finish?(d=!0,f=!1):u.assert(!1,"Invalid link type"),n.rtl&&(d=!d,f=!f),{from_start:d,to_start:f}},get_endpoint:function(r,n,o,d){var f=n.$getConfig(),_=this.get_line_type(r,f),m=_.from_start,v=_.to_start,y=l(o,n,f),k=l(d,n,f);return{x:m?y.left:y.left+y.width,e_x:v?k.left:k.left+k.width,y:y.top+y.rowHeight/2-1,e_y:k.top+k.rowHeight/2-1}}};function l(r,n,o){var d=n.getItemPosition(r);if(u.getTaskType(r.type)==o.types.milestone){var f=n.getBarHeight(r.id,!0),_=Math.sqrt(2*f*f);d.left-=_/2,d.width=_}return d}return{render:function(r,n,o){var d=u.getTask(r.source);if(!d.hide_bar){var f=u.getTask(r.target);if(!f.hide_bar){var _=a.get_endpoint(r,n,d,f),m=_.e_y-_.y;if(!(_.e_x-_.x||m))return null;var v=a.get_points(r,n,d,f),y=h.get_lines(v,n),k=document.createElement("div"),x="gantt_task_link";r.color&&(x+=" gantt_link_inline_color");var w=u.templates.link_class?u.templates.link_class(r):"";w&&(x+=" "+w),o.highlight_critical_path&&u.isCriticalLink&&u.isCriticalLink(r)&&(x+=" gantt_critical_link"),k.className=x,n.$config.link_attribute&&(k.setAttribute(n.$config.link_attribute,r.id),k.setAttribute("link_id",r.id));for(var b=0;b<y.length;b++){b==y.length-1&&(y[b].size-=o.link_arrow_size);var S=h.render_line(y[b],y[b+1],n,r.source);r.color&&(S.firstChild.style.backgroundColor=r.color),k.appendChild(S)}var T=y[y.length-1].direction,N=function($,E,D,P){var I=D.$getConfig(),O=document.createElement("div"),B=$.y,R=$.x,H=I.link_arrow_size,q="gantt_link_arrow gantt_link_arrow_"+E;switch(E){case h.dirs.right:B-=H/2,R-=H;break;case h.dirs.left:B-=H/2;break;case h.dirs.up:R-=H;break;case h.dirs.down:B+=2*H,R-=H}return O.style.cssText=["top:"+B+"px","left:"+R+"px"].join(";"),O.className=q,O}(v[v.length-1],T,n,r.source);return r.color&&(N.style.borderColor=r.color),k.appendChild(N),u._waiAria.linkAttr(r,k),k}}},update:null,isInViewPort:p,getVisibleRange:c()}}},function(s,g){s.exports=function(i,p){var c=p.config.timeline_placeholder;if(i=i||[],c&&i.filter(function(n){return n.id==="timeline_placeholder_task"}).length===0){var u=p.getState(),h=null,a=u.min_date,l=u.max_date;i.length&&(h=i[i.length-1].id);var r={start_date:a,end_date:l,row_height:c.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:h,calendar_id:c.calendar||"global",$source:[],$target:[]};i.push(r)}}},function(s,g,i){var p=i(27),c=i(20),u=i(6),h=i(26),a=i(25),l=i(114);s.exports=function(r){var n={},o={};function d(y,k){return!(!n[y.id][k]||!n[y.id][k].parentNode)}function f(y,k){n[y]&&n[y][k]&&n[y][k].parentNode&&n[y][k].parentNode.removeChild(n[y][k])}function _(y){var k,x=y.$getTemplates();return x.task_cell_class!==void 0?(k=x.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):k=x.timeline_cell_class,k}function m(y){return y.$getTemplates().timeline_cell_content}function v(y,k,x,w,b,S,T,N){var $=y.width[k],E="";if(a(k,y,w,r)){var D=S(x,y.trace_x[k]),P="";if(T&&(P=T(x,y.trace_x[k])),N.static_background){var I=!(!D&&!P);if(!N.static_background_cells||!I)return null}if(n[x.id][k])return o[x.id][k]=k,n[x.id][k];var O=document.createElement("div");return O.style.width=$+"px",E="gantt_task_cell"+(k==b-1?" gantt_last_cell":""),D&&(E+=" "+D),O.className=E,P&&(O.innerHTML=P),O.style.position="absolute",O.style.left=y.left[k]+"px",n[x.id][k]=O,o[x.id][k]=k,O}return null}return{render:function(y,k,x,w){var b=k.$getTemplates(),S=k.getScale(),T=S.count;if(x.static_background&&!x.static_background_cells)return null;var N,$=document.createElement("div"),E=_(k),D=m(k);if(N=w&&x.smart_rendering&&!c(r)?h(S,w.x):{start:0,end:T-1},x.show_task_cells){n[y.id]={},o[y.id]={};for(var P=N.start;P<=N.end;P++){var I=v(S,P,y,w,T,E,D,x);I&&$.appendChild(I)}}var O=k.$config.rowStore,B=O.getIndexById(y.id)%2!=0,R=b.task_row_class(y.start_date,y.end_date,y),H="gantt_task_row"+(B?" odd":"")+(R?" "+R:"");if(O.isSelected(y.id)&&(H+=" gantt_selected"),$.className=H,x.smart_rendering?($.style.position="absolute",$.style.top=k.getItemTop(y.id)+"px",$.style.width="100%"):$.style.position="relative",$.style.height=k.getItemHeight(y.id)+"px",y.id=="timeline_placeholder_task"){var q=0;y.lastTaskId&&(q=k.getItemTop(y.lastTaskId)+k.getItemHeight(y.lastTaskId));var G=(y.row_height||k.$task_data.offsetHeight)-q;G<0&&(G=0),x.smart_rendering&&($.style.top=q+"px"),$.style.height=G+"px"}return k.$config.item_attribute&&($.setAttribute(k.$config.item_attribute,y.id),$.setAttribute(k.$config.bind+"_id",y.id)),$},update:function(y,k,x,w,b){var S=x.getScale(),T=S.count,N=_(x),$=m(x);if(w.show_task_cells){n[y.id]||(n[y.id]={}),o[y.id]||(o[y.id]={});var E=h(S,b);for(var D in o[y.id]){var P=o[y.id][D];(Number(P)<E.start||Number(P)>E.end)&&f(y.id,P)}o[y.id]={};for(var I=E.start;I<=E.end;I++){var O=v(S,I,y,b,T,N,$,w);!O&&d(y,I)?f(y.id,I):O&&!O.parentNode&&k.appendChild(O)}}},getRectangle:p,getVisibleRange:u,prepareData:l}}},function(s,g,i){var p=i(28),c=i(19),u=i(6);s.exports=function(h){var a=p(h),l={};function r(d,f,_,m,v){var y=!0;return m.smart_rendering&&(y=c(d,f,_,m,v)),y}function n(d,f,_,m){var v=h.copy(h.getTask(f.id));if(v.$rendered_at=d.id,h.callEvent("onBeforeRollupTaskDisplay",[v.id,v,d.id])!==!1){var y=a(v,_);if(y){var k=_.getBarHeight(d.id,f.type==h.config.types.milestone),x=Math.floor((_.getItemHeight(d.id)-k)/2);return y.style.top=m.top+x+"px",y.classList.add("gantt_rollup_child"),y.setAttribute("data-rollup-parent-id",d.id),y}}}function o(d,f){return d+"_"+f}return{render:function(d,f,_,m){if(d.rollup!==!1&&d.$rollup&&d.$rollup.length){var v=document.createElement("div"),y=h.getTaskPosition(d);return m&&(m.y=0,m.y_end=h.$task_bg.scrollHeight),d.$rollup.forEach(function(k){if(h.isTaskExists(k)){var x=h.getTask(k);if(r(x,m,f,_,h)){var w=n(d,x,f,y);w?(l[o(x.id,d.id)]=w,v.appendChild(w)):l[o(x.id,d.id)]=!1}}}),v}return!1},update:function(d,f,_,m,v){var y=document.createElement("div"),k=h.getTaskPosition(d);v.y=0,v.y_end=h.$task_bg.scrollHeight,d.$rollup.forEach(function(x){var w=h.getTask(x),b=o(w.id,d.id),S=r(w,v,_,m,h);if(S!==!!l[b])if(S){var T=n(d,w,_,k);l[b]=T||!1}else l[b]=!1;l[b]&&y.appendChild(l[b]),f.innerHTML="",f.appendChild(y)})},isInViewPort:c,getVisibleRange:u}}},function(s,g,i){var p=i(19);s.exports=function(c,u,h,a,l){if(!l.isSplitTask(c))return!1;var r=l.getSubtaskDates(c.id);return p({id:c.id,start_date:r.start_date,end_date:r.end_date,parent:c.parent},u,h,l)}},function(s,g,i){var p=i(28),c=i(6),u=i(117),h=i(19);s.exports=function(a){var l=p(a),r={};function n(_,m,v,y,k){var x=!_.hide_bar;return y.smart_rendering&&x&&(x=h(_,m,v,y,k)),x}function o(_,m,v,y){if(!m.hide_bar){var k=a.isSummaryTask(m);k&&a.resetProjectDates(m);var x=a.copy(a.getTask(m.id));if(x.$rendered_at=_.id,a.callEvent("onBeforeSplitTaskDisplay",[x.id,x,_.id])!==!1){var w=l(x,v);if(w){var b=v.getBarHeight(_.id,m.type==a.config.types.milestone),S=Math.floor((v.getItemHeight(_.id)-b)/2);return w.style.top=y.top+S+"px",w.classList.add("gantt_split_child"),k&&w.classList.add("gantt_split_subproject"),w}}}}function d(_,m){return _+"_"+m}function f(_,m){return a.isSplitTask(_)&&(m.open_split_tasks&&!_.$open||!m.open_split_tasks)&&a.hasChild(_.id)}return{render:function(_,m,v,y){if(f(_,v)){var k=document.createElement("div"),x=a.getTaskPosition(_);return a.hasChild(_.id)&&a.eachTask(function(w){if(n(w,y,m,v,a)){var b=o(_,w,m,x);b?(r[d(w.id,_.id)]=b,k.appendChild(b)):r[d(w.id,_.id)]=!1}},_.id),k}return!1},update:function(_,m,v,y,k){if(f(_,y)){var x=document.createElement("div"),w=a.getTaskPosition(_);a.eachTask(function(b){var S=d(b.id,_.id),T=n(b,k,v,y,a);if(T!==!!r[S])if(T){var N=o(_,b,v,w);r[S]=N||!1}else r[S]=!1;r[S]&&x.appendChild(r[S]),m.innerHTML="",m.appendChild(x)},_.id)}},isInViewPort:u,getVisibleRange:c}}},function(s,g,i){var p=i(19),c=i(6),u=i(28);s.exports=function(h){return{render:u(h),update:null,isInViewPort:p,getVisibleRange:c}}},function(s,g){s.exports=function(i){return function(c,u,h){h=="keepDates"?function(a,l){l=="duration"?a.end_date=i.calculateEndDate(a):l!="end_date"&&l!="start_date"||(a.duration=i.calculateDuration(a))}(c,u):h=="keepDuration"?function(a,l){l=="end_date"?a.start_date=p(a):l!="start_date"&&l!="duration"||(a.end_date=i.calculateEndDate(a))}(c,u):function(a,l){i.config.schedule_from_end?l=="end_date"||l=="duration"?a.start_date=p(a):l=="start_date"&&(a.duration=i.calculateDuration(a)):l=="start_date"||l=="duration"?a.end_date=i.calculateEndDate(a):l=="end_date"&&(a.duration=i.calculateDuration(a))}(c,u)};function p(c){return i.calculateEndDate({start_date:c.end_date,duration:-c.duration,task:c})}}},function(s,g,i){s.exports=function(p){var c=i(10)(p),u=i(0);function h(){return c.apply(this,arguments)||this}function a(l){return l.formatter||p.ext.formatters.durationFormatter()}return i(3)(h,c),u.mixin(h.prototype,{show:function(l,r,n,o){var d="<div role='cell'><input type='text' name='".concat(r.name,"' title='").concat(r.name,"'></div>");o.innerHTML=d},set_value:function(l,r,n,o){this.get_input(o).value=a(n.editor).format(l)},get_value:function(l,r,n){return a(r.editor).parse(this.get_input(n).value||"")}},!0),h}},function(s,g,i){s.exports=function(p){var c=i(10)(p),u=i(0);function h(){return c.apply(this,arguments)||this}function a(d){return d.formatter||p.ext.formatters.linkFormatter()}function l(d,f){for(var _=(d||"").split(f.delimiter||","),m=0;m<_.length;m++){var v=_[m].trim();v?_[m]=v:(_.splice(m,1),m--)}return _.sort(),_}function r(d,f,_){for(var m=d.$target,v=[],y=0;y<m.length;y++){var k=_.getLink(m[y]);v.push(a(f).format(k))}return v.join((f.delimiter||",")+" ")}function n(d){return d.source+"_"+d.target+"_"+d.type+"_"+(d.lag||0)}function o(d,f,_){var m=function(w,b,S){var T=[];return b.forEach(function(N){var $=a(S).parse(N);$&&($.target=w,$.id="predecessor_generated",p.isLinkAllowed($)&&($.id=void 0,T.push($)))}),T}(d.id,f,_),v={};d.$target.forEach(function(w){var b=p.getLink(w);v[n(b)]=b.id});var y=[];m.forEach(function(w){var b=n(w);v[b]?delete v[b]:y.push(w)});var k=[];for(var x in v)k.push(v[x]);return{add:y,remove:k}}return i(3)(h,c),u.mixin(h.prototype,{show:function(d,f,_,m){var v="<div role='cell'><input type='text' name='".concat(f.name,"' title='").concat(f.name,"'></div>");m.innerHTML=v},hide:function(){},set_value:function(d,f,_,m){this.get_input(m).value=r(d,_.editor,p)},get_value:function(d,f,_){return l(this.get_input(_).value||"",f.editor)},save:function(d,f,_){var m=o(p.getTask(d),this.get_value(d,f,_),f.editor);(m.add.length||m.remove.length)&&p.batchUpdate(function(){m.add.forEach(function(v){p.addLink(v)}),m.remove.forEach(function(v){p.deleteLink(v)}),p.autoSchedule&&p.autoSchedule()})},is_changed:function(d,f,_,m){var v=this.get_value(f,_,m),y=l(r(d,_.editor,p),_.editor);return v.join()!==y.join()}},!0),h}},function(s,g,i){s.exports=function(p){var c=i(10)(p),u=i(0),h="%Y-%m-%d",a=null,l=null;function r(){return c.apply(this,arguments)||this}return i(3)(r,c),u.mixin(r.prototype,{show:function(n,o,d,f){a||(a=p.date.date_to_str(h)),l||(l=p.date.str_to_date(h));var _=null,m=null;_=typeof d.min=="function"?d.min(n,o):d.min,m=typeof d.max=="function"?d.max(n,o):d.max;var v=_?" min='"+a(_)+"' ":"",y=m?" max='"+a(m)+"' ":"",k="<div style='width:140px' role='cell'><input type='date' ".concat(v," ").concat(y," name='").concat(o.name,"' title='").concat(o.name,"'></div>");f.innerHTML=k,f.oninput=function(x){+p.date.str_to_date("%Y-%m-%d")(x.target.value)<+_&&(x.target.value=p.date.date_to_str("%Y-%m-%d")(_)),+p.date.str_to_date("%Y-%m-%d")(x.target.value)>+m&&(x.target.value=p.date.date_to_str("%Y-%m-%d")(m))}},set_value:function(n,o,d,f){n&&n.getFullYear?this.get_input(f).value=a(n):this.get_input(f).value=n},is_valid:function(n,o,d,f){return!(!n||isNaN(n.getTime()))},get_value:function(n,o,d){var f;try{f=l(this.get_input(d).value||"")}catch{f=null}return f}},!0),r}},function(s,g,i){s.exports=function(p){var c=i(10)(p),u=i(0);function h(){return c.apply(this,arguments)||this}return i(3)(h,c),u.mixin(h.prototype,{show:function(a,l,r,n){for(var o="<div role='cell'><select name='".concat(l.name,"' title='").concat(l.name,"'>"),d=[],f=r.options||[],_=0;_<f.length;_++)d.push("<option value='"+r.options[_].key+"'>"+f[_].label+"</option>");o+=d.join("")+"</select></div>",n.innerHTML=o},get_input:function(a){return a.querySelector("select")}},!0),h}},function(s,g,i){s.exports=function(p){var c=i(10)(p),u=i(0);function h(){return c.apply(this,arguments)||this}return i(3)(h,c),u.mixin(h.prototype,{show:function(a,l,r,n){var o=r.min||0,d=r.max||100,f="<div role='cell'><input type='number' min='".concat(o,"' max='").concat(d,"' name='").concat(l.name,"' title='").concat(l.name,"'></div>");n.innerHTML=f,n.oninput=function(_){+_.target.value<o&&(_.target.value=o),+_.target.value>d&&(_.target.value=d)}},get_value:function(a,l,r){return this.get_input(r).value||""},is_valid:function(a,l,r,n){return!isNaN(parseInt(a,10))}},!0),h}},function(s,g,i){s.exports=function(p){var c=i(10)(p),u=i(0);function h(){return c.apply(this,arguments)||this}return i(3)(h,c),u.mixin(h.prototype,{show:function(a,l,r,n){var o="<div role='cell'><input type='text' name='".concat(l.name,"' title='").concat(l.name,"'></div>");n.innerHTML=o}},!0),h}},function(s,g){s.exports={init:function(i,p){var c=i,u=p.$gantt,h=null,a=u.ext.keyboardNavigation;a.attachEvent("onBeforeFocus",function(l){var r=i.locateCell(l);if(clearTimeout(h),r){var n=r.columnName,o=r.id,d=c.getState();if(c.isVisible()&&d.id==o&&d.columnName===n)return!1}return!0}),a.attachEvent("onFocus",function(l){var r=i.locateCell(l),n=i.getState();return clearTimeout(h),!r||r.id==n.id&&r.columnName==n.columnName||c.isVisible()&&c.save(),!0}),i.attachEvent("onHide",function(){clearTimeout(h)}),a.attachEvent("onBlur",function(){return h=setTimeout(function(){c.save()}),!0}),u.attachEvent("onTaskDblClick",function(l,r){var n=i.getState(),o=i.locateCell(r.target);return!o||!i.isVisible()||o.columnName!=n.columnName}),u.attachEvent("onTaskClick",function(l,r){if(u._is_icon_open_click(r))return!0;var n=i.getState(),o=i.locateCell(r.target);return!o||!i.getEditorConfig(o.columnName)||(i.isVisible()&&n.id==o.id&&n.columnName==o.columnName||i.startEdit(o.id,o.columnName),!1)}),u.attachEvent("onEmptyClick",function(){return c.save(),!0}),a.attachEvent("onKeyDown",function(l,r){var n=i.locateCell(r.target),o=!!n&&i.getEditorConfig(n.columnName),d=i.getState(),f=u.constants.KEY_CODES,_=r.keyCode,m=!1;switch(_){case f.ENTER:i.isVisible()?(i.save(),r.preventDefault(),m=!0):o&&!(r.ctrlKey||r.metaKey||r.shiftKey)&&(c.startEdit(n.id,n.columnName),r.preventDefault(),m=!0);break;case f.ESC:i.isVisible()&&(i.hide(),r.preventDefault(),m=!0);break;case f.UP:case f.DOWN:break;case f.LEFT:case f.RIGHT:(o&&i.isVisible()||d.editorType==="date")&&(m=!0);break;case f.SPACE:i.isVisible()&&(m=!0),o&&!i.isVisible()&&(c.startEdit(n.id,n.columnName),r.preventDefault(),m=!0);break;case f.DELETE:o&&!i.isVisible()?(c.startEdit(n.id,n.columnName),m=!0):o&&i.isVisible()&&(m=!0);break;case f.TAB:if(i.isVisible()){r.shiftKey?i.editPrevCell(!0):i.editNextCell(!0);var v=i.getState();v.id&&a.focus({type:"taskCell",id:v.id,column:v.columnName}),r.preventDefault(),m=!0}break;default:if(i.isVisible())m=!0;else if(_>=48&&_<=57||_>95&&_<112||_>=64&&_<=91||_>185&&_<193||_>218&&_<223){var y=l.modifiers,k=y.alt||y.ctrl||y.meta||y.shift;y.alt||k&&a.getCommandHandler(l,"taskCell")||o&&!i.isVisible()&&(c.startEdit(n.id,n.columnName),m=!0)}}return!m})},onShow:function(i,p,c){},onHide:function(i,p,c){var u=c.$gantt;u&&u.focus()},destroy:function(){}}},function(s,g){s.exports={init:function(i,p){var c=p.$gantt;c.attachEvent("onTaskClick",function(u,h){if(c._is_icon_open_click(h))return!0;var a=i.getState(),l=i.locateCell(h.target);return!l||!i.getEditorConfig(l.columnName)||(i.isVisible()&&a.id==l.id&&a.columnName==l.columnName||i.startEdit(l.id,l.columnName),!1)}),c.attachEvent("onEmptyClick",function(){return i.isVisible()&&i.isChanged()?i.save():i.hide(),!0}),c.attachEvent("onTaskDblClick",function(u,h){var a=i.getState(),l=i.locateCell(h.target);return!l||!i.isVisible()||l.columnName!=a.columnName})},onShow:function(i,p,c){var u=c.$gantt;u.ext&&u.ext.keyboardNavigation&&u.ext.keyboardNavigation.attachEvent("onKeyDown",function(h,a){var l=u.constants.KEY_CODES,r=!1;switch(a.keyCode){case l.SPACE:i.isVisible()&&(r=!0)}return!r}),p.onkeydown=function(h){h=h||window.event;var a=u.constants.KEY_CODES;if(!(h.defaultPrevented||h.shiftKey&&h.keyCode!=a.TAB)){var l=!0;switch(h.keyCode){case u.keys.edit_save:i.save();break;case u.keys.edit_cancel:i.hide();break;case a.UP:case a.DOWN:i.isVisible()&&(i.hide(),l=!1);break;case a.TAB:h.shiftKey?i.editPrevCell(!0):i.editNextCell(!0);break;default:l=!1}l&&h.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(s,g,i){var p=i(128),c=i(127);s.exports=function(u){var h=null;return{setMapping:function(a){h=a},getMapping:function(){return h||(u.config.keyboard_navigation_cells&&u.ext.keyboardNavigation?c:p)}}}},function(s,g,i){var p=i(129),c=i(126),u=i(125),h=i(124),a=i(123),l=i(122),r=i(121),n=i(0),o=i(1),d=i(5),f=i(120);function _(m){m.config.editor_types={text:new(c(m)),number:new(u(m)),select:new(h(m)),date:new(a(m)),predecessor:new(l(m)),duration:new(r(m))}}s.exports=function(m){var v=p(m),y={};d(y);var k={init:_,createEditors:function(x){function w(E,D){var P=x.$getConfig(),I=function(R,H){for(var q=x.$getConfig(),G=x.getItemTop(R),L=x.getItemHeight(R),F=x.getGridColumns(),J=0,z=0,X=0,ne=0;ne<F.length;ne++){if(F[ne].name==H){X=F[ne].width;break}q.rtl?z+=F[ne].width:J+=F[ne].width}return q.rtl?{top:G,right:z,height:L,width:X}:{top:G,left:J,height:L,width:X}}(E,D),O=document.createElement("div");O.className="gantt_grid_editor_placeholder",O.setAttribute(x.$config.item_attribute,E),O.setAttribute(x.$config.bind+"_id",E),O.setAttribute("data-column-name",D);var B=function(R,H){for(var q=R.getGridColumns(),G=0;G<q.length;G++)if(q[G].name==H)return G;return 0}(x,D);return O.setAttribute("data-column-index",B),m._waiAria.inlineEditorAttr(O),P.rtl?O.style.cssText=["top:"+I.top+"px","right:"+I.right+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"):O.style.cssText=["top:"+I.top+"px","left:"+I.left+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"),O}var b=f(m),S=[],T=[],N=null,$={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(E){if(!o.isChildOf(E,x.$grid))return null;var D=o.locateAttribute(E,x.$config.item_attribute),P=o.locateAttribute(E,"data-column-name");if(D&&P){var I=P.getAttribute("data-column-name");return{id:D.getAttribute(x.$config.item_attribute),columnName:I}}return null},getEditorConfig:function(E){return x.getColumn(E).editor},init:function(){var E=v.getMapping();E.init&&E.init(this,x),N=x.$gantt.getDatastore(x.$config.bind);var D=this;S.push(N.attachEvent("onIdChange",function(P,I){D._itemId==P&&(D._itemId=I)})),S.push(N.attachEvent("onStoreUpdated",function(){x.$gantt.getState("batchUpdate").batch_update||D.isVisible()&&!N.isVisible(D._itemId)&&D.hide()})),T.push(m.attachEvent("onDataRender",function(){D._editor&&D._placeholder&&!o.isChildOf(D._placeholder,m.$root)&&x.$grid_data.appendChild(D._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(E,D){if(this.isVisible()&&this.save(),N.exists(E)){var P={id:E,columnName:D};m.isReadonly(N.getItem(E))?this.callEvent("onEditPrevent",[P]):this.callEvent("onBeforeEditStart",[P])!==!1?(this.show(P.id,P.columnName),this.setValue(),this.callEvent("onEditStart",[P])):this.callEvent("onEditPrevent",[P])}},isVisible:function(){return!(!this._editor||!o.isChildOf(this._placeholder,m.$root))},show:function(E,D){this.isVisible()&&this.save();var P={id:E,columnName:D},I=x.getColumn(P.columnName),O=this.getEditorConfig(I.name);if(O){var B=x.$getConfig().editor_types[O.type],R=w(P.id,P.columnName);x.$grid_data.appendChild(R),B.show(P.id,I,O,R),this._editor=B,this._placeholder=R,this._itemId=P.id,this._columnName=P.columnName,this._editorType=O.type;var H=v.getMapping();H.onShow&&H.onShow(this,R,x)}},setValue:function(){var E=this.getState(),D=E.id,P=E.columnName,I=x.getColumn(P),O=N.getItem(D),B=this.getEditorConfig(P);if(B){var R=O[B.map_to];B.map_to=="auto"&&(R=N.getItem(D)),this._editor.set_value(R,D,I,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var E=x.getColumn(this._columnName);return this._editor.get_value(this._itemId,E,this._placeholder)},_getItemValue:function(){var E=this.getEditorConfig(this._columnName);if(E){var D=m.getTask(this._itemId)[E.map_to];return E.map_to=="auto"&&(D=N.getItem(this._itemId)),D}},isChanged:function(){var E=x.getColumn(this._columnName),D=this._getItemValue();return this._editor.is_changed(D,this._itemId,E,this._placeholder)},hide:function(){if(this._itemId){var E=this._itemId,D=this._columnName,P=v.getMapping();P.onHide&&P.onHide(this,this._placeholder,x),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:E,columnName:D}]))}},save:function(){if(this.isVisible()&&N.exists(this._itemId)&&this.isChanged()){var E=this._itemId,D=this._columnName;if(N.exists(E)){var P=N.getItem(E),I=this.getEditorConfig(D),O={id:E,columnName:D,newValue:this.getValue(),oldValue:this._getItemValue()};if(this.callEvent("onBeforeSave",[O])!==!1&&(!this._editor.is_valid||this._editor.is_valid(O.newValue,O.id,x.getColumn(D),this._placeholder))){var B=I.map_to,R=O.newValue;B!="auto"?(P[B]=R,b(P,B,m.config.inline_editors_date_processing),N.updateItem(E)):this._editor.save(E,x.getColumn(D),this._placeholder),this.callEvent("onSave",[O])}this.hide()}}else this.hide()},_findEditableCell:function(E,D){var P=E,I=x.getGridColumns()[P],O=I?I.name:null;if(O){for(;O&&!this.getEditorConfig(O);)O=this._findEditableCell(E+D,D);return O}return null},getNextCell:function(E){return this._findEditableCell(x.getColumnIndex(this._columnName,!0)+E,E)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(x.getGridColumns().length-1,-1)},editNextCell:function(E){var D=this.getNextCell(1);if(D){var P=this.getNextCell(1);P&&this.getEditorConfig(P)&&this.startEdit(this._itemId,P)}else if(E&&this.moveRow(1)){var I=this.moveRow(1);(D=this.getFirstCell())&&this.getEditorConfig(D)&&this.startEdit(I,D)}},editPrevCell:function(E){var D=this.getNextCell(-1);if(D){var P=this.getNextCell(-1);P&&this.getEditorConfig(P)&&this.startEdit(this._itemId,P)}else if(E&&this.moveRow(-1)){var I=this.moveRow(-1);(D=this.getLastCell())&&this.getEditorConfig(D)&&this.startEdit(I,D)}},moveRow:function(E){for(var D=E>0?m.getNext:m.getPrev,P=(D=m.bind(D,m))(this._itemId);m.isTaskExists(P)&&m.isReadonly(m.getTask(P));)P=D(P);return P},editNextRow:function(E){var D=this.getState().id;if(m.isTaskExists(D)){var P=null;P=E?this.moveRow(1):m.getNext(D),m.isTaskExists(P)&&this.startEdit(P,this._columnName)}},editPrevRow:function(E){var D=this.getState().id;if(m.isTaskExists(D)){var P=null;P=E?this.moveRow(-1):m.getPrev(D),m.isTaskExists(P)&&this.startEdit(P,this._columnName)}},destructor:function(){S.forEach(function(E){N.detachEvent(E)}),T.forEach(function(E){m.detachEvent(E)}),S=[],T=[],N=null,this.hide(),this.detachAllEvents()}};return n.mixin($,v),n.mixin($,y),$}};return n.mixin(k,v),n.mixin(k,y),k}},function(s,g){s.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(s,g,i){var p=i(3),c=i(1),u=i(0),h=i(11),a=function(l){var r=["altKey","shiftKey","metaKey"];function n(o,d,f,_){var m=l.apply(this,arguments)||this;this.$config=u.mixin(d,{scroll:"x"}),m._scrollHorizontalHandler=u.bind(m._scrollHorizontalHandler,m),m._scrollVerticalHandler=u.bind(m._scrollVerticalHandler,m),m._outerScrollVerticalHandler=u.bind(m._outerScrollVerticalHandler,m),m._outerScrollHorizontalHandler=u.bind(m._outerScrollHorizontalHandler,m),m._mouseWheelHandler=u.bind(m._mouseWheelHandler,m),this.$config.hidden=!0;var v=_.config.scroll_size;return _.env.isIE&&(v+=1),this._isHorizontal()?(m.$config.height=v,m.$parent.$config.height=v):(m.$config.width=v,m.$parent.$config.width=v),this.$config.scrollPosition=0,m.$name="scroller",m}return p(n,l),n.prototype.init=function(o){o.innerHTML=this.$toHTML(),this.$view=o.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},n.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},n.prototype._getRootParent=function(){for(var o=this.$parent;o&&o.$parent;)o=o.$parent;if(o)return o},n.prototype._eachView=function(){var o=[];return function d(f,_){if(_.push(f),f.$cells)for(var m=0;m<f.$cells.length;m++)d(f.$cells[m],_)}(this._getRootParent(),o),o},n.prototype._getLinkedViews=function(){for(var o=this._eachView(),d=[],f=0;f<o.length;f++)o[f].$config&&(this._isVertical()&&o[f].$config.scrollY==this.$id||this._isHorizontal()&&o[f].$config.scrollX==this.$id)&&d.push(o[f]);return d},n.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},n.prototype._initLinkedViews=function(){for(var o=this._getLinkedViews(),d=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",f=0;f<o.length;f++)c.addClassName(o[f].$view||o[f].getNode(),d)},n.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},n.prototype._updateLinkedViews=function(){},n.prototype._initMouseWheel=function(){h.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},n.prototype.scrollHorizontally=function(o){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=o,this.$config.codeScrollLeft=o,o=this.$scroll_hor.scrollLeft;for(var d=this._getLinkedViews(),f=0;f<d.length;f++)d[f].scrollTo&&d[f].scrollTo(o,void 0);var _=this.$config.scrollPosition;this.$config.scrollPosition=o,this.callEvent("onScroll",[_,o,this.$config.scroll]),this._scrolling=!1}},n.prototype.scrollVertically=function(o){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=o,o=this.$scroll_ver.scrollTop;for(var d=this._getLinkedViews(),f=0;f<d.length;f++)d[f].scrollTo&&d[f].scrollTo(void 0,o);var _=this.$config.scrollPosition;this.$config.scrollPosition=o,this.callEvent("onScroll",[_,o,this.$config.scroll]),this._scrolling=!1}},n.prototype._isVertical=function(){return this.$config.scroll=="y"},n.prototype._isHorizontal=function(){return this.$config.scroll=="x"},n.prototype._scrollHorizontalHandler=function(o){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var d=this.$scroll_hor.scrollLeft;this.scrollHorizontally(d),this._oldLeft=this.$scroll_hor.scrollLeft}},n.prototype._outerScrollHorizontalHandler=function(o){this._isVertical()},n.prototype.show=function(){this.$parent.show()},n.prototype.hide=function(){this.$parent.hide()},n.prototype._getScrollSize=function(){for(var o,d=0,f=0,_=this._isHorizontal(),m=this._getLinkedViews(),v=_?"scrollWidth":"scrollHeight",y=_?"contentX":"contentY",k=_?"x":"y",x=this._getScrollOffset(),w=0;w<m.length;w++)if((o=m[w])&&o.$content&&o.$content.getSize&&!o.$config.hidden){var b,S=o.$content.getSize();if(b=S.hasOwnProperty(v)?S[v]:S[y],x)S[y]>S[k]&&S[y]>d&&b>S[k]-x+2&&(d=b+(_?0:2),f=S[k]);else{var T=Math.max(S[y]-b,0);(b+=T)>Math.max(S[k]-T,0)&&b>d&&(d=b,f=S[k])}}return{outerScroll:f,innerScroll:d}},n.prototype.scroll=function(o){this._isHorizontal()?this.scrollHorizontally(o):this.scrollVertically(o)},n.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},n.prototype.setSize=function(o,d){l.prototype.setSize.apply(this,arguments);var f=this._getScrollSize(),_=(this._isVertical()?d:o)-this._getScrollOffset()+(this._isHorizontal()?1:0);f.innerScroll&&_>f.outerScroll&&(f.innerScroll+=_-f.outerScroll),this.$config.scrollSize=f.innerScroll,this.$config.width=o,this.$config.height=d,this._setScrollSize(f.innerScroll)},n.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},n.prototype.shouldShow=function(){var o=this._getScrollSize();return!(!o.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!o.innerScroll||this.$parent&&this.$parent.$view.parentNode)},n.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},n.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},n.prototype._getScaleOffset=function(o){var d=0;return!o||o.$config.view!="timeline"&&o.$config.view!="grid"||(d=o.$content.$getConfig().scale_height),d},n.prototype._getScrollOffset=function(){var o=0;if(this._isVertical()){var d=this.$parent.$parent;o=Math.max(this._getScaleOffset(d.getPrevSibling(this.$parent.$id)),this._getScaleOffset(d.getNextSibling(this.$parent.$id)))}else for(var f=this._getLinkedViews(),_=0;_<f.length;_++){var m=f[_].$parent.$cells,v=m[m.length-1];if(v&&v.$config.view=="scrollbar"&&v.$config.hidden===!1){o=v.$config.width;break}}return o||0},n.prototype._setScrollSize=function(o){var d=this._isHorizontal()?"width":"height",f=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,_=this._getScrollOffset(),m=f.firstChild;_?this._isVertical()?(this.$config.outerSize=this.$config.height-_+3,f.style.height=this.$config.outerSize+"px",f.style.top=_-1+"px",c.addClassName(f,this.$parent._borders.top),c.addClassName(f.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-_+1,f.style.width=this.$config.outerSize+"px"):(f.style.top="auto",c.removeClassName(f,this.$parent._borders.top),c.removeClassName(f.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),m.style[d]=o+"px"},n.prototype._scrollVerticalHandler=function(o){if(!this._scrollHorizontalHandler()&&!this._scrolling){var d=this.$scroll_ver.scrollTop;d!=this._oldTop&&(this.scrollVertically(d),this._oldTop=this.$scroll_ver.scrollTop)}},n.prototype._outerScrollVerticalHandler=function(o){this._scrollHorizontalHandler()},n.prototype._checkWheelTarget=function(o){for(var d=this._getLinkedViews().concat(this),f=0;f<d.length;f++){var _=d[f].$view;if(c.isChildOf(o,_))return!0}return!1},n.prototype._mouseWheelHandler=function(o){var d=o.target||o.srcElement;if(this._checkWheelTarget(d)){this._wheel_time=new Date;var f={},_={x:1,y:1},m=this.$gantt.config.wheel_scroll_sensitivity;typeof m=="number"&&m?_={x:m,y:m}:{}.toString.apply(m)=="[object Object]"&&(_={x:m.x,y:m.y});var v=h.isFF,y=v?o.deltaX:o.wheelDeltaX,k=v?o.deltaY:o.wheelDelta,x=-20;v&&(x=o.deltaMode!==0?-40:-10);var w=v?y*x*_.x:2*y*_.x,b=v?k*x*_.y:k*_.y,S=this.$gantt.config.horizontal_scroll_key;if(S!==!1&&r.indexOf(S)>=0&&(!o[S]||o.deltaX||o.wheelDeltaX||(w=2*b,b=0)),w&&Math.abs(w)>Math.abs(b)){if(this._isVertical())return;if(f.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var T=w/-40,N=this._oldLeft,$=N+30*T;if(this.scrollHorizontally($),this.$scroll_hor.scrollLeft=$,N==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(f.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;T=b/-40,b===void 0&&(T=o.detail);var E=this._oldTop,D=this.$scroll_ver.scrollTop+30*T;if(this.scrollVertically(D),this.$scroll_ver.scrollTop=D,E==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return o.preventDefault&&o.preventDefault(),o.cancelBubble=!0,!1}},n}(i(14));s.exports=a},function(s,g){s.exports=null},function(s,g,i){var p=i(3),c=i(0),u=function(h){function a(l,r,n){var o=h.apply(this,arguments)||this;if(r.view){r.id&&(this.$id=c.uid());var d=c.copy(r);if(delete d.config,delete d.templates,this.$content=this.$factory.createView(r.view,this,d,this),!this.$content)return!1}return o.$name="viewCell",o}return p(a,h),a.prototype.destructor=function(){this.clear(),h.prototype.destructor.call(this)},a.prototype.clear=function(){if(this.$initialized=!1,this.$content){var l=this.$content.unload||this.$content.destructor;l&&l.call(this.$content)}h.prototype.clear.call(this)},a.prototype.scrollTo=function(l,r){this.$content&&this.$content.scrollTo?this.$content.scrollTo(l,r):h.prototype.scrollTo.call(this,l,r)},a.prototype._setContentSize=function(l,r){var n=this._getBorderSizes();if(typeof l=="number"){var o=l+n.horizontal;this.$config.width=o}if(typeof r=="number"){var d=r+n.vertical;this.$config.height=d}},a.prototype.setSize=function(l,r){if(h.prototype.setSize.call(this,l,r),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var n=this.$view.childNodes[0],o=this.$view.childNodes[1];o||(o=n),this.$content.init(o)}},a.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},a.prototype.getContentSize=function(){var l=h.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var r=this.$content.getSize();l.width=r.contentX===void 0?r.width:r.contentX,l.height=r.contentY===void 0?r.height:r.contentY}var n=this._getBorderSizes();return l.width+=n.horizontal,l.height+=n.vertical,l},a}(i(14));s.exports=u},function(s,g,i){var p=i(3),c=i(38),u=i(14),h=function(a){function l(r,n,o){for(var d=a.apply(this,arguments)||this,f=0;f<d.$cells.length;f++)d.$cells[f].$config.hidden=f!==0;return d.$cell=d.$cells[0],d.$name="viewLayout",d}return p(l,a),l.prototype.cell=function(r){var n=a.prototype.cell.call(this,r);return n.$view||this.$fill(null,this),n},l.prototype.moveView=function(r){var n=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,n.removeChild(this.$cell.$view)),this.$cell=r,n.appendChild(r.$view)},l.prototype.setSize=function(r,n){u.prototype.setSize.call(this,r,n)},l.prototype.setContentSize=function(){var r=this.$lastSize;this.$cell.setSize(r.contentX,r.contentY)},l.prototype.getSize=function(){var r=a.prototype.getSize.call(this);if(this.$cell){var n=this.$cell.getSize();if(this.$config.byMaxSize)for(var o=0;o<this.$cells.length;o++){var d=this.$cells[o].getSize();for(var f in n)n[f]=Math.max(n[f],d[f])}for(var _ in r)r[_]=r[_]||n[_];r.gravity=Math.max(r.gravity,n.gravity)}return r},l}(c);s.exports=h},function(s,g){s.exports=function(i,p,c){if(!i.start_date||!i.end_date)return null;var u=p.posFromDate(i.start_date),h=p.posFromDate(i.end_date),a=Math.min(u,h)-200,l=Math.max(u,h)+200;return{top:p.getItemTop(i.id),height:p.getItemHeight(i.id),left:a,width:l-a}}},function(s,g,i){var p=i(136);s.exports=function(c,u,h,a){if(!a.isTaskExists(c.source)||!a.isTaskExists(c.target))return null;var l=p(a.getTask(c.source),u,a),r=p(a.getTask(c.target),u,a);if(!l||!r)return null;var n=Math.min(l.left,r.left)-100,o=Math.max(l.left+l.width,r.left+r.width)+100,d=Math.min(l.top,r.top)-100,f=Math.max(l.top+l.height,r.top+r.height)+100;return{top:d,height:f-d,bottom:f,left:n,width:o-n,right:o}}},function(s,g){s.exports=function(i,p,c){return!!p&&!(p.left>i.x_end||p.left+p.width<i.x)&&!(p.top>i.y_end||p.top+p.height<i.y)}},function(s,g,i){var p=i(138),c=i(20),u=i(30),h=i(6);s.exports=function(a){var l={},r={};function n(d){var f=null;return typeof d.view=="string"?f=a.$ui.getView(d.view):d.view&&(f=d.view),f}function o(d,f,_){if(r[d])return r[d];f.renderer||a.assert(!1,"Invalid renderer call");var m=null,v=null,y=null,k=null,x=null;typeof f.renderer=="function"?(m=f.renderer,y=u):(m=f.renderer.render,v=f.renderer.update,k=f.renderer.onrender,f.renderer.isInViewPort?x=f.renderer.isInViewPort:y=f.renderer.getRectangle,y||y===null||(y=u));var w=f.filter;return _&&_.setAttribute(a.config.layer_attribute,!0),r[d]={render_item:function(b,S,T,N,$){if(S=S||_,!w||w(b)){var E=N||n(f),D=$||(E?E.$getConfig():null),P=T;!P&&D&&D.smart_rendering&&(P=E.getViewPort());var I=null;!c(a)&&(y||x)&&P?(x?x(b,P,E,D,a):p(P,y(b,E,D,a),a))&&(I=m.call(a,b,E,D,P)):I=m.call(a,b,E,D,P),this.append(b,I,S);var O=S.nodeType==11;k&&!O&&I&&k.call(a,b,I,E)}else this.remove_item(b.id)},clear:function(b){this.rendered=l[d]={},f.append||this.clear_container(b)},clear_container:function(b){(b=b||_)&&(b.innerHTML="")},get_visible_range:function(b){var S,T,N=n(f),$=N?N.$getConfig():null;return $&&$.smart_rendering&&(S=N.getViewPort()),N&&S&&(typeof f.renderer=="function"?T=h(a,N,$,b,S):f.renderer&&f.renderer.getVisibleRange&&(T=f.renderer.getVisibleRange(a,N,$,b,S))),T||(T={start:0,end:b.count()}),T},prepare_data:function(b){if(f.renderer&&f.renderer.prepareData)return f.renderer.prepareData(b,a,f)},render_items:function(b,S){S=S||_;var T=document.createDocumentFragment();this.clear(S);var N=null,$=n(f),E=$?$.$getConfig():null;E&&E.smart_rendering&&(N=$.getViewPort());for(var D=0,P=b.length;D<P;D++)this.render_item(b[D],T,N,$,E);S.appendChild(T,S);var I={};b.forEach(function(R){I[R.id]=R});var O={};if(k){var B={};for(var D in this.rendered)O[D]||(B[D]=this.rendered[D],k.call(a,I[D],this.rendered[D],$))}},update_items:function(b,S){var T=n(f),N=T?T.$getConfig():null;if(T&&T.$getConfig().smart_rendering&&!c(a)&&this.rendered&&(y||x)){S=S||_;var $=document.createDocumentFragment(),E=null;T&&(E=T.getViewPort());var D={};b.forEach(function(L){D[L.id]=L});var P={},I={};for(var O in this.rendered)I[O]=!0,P[O]=!0;for(var B={},R=(O=0,b.length);O<R;O++){var H=b[O],q=this.rendered[H.id];I[H.id]=!1,q&&q.parentNode?(x?x(H,E,T,N,a):p(E,y(H,T,N,a),a))?(v&&v.call(a,H,q,T,N,E),this.restore(H,$)):I[H.id]=!0:(B[b[O].id]=!0,this.render_item(b[O],$,E,T,N))}for(var O in I)I[O]&&this.hide(O);if($.childNodes.length&&S.appendChild($,S),k){var G={};for(var O in this.rendered)P[O]&&!B[O]||(G[O]=this.rendered[O],k.call(a,D[O],this.rendered[O],T))}}},append:function(b,S,T){this.rendered&&(S?(this.rendered[b.id]&&this.rendered[b.id].parentNode?this.replace_item(b.id,S):T.appendChild(S),this.rendered[b.id]=S):this.rendered[b.id]&&this.remove_item(b.id))},replace_item:function(b,S){var T=this.rendered[b];T&&T.parentNode&&T.parentNode.replaceChild(S,T),this.rendered[b]=S},remove_item:function(b){this.hide(b),delete this.rendered[b]},hide:function(b){var S=this.rendered[b];S&&S.parentNode&&S.parentNode.removeChild(S)},restore:function(b,S){var T=this.rendered[b.id];T?T.parentNode||this.append(b,T,S||_):this.render_item(b,S||_)},change_id:function(b,S){this.rendered[S]=this.rendered[b],delete this.rendered[b]},rendered:l[d],node:_,destructor:function(){this.clear(),delete r[d],delete l[d]}},r[d]}return{getRenderer:o,clearRenderers:function(){for(var d in r)o(d).destructor()}}}},function(s,g,i){var p=i(139),c=i(0),u=i(1),h=i(20);function a(l){return l instanceof Array||(l=Array.prototype.slice.call(arguments,0)),function(r){for(var n=!0,o=0,d=l.length;o<d;o++){var f=l[o];f&&(n=n&&f(r.id,r)!==!1)}return n}}s.exports=function(l){var r=p(l);return{createGroup:function(n,o,d,f){var _={tempCollection:[],renderers:{},container:n,filters:[],getLayers:function(){this._add();var m=[];for(var v in this.renderers)m.push(this.renderers[v]);return m},getLayer:function(m){return this.renderers[m]},_add:function(m){m&&(m.id=m.id||c.uid(),this.tempCollection.push(m));for(var v=this.container(),y=this.tempCollection,k=0;k<y.length;k++)if(m=y[k],this.container()||m&&m.container&&u.isChildOf(m.container,document.body)){var x=m.container,w=m.id,b=m.topmost;if(!x.parentNode)if(b)v.appendChild(x);else{var S=o?o():v.firstChild;S&&S.parentNode==v?v.insertBefore(x,S):v.appendChild(x)}this.renderers[w]=r.getRenderer(w,m,x),f&&f(m,l),this.tempCollection.splice(k,1),k--}},addLayer:function(m){if(m){typeof m=="function"&&(m={renderer:m}),m.filter===void 0?m.filter=a(d||[]):m.filter instanceof Array&&(m.filter.push(d),m.filter=a(m.filter)),m.container||(m.container=document.createElement("div"));var v=this;m.requestUpdate=function(){l.config.smart_rendering&&!h(l)&&v.renderers[m.id]&&v.onUpdateRequest(v.renderers[m.id])}}return this._add(m),m?m.id:void 0},onUpdateRequest:function(m){},eachLayer:function(m){for(var v in this.renderers)m(this.renderers[v])},removeLayer:function(m){this.renderers[m]&&(this.renderers[m].destructor(),delete this.renderers[m])},clear:function(){for(var m in this.renderers)this.renderers[m].destructor();this.renderers={}}};return l.attachEvent("onDestroy",function(){_.clear(),_=null}),_}}}},function(s,g,i){var p=i(140),c=i(6),u=i(40),h=i(39);function a(l,r){if(l.view){var n=l.view;typeof n=="string"&&(n=r.$ui.getView(n)),n&&n.attachEvent&&n.attachEvent("onScroll",function(){r.$services.getService("state").getState("batchUpdate").batch_update||n.$config.$skipSmartRenderOnScroll||l.requestUpdate&&l.requestUpdate()})}}s.exports=function(l){var r=p(l);return{getDataRender:function(n){return l.$services.getService("layer:"+n)||null},createDataRender:function(n){var o=n.name,d=n.defaultContainer,f=n.defaultContainerSibling,_=r.createGroup(d,f,function(m,v){if(!_.filters)return!0;for(var y=0;y<_.filters.length;y++)if(_.filters[y](m,v)===!1)return!1},a);return l.$services.setService("layer:"+o,function(){return _}),l.attachEvent("onGanttReady",function(){_.addLayer()}),_},init:function(){var n=this.createDataRender({name:"task",defaultContainer:function(){return l.$task_data?l.$task_data:l.$ui.getView("timeline")?l.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return l.$task_links?l.$task_links:l.$ui.getView("timeline")?l.$ui.getView("timeline").$task_links:void 0},filter:function(d){}},l),o=this.createDataRender({name:"link",defaultContainer:function(){return l.$task_data?l.$task_data:l.$ui.getView("timeline")?l.$ui.getView("timeline").$task_data:void 0}},l);return{addTaskLayer:function(d){var f=c;return typeof d=="function"?d={renderer:{render:d,getVisibleRange:f}}:d.renderer&&!d.renderer.getVisibleRange&&(d.renderer.getVisibleRange=f),d.view="timeline",n.addLayer(d)},_getTaskLayers:function(){return n.getLayers()},removeTaskLayer:function(d){n.removeLayer(d)},_clearTaskLayers:function(){n.clear()},addLinkLayer:function(d){var f=u();return typeof d=="function"?d={renderer:{render:d,getVisibleRange:f}}:d.renderer&&!d.renderer.getVisibleRange&&(d.renderer.getVisibleRange=f),d.view="timeline",d&&d.renderer&&(d.renderer.getRectangle||d.renderer.isInViewPort||(d.renderer.isInViewPort=h)),o.addLayer(d)},_getLinkLayers:function(){return o.getLayers()},removeLinkLayer:function(d){o.removeLayer(d)},_clearLinkLayers:function(){o.clear()}}}}}},function(s,g,i){var p=function(c){return function(u){var h={click:{},doubleclick:{},contextMenu:{}};function a(v,y,k,x){h[v][y]||(h[v][y]=[]),h[v][y].push({handler:k,root:x})}function l(v){v=v||window.event;var y=u.locate(v),k=n(v,h.click),x=!0;if(y!==null?x=!u.checkEvent("onTaskClick")||u.callEvent("onTaskClick",[y,v]):u.callEvent("onEmptyClick",[v]),x){if(!o(k,v,y))return;switch(v.target.nodeName){case"SELECT":case"INPUT":return}y&&u.getTask(y)&&!u._multiselect&&u.config.select_task&&u.selectTask(y)}}function r(v){var y=(v=v||window.event).target||v.srcElement,k=u.locate(y),x=u.locate(y,u.config.link_attribute),w=!u.checkEvent("onContextMenu")||u.callEvent("onContextMenu",[k,x,v]);return w||(v.preventDefault?v.preventDefault():v.returnValue=!1),w}function n(v,y){for(var k=v.target||v.srcElement,x=[];k;){var w=c.getClassName(k);if(w){w=w.split(" ");for(var b=0;b<w.length;b++)if(w[b]&&y[w[b]])for(var S=y[w[b]],T=0;T<S.length;T++)S[T].root&&!c.isChildOf(k,S[T].root)||x.push(S[T].handler)}k=k.parentNode}return x}function o(v,y,k){for(var x=!0,w=0;w<v.length;w++){var b=v[w].call(u,y,k,y.target||y.srcElement);x=x&&!(b!==void 0&&b!==!0)}return x}function d(v){v=v||window.event;var y=u.locate(v),k=n(v,h.doubleclick),x=!u.checkEvent("onTaskDblClick")||y===null||u.callEvent("onTaskDblClick",[y,v]);if(x){if(!o(k,v,y))return;y!==null&&u.getTask(y)&&x&&u.config.details_on_dblclick&&!u.isReadonly(y)&&u.showLightbox(y)}}function f(v){if(u.checkEvent("onMouseMove")){var y=u.locate(v);u._last_move_event=v,u.callEvent("onMouseMove",[y,v])}}var _=u._createDomEventScope();function m(v){_.detachAll(),v&&(_.attach(v,"click",l),_.attach(v,"dblclick",d),_.attach(v,"mousemove",f),_.attach(v,"contextmenu",r))}return{reset:m,global:function(v,y,k){a(v,y,k,null)},delegate:a,detach:function(v,y,k,x){if(h[v]&&h[v][y]){for(var w=h[v],b=w[y],S=0;S<b.length;S++)b[S].root==x&&(b.splice(S,1),S--);b.length||delete w[y]}},callHandler:function(v,y,k,x){var w=h[v][y];if(w)for(var b=0;b<w.length;b++)(k||w[b].root)&&w[b].root!==k||w[b].handler.apply(this,x)},onDoubleClick:d,onMouseMove:f,onContextMenu:r,onClick:l,destructor:function(){m(),h=null,_=null}}}}(i(1));s.exports={init:p}},function(s,g,i){var p=i(0);function c(u,h){var a=this.$config[u];return a?(a.$extendedConfig||(a.$extendedConfig=!0,Object.setPrototypeOf(a,h)),a):h}s.exports=function(u,h){p.mixin(u,function(a){var l,r;return{$getConfig:function(){return l||(l=a?a.$getConfig():this.$gantt.config),this.$config.config?c.call(this,"config",l):l},$getTemplates:function(){return r||(r=a?a.$getTemplates():this.$gantt.templates),this.$config.templates?c.call(this,"templates",r):r}}}(h))}},function(s,g,i){function p(h){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(h)}var c=i(0),u=i(143);s.exports={createFactory:function(h){var a={},l={};function r(n,o,d,f){var _=a[n];if(!_||!_.create)return!1;n!="resizer"||d.mode||(f.$config.cols?d.mode="x":d.mode="y"),n!="viewcell"||d.view!="scrollbar"||d.scroll||(f.$config.cols?d.scroll="y":d.scroll="x"),(d=c.copy(d)).id||l[d.view]||(d.id=d.view),d.id&&!d.css&&(d.css=d.id+"_cell");var m=new _.create(o,d,this,h);return _.configure&&_.configure(m),u(m,f),m.$id||(m.$id=d.id||h.uid()),m.$parent||p(o)!="object"||(m.$parent=o),m.$config||(m.$config=d),l[m.$id]&&(m.$id=h.uid()),l[m.$id]=m,m}return{initUI:function(n,o){var d="cell";return n.view?d="viewcell":n.resizer?d="resizer":n.rows||n.cols?d="layout":n.views&&(d="multiview"),r.call(this,d,null,n,o)},reset:function(){l={}},registerView:function(n,o,d){a[n]={create:o,configure:d}},createView:r,getView:function(n){return l[n]}}}}},function(s,g,i){var p=i(144),c=i(142),u=i(141),h=i(14),a=i(38),l=i(135),r=i(134),n=i(133),o=i(132),d=i(29),f=i(32),_=i(32),m=i(29),v=i(29),y=i(130),k=i(119),x=i(118),w=i(116),b=i(115),S=i(113),T=i(112),N=i(110),$=i(109),E=i(108),D=i(107),P=i(101),I=i(98);s.exports={init:function(O){function B(G,L){var F=L(O);F.onCreated&&F.onCreated(G),G.attachEvent("onReady",function(){F.onInitialized&&F.onInitialized(G)}),G.attachEvent("onDestroy",function(){F.onDestroyed&&F.onDestroyed(G)})}var R=p.createFactory(O);R.registerView("cell",h),R.registerView("resizer",n),R.registerView("scrollbar",o),R.registerView("layout",a,function(G){(G.$config?G.$config.id:null)==="main"&&B(G,I)}),R.registerView("viewcell",r),R.registerView("multiview",l),R.registerView("timeline",d,function(G){(G.$config?G.$config.id:null)!=="timeline"&&G.$config.bind!="task"||B(G,P)}),R.registerView("grid",f,function(G){(G.$config?G.$config.id:null)!=="grid"&&G.$config.bind!="task"||B(G,D)}),R.registerView("resourceGrid",_),R.registerView("resourceTimeline",m),R.registerView("resourceHistogram",v);var H=u(O),q=y(O);return O.ext.inlineEditors=q,O.ext._inlineEditors=q,q.init(O),{factory:R,mouseEvents:c.init(O),layersApi:H.init(),render:{gridLine:function(){return T(O)},taskBg:function(){return b(O)},taskBar:function(){return k(O)},taskRollupBar:function(){return w(O)},taskSplitBar:function(){return x(O)},link:function(){return S(O)},resourceRow:function(){return N(O)},resourceHistogram:function(){return $(O)},gridTaskRowResizer:function(){return E(O)}},layersService:{getDataRender:function(G){return H.getDataRender(G,O)},createDataRender:function(G){return H.createDataRender(G,O)}}}}}},function(s,g,i){function p(h){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(h)}var c=i(0),u=i(1);s.exports=function(h){var a="data-dhxbox",l=null;function r($,E){var D=$.callback;S.hide($.box),l=$.box=null,D&&D(E)}function n($){if(l){var E=$.which||$.keyCode,D=!1;if(T.keyboard){if(E==13||E==32){var P=$.target||$.srcElement;u.getClassName(P).indexOf("gantt_popup_button")>-1&&P.click?P.click():(r(l,!0),D=!0)}E==27&&(r(l,!1),D=!0)}return D?($.preventDefault&&$.preventDefault(),!($.cancelBubble=!0)):void 0}}var o=u.getRootNode(h.$root)||document;function d($){d.cover||(d.cover=document.createElement("div"),d.cover.onkeydown=n,d.cover.className="dhx_modal_cover",document.body.appendChild(d.cover)),d.cover.style.display=$?"inline-block":"none"}function f($,E,D){return"<div "+h._waiAria.messageButtonAttrString($)+" class='gantt_popup_button "+("gantt_"+E.toLowerCase().replace(/ /g,"_")+"_button")+"' data-result='"+D+"' result='"+D+"' ><div>"+$+"</div></div>"}function _($){T.area||(T.area=document.createElement("div"),T.area.className="gantt_message_area",T.area.style[T.position]="5px",document.body.appendChild(T.area)),T.hide($.id);var E=document.createElement("div");return E.innerHTML="<div>"+$.text+"</div>",E.className="gantt-info gantt-"+$.type,E.onclick=function(){T.hide($.id),$=null},h._waiAria.messageInfoAttr(E),T.position=="bottom"&&T.area.firstChild?T.area.insertBefore(E,T.area.firstChild):T.area.appendChild(E),$.expire>0&&(T.timers[$.id]=window.setTimeout(function(){T&&T.hide($.id)},$.expire)),T.pull[$.id]=E,E=null,$.id}function m(){for(var $=[].slice.apply(arguments,[0]),E=0;E<$.length;E++)if($[E])return $[E]}function v($,E,D){var P=$.tagName?$:function(B,R,H){var q=document.createElement("div"),G=c.uid();h._waiAria.messageModalAttr(q,G),q.className=" gantt_modal_box gantt-"+B.type,q.setAttribute(a,1);var L="";if(B.width&&(q.style.width=B.width),B.height&&(q.style.height=B.height),B.title&&(L+='<div class="gantt_popup_title">'+B.title+"</div>"),L+='<div class="gantt_popup_text" id="'+G+'"><span>'+(B.content?"":B.text)+'</span></div><div  class="gantt_popup_controls">',R&&(L+=f(m(B.ok,h.locale.labels.message_ok,"OK"),"ok",!0)),H&&(L+=f(m(B.cancel,h.locale.labels.message_cancel,"Cancel"),"cancel",!1)),B.buttons)for(var F=0;F<B.buttons.length;F++){var J=B.buttons[F];p(J)=="object"?L+=f(J.label,J.css||"gantt_"+J.label.toLowerCase()+"_button",J.value||F):L+=f(J,J,F)}if(L+="</div>",q.innerHTML=L,B.content){var z=B.content;typeof z=="string"&&(z=document.getElementById(z)),z.style.display=="none"&&(z.style.display=""),q.childNodes[B.title?1:0].appendChild(z)}return q.onclick=function(X){var ne=X.target||X.srcElement;if(ne.className||(ne=ne.parentNode),u.closest(ne,".gantt_popup_button")){var ee=ne.getAttribute("data-result");r(B,ee=ee=="true"||ee!="false"&&ee)}},B.box=q,(R||H)&&(l=B),q}($,E,D);$.hidden||d(!0),document.body.appendChild(P);var I=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-P.offsetWidth)/2)),O=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-P.offsetHeight)/2));return $.position=="top"?P.style.top="-3px":P.style.top=O+"px",P.style.left=I+"px",P.onkeydown=n,S.focus(P),$.hidden&&S.hide(P),h.callEvent("onMessagePopup",[P]),P}function y($){return v($,!0,!1)}function k($){return v($,!0,!0)}function x($){return v($)}function w($,E,D){return p($)!="object"&&(typeof E=="function"&&(D=E,E=""),$={text:$,type:E,callback:D}),$}function b($,E,D,P){return p($)!="object"&&($={text:$,type:E,expire:D,id:P}),$.id=$.id||c.uid(),$.expire=$.expire||T.expire,$}h.event(o,"keydown",n,!0);var S=function(){var $=w.apply(this,arguments);return $.type=$.type||"alert",x($)};S.hide=function($){for(;$&&$.getAttribute&&!$.getAttribute(a);)$=$.parentNode;$&&($.parentNode.removeChild($),d(!1),h.callEvent("onAfterMessagePopup",[$]))},S.focus=function($){setTimeout(function(){var E=u.getFocusableNodes($);E.length&&E[0].focus&&E[0].focus()},1)};var T=function($,E,D,P){switch(($=b.apply(this,arguments)).type=$.type||"info",$.type.split("-")[0]){case"alert":return y($);case"confirm":return k($);case"modalbox":return x($);default:return _($)}};T.seed=new Date().valueOf(),T.uid=c.uid,T.expire=4e3,T.keyboard=!0,T.position="top",T.pull={},T.timers={},T.hideAll=function(){for(var $ in T.pull)T.hide($)},T.hide=function($){var E=T.pull[$];E&&E.parentNode&&(window.setTimeout(function(){E.parentNode.removeChild(E),E=null},2e3),E.className+=" hidden",T.timers[$]&&window.clearTimeout(T.timers[$]),delete T.pull[$])};var N=[];return h.attachEvent("onMessagePopup",function($){N.push($)}),h.attachEvent("onAfterMessagePopup",function($){for(var E=0;E<N.length;E++)N[E]===$&&(N.splice(E,1),E--)}),h.attachEvent("onDestroy",function(){d.cover&&d.cover.parentNode&&d.cover.parentNode.removeChild(d.cover);for(var $=0;$<N.length;$++)N[$].parentNode&&N[$].parentNode.removeChild(N[$]);N=null,T.area&&T.area.parentNode&&T.area.parentNode.removeChild(T.area),T=null}),{alert:function(){var $=w.apply(this,arguments);return $.type=$.type||"confirm",y($)},confirm:function(){var $=w.apply(this,arguments);return $.type=$.type||"alert",k($)},message:T,modalbox:S}}},function(s,g,i){s.exports=function(p){var c=i(0),u=i(11),h=i(15);if(!u.isNode){var a=i(1),l=i(2);p.utils={arrayFind:l.arrayFind,dom:a};var r=i(51)();p.event=r.attach,p.eventRemove=r.detach,p._eventRemoveAll=r.detachAll,p._createDomEventScope=r.extend,c.mixin(p,i(146)(p));var n=i(145).init(p);p.$ui=n.factory,p.$ui.layers=n.render,p.$mouseEvents=n.mouseEvents,p.$services.setService("mouseEvents",function(){return p.$mouseEvents}),p.mixin(p,n.layersApi),i(97)(p),p.$services.setService("layers",function(){return n.layersService});var o=i(96);p.mixin(p,o()),i(95)(p),i(94)(p),i(93)(p),i(92)(p),i(91)(p),i(90)(p),i(89)(p),i(88)(p),i(87)(p),i(82)(p),i(81)(p),i(71)(p),i(70)(p),p.locate=function(d){var f=a.getTargetNode(d);if(a.closest(f,".gantt_task_row"))return null;var _=arguments[1]||this.config.task_attribute,m=a.locateAttribute(f,_);return m?m.getAttribute(_):null},p._locate_css=function(d,f,_){return a.locateClassName(d,f,_)},p._locateHTML=function(d,f){return a.locateAttribute(d,f||this.config.task_attribute)}}p.attachEvent("onParse",function(){h(p)||p.attachEvent("onGanttRender",function(){if(p.config.initial_scroll){var d=p.getTaskByIndex(0),f=d?d.id:p.config.root_id;p.isTaskExists(f)&&p.$task&&p.utils.dom.isChildOf(p.$task,p.$container)&&p.showTask(f)}},{once:!0})}),p.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=a.getScrollSize()||1),h(p)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),p.attachEvent("onGanttReady",function(){!h(p)&&p.config.rtl&&p.$layout.getCellsByType("viewCell").forEach(function(d){var f=d.$config.scrollX;if(f){var _=p.$ui.getView(f);_&&_.scrollTo(_.$config.scrollSize,0)}})}),p.attachEvent("onGanttReady",function(){if(!h(p)){var d=p.plugins(),f={auto_scheduling:p.autoSchedule,click_drag:p.ext.clickDrag,critical_path:p.isCriticalTask,drag_timeline:p.ext.dragTimeline,export_api:p.exportToPDF,fullscreen:p.ext.fullscreen,grouping:p.groupBy,keyboard_navigation:p.ext.keyboardNavigation,marker:p.addMarker,multiselect:p.eachSelectedTask,overlay:p.ext.overlay,quick_info:p.templates.quick_info_content,tooltip:p.ext.tooltips,undo:p.undo};for(var _ in f)f[_]&&!d[_]&&console.warn("You connected the '".concat(_,`' extension via an obsolete file. 
To fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`))}})}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],month_short:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],day_full:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],day_short:["Нед","Пон","Вів","Сер","Чет","Птн","Суб"]},labels:{new_task:"Нове завдання",icon_save:"Зберегти",icon_cancel:"Відміна",icon_details:"Деталі",icon_edit:"Редагувати",icon_delete:"Вилучити",confirm_closing:"",confirm_deleting:"Подія вилучиться назавжди. Ви впевнені?",section_description:"Опис",section_time:"Часовий проміжок",section_type:"Тип",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Відміна",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],month_short:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"]},labels:{new_task:"Yeni görev",icon_save:"Kaydet",icon_cancel:"İptal",icon_details:"Detaylar",icon_edit:"Düzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Görev silinecek, emin misiniz?",section_description:"Açıklama",section_time:"Zaman Aralığı",section_type:"Tip",column_wbs:"WBS",column_text:"Görev Adı",column_start_date:"Başlangıç",column_duration:"Süre",column_add:"",link:"Bağlantı",confirm_link_deleting:"silinecek",link_start:" (başlangıç)",link_end:" (bitiş)",type_task:"Görev",type_project:"Proje",type_milestone:"Kilometretaşı",minutes:"Dakika",hours:"Saat",days:"Gün",weeks:"Hafta",months:"Ay",years:"Yıl",message_ok:"OK",message_cancel:"Ýptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],day_short:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"Ändra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"Är du säker på att du vill ta bort händelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"Länk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Månader",years:"År",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],month_short:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","Št","Pi","So"]},labels:{new_task:"Nová úloha",icon_save:"Uložiť",icon_cancel:"Späť",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmazať",confirm_closing:"Vaše zmeny nebudú uložené. Skutočne?",confirm_deleting:"Udalosť bude natrvalo vymazaná. Skutočne?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Späť",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekliči",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbriši",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. Želite nadaljevati?",section_description:"Opis",section_time:"Časovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekliči",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Январь","Февраль","Март","Апрель","Maй","Июнь","Июль","Август","Сентябрь","Oктябрь","Ноябрь","Декабрь"],month_short:["Янв","Фев","Maр","Aпр","Maй","Июн","Июл","Aвг","Сен","Окт","Ноя","Дек"],day_full:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],day_short:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},labels:{new_task:"Новое задание",icon_save:"Сохранить",icon_cancel:"Отменить",icon_details:"Детали",icon_edit:"Изменить",icon_delete:"Удалить",confirm_closing:"",confirm_deleting:"Событие будет удалено безвозвратно, продолжить?",section_description:"Описание",section_time:"Период времени",section_type:"Тип",column_wbs:"ИСР",column_text:"Задача",column_start_date:"Начало",column_duration:"Длительность",column_add:"",link:"Связь",confirm_link_deleting:"будет удалена",link_start:" (начало)",link_end:" (конец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Минута",hours:"Час",days:"День",weeks:"Неделя",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Отменить",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"начните вводить слово для фильтрации",resources_filter_label:"спрятать не установленные",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas serão excluidas permanentemente, confirme?",section_description:"Descrição",section_time:"Período",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data início",column_duration:"Duração",column_add:"",link:"Link",confirm_link_deleting:"Será excluído!",link_start:" (início)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restrição",constraint_type:"Tipo Restrição",constraint_date:"Data restrição",asap:"Mais breve possível",alap:"Mais tarde possível",snet:"Não começar antes de",snlt:"Não começar depois de",fnet:"Não terminar antes de",fnlt:"Não terminar depois de",mso:"Precisa começar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],day_full:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],day_short:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegóły",icon_edit:"Edytuj",icon_delete:"Usuń",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunięte na zawsze, kontynuować?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Początek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usunięty",link_start:" (początek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzień",months:"Miesiące",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppføringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Mon","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){return function(c){var u=this;for(var h in this.addLocale=function(a,l){u._locales[a]=l},this.getLocale=function(a){return u._locales[a]},this._locales={},c)this._locales[h]=c[h]}}();g.default=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],month_short:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],day_full:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],day_short:["일","월","화","수","목","금","토"]},labels:{new_task:"이름없는 작업",icon_save:"저장",icon_cancel:"취소",icon_details:"세부 사항",icon_edit:"수정",icon_delete:"삭제",confirm_closing:"",confirm_deleting:"작업을 삭제하시겠습니까?",section_description:"설명",section_time:"기간",section_type:"Type",column_wbs:"WBS",column_text:"작업명",column_start_date:"시작일",column_duration:"기간",column_add:"",link:"전제",confirm_link_deleting:"삭제 하시겠습니까?",link_start:" (start)",link_end:" (end)",type_task:"작업",type_project:"프로젝트",type_milestone:"마일스톤",minutes:"분",hours:"시간",days:"일",weeks:"주",months:"달",years:"년",message_ok:"OK",message_cancel:"취소",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],day_short:["日","月","火","水","木","金","土"]},labels:{new_task:"新しい仕事",icon_save:"保存",icon_cancel:"キャンセル",icon_details:"詳細",icon_edit:"編集",icon_delete:"削除",confirm_closing:"",confirm_deleting:"イベント完全に削除されます、宜しいですか？",section_description:"デスクリプション",section_time:"期間",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"キャンセル",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attività",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sarà eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],month_short:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasárnap","Hétfõ","Kedd","Szerda","Csütörtök","Péntek","szombat"],day_short:["Va","Hé","Ke","Sze","Csü","Pé","Szo"]},labels:{new_task:"Új feladat",icon_save:"Mentés",icon_cancel:"Mégse",icon_details:"Részletek",icon_edit:"Szerkesztés",icon_delete:"Törlés",confirm_closing:"",confirm_deleting:"Az esemény törölve lesz, biztosan folytatja?",section_description:"Leírás",section_time:"Idõszak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Mégse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obriši",confirm_closing:"",confirm_deleting:"Zadatak će biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Početno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"će biti izbrisan",link_start:" (početak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],month_short:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],day_full:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],day_short:["א","ב","ג","ד","ה","ו","ש"]},labels:{new_task:"משימה חדש",icon_save:"שמור",icon_cancel:"בטל",icon_details:"פרטים",icon_edit:"ערוך",icon_delete:"מחק",confirm_closing:"",confirm_deleting:"ארוע ימחק סופית.להמשיך?",section_description:"הסבר",section_time:"תקופה",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"בטל",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],month_short:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sep","Oct","Nov","Déc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle tâche",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Détails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'événement sera effacé sans appel, êtes-vous sûr ?",section_description:"Description",section_time:"Période",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la tâche",column_start_date:"Date initiale",column_duration:"Durée",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprimé",link_start:"(début)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Années",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi tehtävä",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],day_short:["ی","د","س","چ","پ","ج","ش"]},labels:{new_task:"وظیفه جدید",icon_save:"ذخیره",icon_cancel:"لغو",icon_details:"جزییات",icon_edit:"ویرایش",icon_delete:"حذف",confirm_closing:"تغییرات شما ازدست خواهد رفت، آیا مطمئن هستید؟",confirm_deleting:"این مورد برای همیشه حذف خواهد شد، آیا مطمئن هستید؟",section_description:"توضیحات",section_time:"مدت زمان",section_type:"نوع",column_wbs:"WBS",column_text:"عنوان",column_start_date:"زمان شروع",column_duration:"مدت",column_add:"",link:"ارتباط",confirm_link_deleting:"حذف خواهد شد",link_start:" (آغاز)",link_end:" (پایان)",type_task:"وظیفه",type_project:"پروژه",type_milestone:"نگارش",minutes:"دقایق",hours:"ساعات",days:"روزها",weeks:"هفته",months:"ماه‌ها",years:"سال‌ها",message_ok:"تایید",message_cancel:"لغو",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],day_short:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrará definitivamente, ¿continuar?",section_description:"Descripción",section_time:"Período",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duración",column_add:"",link:"Enlace",confirm_link_deleting:"será borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"Días",weeks:"Semanas",months:"Meses",years:"Años",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάϊος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],month_short:["ΙΑΝ","ΦΕΒ","ΜΑΡ","ΑΠΡ","ΜΑΙ","ΙΟΥΝ","ΙΟΥΛ","ΑΥΓ","ΣΕΠ","ΟΚΤ","ΝΟΕ","ΔΕΚ"],day_full:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Κυριακή"],day_short:["ΚΥ","ΔΕ","ΤΡ","ΤΕ","ΠΕ","ΠΑ","ΣΑ"]},labels:{new_task:"Νέα εργασία",icon_save:"Αποθήκευση",icon_cancel:"Άκυρο",icon_details:"Λεπτομέρειες",icon_edit:"Επεξεργασία",icon_delete:"Διαγραφή",confirm_closing:"",confirm_deleting:"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;",section_description:"Περιγραφή",section_time:"Χρονική περίοδος",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Άκυρο",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:[" Januar"," Februar"," März "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"Ändern",icon_delete:"Löschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelöscht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gelöscht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie möglich",alap:"So spät wie möglich",snet:"Beginn nicht vor",snlt:"Beginn nicht später als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht später als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil gå tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],month_short:["Led","Ún","Bře","Dub","Kvě","Čer","Čec","Srp","Září","Říj","List","Pro"],day_full:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],day_short:["Ne","Po","Út","St","Čt","Pá","So"]},labels:{new_task:"Nová práce",icon_save:"Uložit",icon_cancel:"Zpět",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Událost bude trvale smazána, opravdu?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zpět",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],day_short:["日","一","二","三","四","五","六"]},labels:{new_task:"新任務",icon_save:"保存",icon_cancel:"关闭",icon_details:"详细",icon_edit:"编辑",icon_delete:"删除",confirm_closing:"请确认是否撤销修改!",confirm_deleting:"是否删除日程?",section_description:"描述",section_time:"时间范围",section_type:"类型",column_wbs:"工作分解结构",column_text:"任务名",column_start_date:"开始时间",column_duration:"持续时间",column_add:"",link:"关联",confirm_link_deleting:"将被删除",link_start:" (开始)",link_end:" (结束)",type_task:"任务",type_project:"项目",type_milestone:"里程碑",minutes:"分钟",hours:"小时",days:"天",weeks:"周",months:"月",years:"年",message_ok:"OK",message_cancel:"关闭",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel·lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrarà definitivament, continuar ?",section_description:"Descripció",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel·lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["Студзень","Люты","Сакавік","Красавік","Maй","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"],month_short:["Студз","Лют","Сак","Крас","Maй","Чэр","Ліп","Жнів","Вер","Каст","Ліст","Снеж"],day_full:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"],day_short:["Нд","Пн","Аўт","Ср","Чцв","Пт","Сб"]},labels:{new_task:"Новае заданне",icon_save:"Захаваць",icon_cancel:"Адмяніць",icon_details:"Дэталі",icon_edit:"Змяніць",icon_delete:"Выдаліць",confirm_closing:"",confirm_deleting:"Падзея будзе выдалена незваротна, працягнуць?",section_description:"Апісанне",section_time:"Перыяд часу",section_type:"Тып",column_wbs:"ІСР",column_text:"Задача",column_start_date:"Пачатак",column_duration:"Працяг",column_add:"",link:"Сувязь",confirm_link_deleting:"будзе выдалена",link_start:"(пачатак)",link_end:"(канец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Хвiлiна",hours:"Гадзiна",days:"Дзень",weeks:"Тыдзень",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Адмяніць",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default={date:{month_full:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],month_short:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],day_full:["الأحد","الأثنين","ألثلاثاء","الأربعاء","ألحميس","ألجمعة","السبت"],day_short:["احد","اثنين","ثلاثاء","اربعاء","خميس","جمعة","سبت"]},labels:{new_task:"مهمة جديد",icon_save:"اخزن",icon_cancel:"الغاء",icon_details:"تفاصيل",icon_edit:"تحرير",icon_delete:"حذف",confirm_closing:"التغييرات سوف تضيع, هل انت متأكد؟",confirm_deleting:"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟",section_description:"الوصف",section_time:"الفترة الزمنية",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"الغاء",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(180),c=i(179),u=i(178),h=i(177),a=i(176),l=i(175),r=i(174),n=i(173),o=i(172),d=i(171),f=i(170),_=i(169),m=i(168),v=i(167),y=i(166),k=i(165),x=i(164),w=i(163),b=i(162),S=i(161),T=i(160),N=i(159),$=i(158),E=i(157),D=i(156),P=i(155),I=i(154),O=i(153),B=i(152),R=i(151),H=i(150),q=i(149),G=i(148);g.default=function(){return new T.default({en:o.default,ar:p.default,be:c.default,ca:u.default,cn:h.default,cs:a.default,da:l.default,de:r.default,el:n.default,es:d.default,fa:f.default,fi:_.default,fr:m.default,he:v.default,hr:y.default,hu:k.default,id:x.default,it:w.default,jp:b.default,kr:S.default,nb:N.default,nl:$.default,no:E.default,pl:D.default,pt:P.default,ro:I.default,ru:O.default,si:B.default,sk:R.default,sv:H.default,tr:q.default,ua:G.default})}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(){}},function(s,g){s.exports=function(i){i.destructor=function(){for(var p in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)p.indexOf("$")===0&&delete this[p];this.$destroyed=!0}}},function(s,g){s.exports=function(i){return function(p,c){p||i.config.show_errors&&i.callEvent("onError",[c])!==!1&&(i.message?i.message({type:"error",text:c,expire:-1}):console.log(c))}}},function(s,g){function i(c,u){var h,a=c.config.container_resize_timeout||20,l=p(c);if(c.config.container_resize_method=="timeout")d();else try{c.event(u,"resize",function(){if(c.$scrollbarRepaint)c.$scrollbarRepaint=null;else{var f=p(c);if(l.x==f.x&&l.y==f.y)return;l=f,r()}})}catch{d()}function r(){clearTimeout(h),h=setTimeout(function(){c.$destroyed||c.render()},a)}var n=c.$root.offsetHeight,o=c.$root.offsetWidth;function d(){c.$root.offsetHeight==n&&c.$root.offsetWidth==o||r(),n=c.$root.offsetHeight,o=c.$root.offsetWidth,setTimeout(d,a)}}function p(c){return{x:c.$root.offsetWidth,y:c.$root.offsetHeight}}s.exports=function(c){window.getComputedStyle(c.$root).getPropertyValue("position")=="static"&&(c.$root.style.position="relative");var u=document.createElement("iframe");u.className="gantt_container_resize_watcher",u.tabIndex=-1,c.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),(window.Sfdc||window.$A||window.Aura)&&(c.config.container_resize_method="timeout"),c.$root.appendChild(u),u.contentWindow?i(c,u.contentWindow):(c.$root.removeChild(u),i(c,window))}},function(s,g,i){function p(l){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(l)}var c=i(1),u=i(2),h=i(15),a=i(185);s.exports=function(l){var r=i(46);l.assert=i(184)(l);var n="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function o(_){if(!_||typeof _=="string"&&document.getElementById(_)||function(m){try{m.cloneNode(!1)}catch{return!1}return!0}(_))return!0;throw l.assert(!1,n),new Error(n)}l.init=function(_,m,v){l.env.isNode?_=null:o(_),m&&v&&(this.config.start_date=this._min_date=new Date(m),this.config.end_date=this._max_date=new Date(v)),this.date.init(),this.init=function(y){l.env.isNode?y=null:o(y),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(y)},this._reinit(_)},l._quickRefresh=function(_){for(var m=this._getDatastores.call(this),v=0;v<m.length;v++)m[v]._quick_refresh=!0;for(_(),v=0;v<m.length;v++)m[v]._quick_refresh=!1};var d=(function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}).bind(l),f=(function(){h(l)||(this.$root.innerHTML="",this.$root.gantt=this,r(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var _=l.$services.getService("datastores"),m=0;m<_.length;m++)l.getDatastore(_[m]).filter(),l.$data.tasksStore._skipTaskRecalculation?l.$data.tasksStore._skipTaskRecalculation!="lightbox"&&(l.$data.tasksStore._skipTaskRecalculation=!1):l.getDatastore(_[m]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){l._quickRefresh(function(){l.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,a(this))}).bind(l);l.resetLayout=function(){d(),f(),this.render()},l._reinit=function(_){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),d(),this.$root=null,_&&(this.$root=c.toNode(_),f(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},l.$click={buttons:{edit:function(_){l.isReadonly(l.getTask(_))||l.showLightbox(_)},delete:function(_){var m=l.getTask(_);if(!l.isReadonly(m)){var v=l.locale.labels.confirm_deleting,y=l.locale.labels.confirm_deleting_title;l._simple_confirm(v,y,function(){l.isTaskExists(_)&&(m.$new?(l.$data.tasksStore._skipTaskRecalculation="lightbox",l.silent(function(){l.deleteTask(_,!0)}),l.$data.tasksStore._skipTaskRecalculation=!1,l.refreshData()):(l.$data.tasksStore._skipTaskRecalculation=!0,l.deleteTask(_))),l.hideLightbox()})}}}},l.render=function(){var _;if(this.callEvent("onBeforeGanttRender",[]),!h(l)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var m=this.getScrollState(),v=m?m.x:0;this._getHorizontalScrollbar()&&(v=this._getHorizontalScrollbar().$config.codeScrollLeft||v||0),_=null,v&&(_=l.dateFromPos(v+this.config.task_scroll_offset))}if(r(this),h(l))l.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var y=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=y,this.config.preserve_scroll&&m){if(v||m.y){var k=l.getScrollState();if(+_!=+l.dateFromPos(k.x)||k.y!=m.y){v=null;var x=null;_&&(v=Math.max(l.posFromDate(_)-l.config.task_scroll_offset,0)),m.y&&(x=m.y),l.scrollTo(v,x)}}var w=l.$ui.getView("grid");if(w){var b=w.$config.scrollY,S=l.$ui.getView(b);S&&(l.utils.dom.isChildOf(S.$view,l.$container)||w.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},l.setSizes=l.render,l.getTaskRowNode=function(_){for(var m=this.$grid_data.childNodes,v=this.config.task_attribute,y=0;y<m.length;y++)if(m[y].getAttribute&&m[y].getAttribute(v)==_)return m[y];return null},l.changeLightboxType=function(_){if(this.getLightboxType()==_)return!0;l._silent_redraw_lightbox(_)},l._get_link_type=function(_,m){var v=null;return _&&m?v=l.config.links.start_to_start:!_&&m?v=l.config.links.finish_to_start:_||m?_&&!m&&(v=l.config.links.start_to_finish):v=l.config.links.finish_to_finish,v},l.isLinkAllowed=function(_,m,v,y){var k=null;if(!(k=p(_)=="object"?_:{source:_,target:m,type:this._get_link_type(v,y)})||!(k.source&&k.target&&k.type)||k.source==k.target)return!1;var x=!0;return this.checkEvent("onLinkValidation")&&(x=this.callEvent("onLinkValidation",[k])),x},l._correct_dst_change=function(_,m,v,y){var k=u.getSecondsInUnit(y)*v;if(k>3600&&k<86400){var x=_.getTimezoneOffset()-m;x&&(_=l.date.add(_,x,"minute"))}return _},l.isSplitTask=function(_){return l.assert(_&&_ instanceof Object,"Invalid argument <b>task</b>="+_+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(_)},l._is_icon_open_click=function(_){if(!_)return!1;var m=_.target||_.srcElement;if(!m||!m.className)return!1;var v=c.getClassName(m);return v.indexOf("gantt_tree_icon")!==-1&&(v.indexOf("gantt_close")!==-1||v.indexOf("gantt_open")!==-1)}}},function(s,g){s.exports=function(i){function p(){return i._cached_functions.update_if_changed(i),i._cached_functions.active||i._cached_functions.activate(),!0}i._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(u,h){if(h._prefetch_originals)for(var a in h._prefetch_originals)h[a]=h._prefetch_originals[a];for(h._prefetch_originals={},a=0;a<u.length;a++)this.prefetch(u[a],h)},prefetch:function(u,h){var a=h[u];if(a){var l=this;h._prefetch_originals[u]=a,h[u]=function(){for(var r=new Array(arguments.length),n=0,o=arguments.length;n<o;n++)r[n]=arguments[n];if(l.active){var d=l.get_arguments_hash(Array.prototype.slice.call(r));l.cache[u]||(l.cache[u]={});var f=l.cache[u];if(l.has_cached_value(f,d))return l.get_cached_value(f,d);var _=a.apply(this,r);return l.cache_value(f,d,_),_}return a.apply(this,r)}}return a},cache_value:function(u,h,a){this.is_date(a)&&(a=new Date(a)),u[h]=a},has_cached_value:function(u,h){return u.hasOwnProperty(h)},get_cached_value:function(u,h){var a=u[h];return this.is_date(a)&&(a=new Date(a)),a},is_date:function(u){return u&&u.getUTCDate},get_arguments_hash:function(u){for(var h=[],a=0;a<u.length;a++)h.push(this.stringify_argument(u[a]));return"("+h.join(";")+")"},stringify_argument:function(u){return(u.id?u.id:this.is_date(u)?u.valueOf():u)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(u){var h=[],a=["_isProjectEnd","_getProjectEnd","_getSlack"];this.mode=="auto"?u.config.highlight_critical_path&&(h=a):this.mode===!0&&(h=a),this.wrap_methods(h,u)},update_if_changed:function(u){(this.critical_path_mode!=u.config.highlight_critical_path||this.mode!==u.config.optimize_render)&&(this.critical_path_mode=u.config.highlight_critical_path,this.mode=u.config.optimize_render,this.setup(u))}},i.attachEvent("onBeforeGanttRender",p),i.attachEvent("onBeforeDataRender",p),i.attachEvent("onBeforeSmartRender",function(){p()}),i.attachEvent("onBeforeParse",p),i.attachEvent("onDataRender",function(){i._cached_functions.deactivate()});var c=null;i.attachEvent("onSmartRender",function(){c&&clearTimeout(c),c=setTimeout(function(){i._cached_functions.deactivate()},1e3)}),i.attachEvent("onBeforeGanttReady",function(){return i._cached_functions.update_if_changed(i),!0})}},function(s,g){function i(p){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(p)}s.exports=function(p){p.getTaskType=function(c){var u=c;for(var h in c&&i(c)=="object"&&(u=c.type),this.config.types)if(this.config.types[h]==u)return u;return p.config.types.task}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(){}},function(s,g,i){var p=i(2);s.exports=function(c){c.isUnscheduledTask=function(r){return c.assert(r&&r instanceof Object,"Invalid argument <b>task</b>="+r+" of gantt.isUnscheduledTask. Task object was expected"),!!r.unscheduled||!r.start_date},c._isAllowedUnscheduledTask=function(r){return!(!r.unscheduled||!c.config.show_unscheduled)},c._isTaskInTimelineLimits=function(r){var n=r.start_date?r.start_date.valueOf():null,o=r.end_date?r.end_date.valueOf():null;return!!(n&&o&&n<=this._max_date.valueOf()&&o>=this._min_date.valueOf())},c.isTaskVisible=function(r){if(!this.isTaskExists(r))return!1;var n=this.getTask(r);return!(!this._isAllowedUnscheduledTask(n)&&!this._isTaskInTimelineLimits(n))&&this.getGlobalTaskIndex(r)>=0},c._getProjectEnd=function(){if(c.config.project_end)return c.config.project_end;var r=c.getTaskByTime();return(r=r.sort(function(n,o){return+n.end_date>+o.end_date?1:-1})).length?r[r.length-1].end_date:null},c._getProjectStart=function(){if(c.config.project_start)return c.config.project_start;if(c.config.start_date)return c.config.start_date;if(c.getState().min_date)return c.getState().min_date;var r=c.getTaskByTime();return(r=r.sort(function(n,o){return+n.start_date>+o.start_date?1:-1})).length?r[0].start_date:null};var u=function r(n,o){var d=!!(o&&o!=c.config.root_id&&c.isTaskExists(o))&&c.getTask(o),f=null;if(d)if(c.config.schedule_from_end)f=c.calculateEndDate({start_date:d.end_date,duration:-c.config.duration_step,task:n});else{if(!d.start_date)return r(d,c.getParent(d));f=d.start_date}else if(c.config.schedule_from_end)f=c.calculateEndDate({start_date:c._getProjectEnd(),duration:-c.config.duration_step,task:n});else{var _=c.getTaskByIndex(0),m=c.config.start_date||c.getState().min_date;f=_?_.start_date?_.start_date:_.end_date?c.calculateEndDate({start_date:_.end_date,duration:-c.config.duration_step,task:n}):m:m}return c.assert(f,"Invalid dates"),new Date(f)};c._set_default_task_timing=function(r){r.start_date=r.start_date||u(r,c.getParent(r)),r.duration=r.duration||c.config.duration_step,r.end_date=r.end_date||c.calculateEndDate(r)},c.createTask=function(r,n,o){return r=r||{},c.defined(r.id)||(r.id=c.uid()),r.start_date||(r.start_date=u(r,n)),r.text===void 0&&(r.text=c.locale.labels.new_task),r.duration===void 0&&(r.duration=1),this.isTaskExists(n)&&(this.setParent(r,n,!0),this.getTask(n).$open=!0),this.callEvent("onTaskCreated",[r])?(this.config.details_on_create?(c.isTaskExists(r.id)?c.getTask(r.id).$index!=r.$index&&(r.start_date&&typeof r.start_date=="string"&&(r.start_date=this.date.parseDate(r.start_date,"parse_date")),r.end_date&&typeof r.end_date=="string"&&(r.end_date=this.date.parseDate(r.end_date,"parse_date")),this.$data.tasksStore.updateItem(r.id,r)):(r.$new=!0,this.silent(function(){c.$data.tasksStore.addItem(r,o)})),this.selectTask(r.id),this.refreshData(),this.showLightbox(r.id)):this.addTask(r,n,o)&&(this.showTask(r.id),this.selectTask(r.id)),r.id):null},c._update_flags=function(r,n){var o=c.$data.tasksStore;r===void 0?(this._lightbox_id=null,o.silent(function(){o.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==r&&(this._lightbox_id=n),o.getSelectedId()==r&&o.silent(function(){o.unselect(r),o.select(n)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==r&&(this._tasks_dnd.drag.id=n))};var h=function(r,n){var o=c.getTaskType(r.type),d={type:o,$no_start:!1,$no_end:!1};return n||o!=r.$rendered_type?(o==c.config.types.project?d.$no_end=d.$no_start=!0:o!=c.config.types.milestone&&(d.$no_end=!(r.end_date||r.duration),d.$no_start=!r.start_date,c._isAllowedUnscheduledTask(r)&&(d.$no_end=d.$no_start=!1)),d):(d.$no_start=r.$no_start,d.$no_end=r.$no_end,d)};function a(r){r.$effective_calendar=c.getTaskCalendar(r).id,r.start_date=c.getClosestWorkTime({dir:"future",date:r.start_date,unit:c.config.duration_unit,task:r}),r.end_date=c.calculateEndDate(r)}function l(r){var n=null,o=null,d=r!==void 0?r:c.config.root_id,f=[];return c.eachTask(function(_){c.getTaskType(_.type)==c.config.types.project||c.isUnscheduledTask(_)||(_.rollup&&f.push(_.id),_.start_date&&!_.$no_start&&(!n||n>_.start_date.valueOf())&&(n=_.start_date.valueOf()),_.end_date&&!_.$no_end&&(!o||o<_.end_date.valueOf())&&(o=_.end_date.valueOf()))},d),{start_date:n?new Date(n):null,end_date:o?new Date(o):null,rollup:f}}c._init_task_timing=function(r){var n=h(r,!0),o=r.$rendered_type!=n.type,d=n.type;o&&(r.$no_start=n.$no_start,r.$no_end=n.$no_end,r.$rendered_type=n.type),o&&d!=this.config.types.milestone&&d==this.config.types.project&&(this._set_default_task_timing(r),r.$calculate_duration=!1),d==this.config.types.milestone&&(r.end_date=r.start_date),r.start_date&&r.end_date&&r.$calculate_duration!==!1&&(r.duration=this.calculateDuration(r)),r.$calculate_duration||(r.$calculate_duration=!0),r.end_date||(r.end_date=r.start_date),r.duration=r.duration||0,this.config.min_duration===0&&r.duration===0&&(r.$no_end=!1);var f=this.getTaskCalendar(r);r.$effective_calendar&&r.$effective_calendar!==f.id&&(a(r),this.config.inherit_calendar&&this.isSummaryTask(r)&&this.eachTask(function(_){a(_)},r.id)),r.$effective_calendar=f.id},c.isSummaryTask=function(r){c.assert(r&&r instanceof Object,"Invalid argument <b>task</b>="+r+" of gantt.isSummaryTask. Task object was expected");var n=h(r);return!(!n.$no_end&&!n.$no_start)},c.resetProjectDates=function(r){var n=h(r);if(n.$no_end||n.$no_start){var o=l(r.id);(function(d,f,_,m){f.$no_start&&(d.start_date=_?new Date(_):u(d,this.getParent(d))),f.$no_end&&(d.end_date=m?new Date(m):this.calculateEndDate({start_date:d.start_date,duration:this.config.duration_step,task:d})),(f.$no_start||f.$no_end)&&this._init_task_timing(d)}).call(this,r,n,o.start_date,o.end_date),r.$rollup=o.rollup}},c.getSubtaskDuration=function(r){var n=0,o=r!==void 0?r:c.config.root_id;return this.eachTask(function(d){this.getTaskType(d.type)==c.config.types.project||this.isUnscheduledTask(d)||(n+=d.duration)},o),n},c.getSubtaskDates=function(r){var n=l(r);return{start_date:n.start_date,end_date:n.end_date}},c._update_parents=function(r,n,o){if(r){var d=this.getTask(r);d.rollup&&(o=!0);var f=this.getParent(d),_=h(d),m=!0;if(o||d.start_date&&d.end_date&&(_.$no_start||_.$no_end)){var v=d.start_date.valueOf(),y=d.end_date.valueOf();c.resetProjectDates(d),o||v!=d.start_date.valueOf()||y!=d.end_date.valueOf()||(m=!1),m&&!n&&this.refreshTask(d.id,!0)}m&&f&&this.isTaskExists(f)&&this._update_parents(f,n,o)}},c.roundDate=function(r){var n=c.getScale();p.isDate(r)&&(r={date:r,unit:n?n.unit:c.config.duration_unit,step:n?n.step:c.config.duration_step});var o,d,f,_=r.date,m=r.step,v=r.unit;if(!n)return _;if(v==n.unit&&m==n.step&&+_>=+n.min_date&&+_<=+n.max_date)f=Math.floor(c.columnIndexByDate(_)),n.trace_x[f]||(f-=1,n.rtl&&(f=0)),d=new Date(n.trace_x[f]),o=c.date.add(d,m,v);else{for(f=Math.floor(c.columnIndexByDate(_)),o=c.date[v+"_start"](new Date(n.min_date)),n.trace_x[f]&&(o=c.date[v+"_start"](n.trace_x[f]));+o<+_;){var y=(o=c.date[v+"_start"](c.date.add(o,m,v))).getTimezoneOffset();o=c._correct_dst_change(o,y,o,v),c.date[v+"_start"]&&(o=c.date[v+"_start"](o))}d=c.date.add(o,-1*m,v)}return r.dir&&r.dir=="future"?o:r.dir&&r.dir=="past"||Math.abs(_-d)<Math.abs(o-_)?d:o},c.correctTaskWorkTime=function(r){c.config.work_time&&c.config.correct_work_time&&(this.isWorkTime(r.start_date,void 0,r)?this.isWorkTime(new Date(+r.end_date-1),void 0,r)||(r.end_date=this.calculateEndDate(r)):(r.start_date=this.getClosestWorkTime({date:r.start_date,dir:"future",task:r}),r.end_date=this.calculateEndDate(r)))},c.attachEvent("onBeforeTaskUpdate",function(r,n){return c._init_task_timing(n),!0}),c.attachEvent("onBeforeTaskAdd",function(r,n){return c._init_task_timing(n),!0}),c.attachEvent("onAfterTaskMove",function(r,n,o){return c._init_task_timing(c.getTask(r)),!0})}},function(s,g,i){var p=i(0);s.exports={create:function(c,u){return{getWorkHours:function(h){return u.getWorkHours(h)},setWorkTime:function(h){return u.setWorkTime(h)},unsetWorkTime:function(h){u.unsetWorkTime(h)},isWorkTime:function(h,a,l){return u.isWorkTime(h,a,l)},getClosestWorkTime:function(h){return u.getClosestWorkTime(h)},calculateDuration:function(h,a,l){return u.calculateDuration(h,a,l)},_hasDuration:function(h,a,l){return u.hasDuration(h,a,l)},calculateEndDate:function(h,a,l,r){return u.calculateEndDate(h,a,l,r)},mergeCalendars:p.bind(c.mergeCalendars,c),createCalendar:p.bind(c.createCalendar,c),addCalendar:p.bind(c.addCalendar,c),getCalendar:p.bind(c.getCalendar,c),getCalendars:p.bind(c.getCalendars,c),getResourceCalendar:p.bind(c.getResourceCalendar,c),getTaskCalendar:p.bind(c.getTaskCalendar,c),deleteCalendar:p.bind(c.deleteCalendar,c)}}}},function(s,g){function i(p,c){this.argumentsHelper=c,this.$gantt=p}i.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(p){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var p=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),c=p.start_date,u=p.end_date,h=p.unit,a=p.step;return this._calculateDuration(c,u,h,a)},_calculateDuration:function(p,c,u,h){var a=this.$gantt.date,l={week:6048e5,day:864e5,hour:36e5,minute:6e4},r=0;if(l[u])r=Math.round((c-p)/(h*l[u]));else{for(var n=new Date(p),o=new Date(c);n.valueOf()<o.valueOf();)r+=1,n=a.add(n,h,u);n.valueOf()!=c.valueOf()&&(r+=(o-n)/(a.add(n,h,u)-n))}return Math.round(r)},hasDuration:function(){var p=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),c=p.start_date,u=p.end_date;return!!p.unit&&(c=new Date(c),u=new Date(u),c.valueOf()<u.valueOf())},hasWorkTime:function(){return!0},equals:function(p){return p instanceof i},calculateEndDate:function(){var p=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),c=p.start_date,u=p.duration,h=p.unit,a=p.step;return this.$gantt.date.add(c,a*u,h)}},s.exports=i},function(s,g,i){var p=i(42),c=i(192);function u(h){this.$gantt=h.$gantt,this.argumentsHelper=p(this.$gantt),this.calendarManager=h,this.$disabledCalendar=new c(this.$gantt,this.argumentsHelper)}u.prototype={_getCalendar:function(h){var a;if(this.$gantt.config.work_time){var l=this.calendarManager;h.task?a=l.getTaskCalendar(h.task):h.id?a=l.getTaskCalendar(h):h.calendar&&(a=h.calendar),a||(a=l.getTaskCalendar())}else a=this.$disabledCalendar;return a},getWorkHours:function(h){return h=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(h).getWorkHours(h.date)},setWorkTime:function(h,a){return h=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),a||(a=this.calendarManager.getCalendar()),a.setWorkTime(h)},unsetWorkTime:function(h,a){return h=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),a||(a=this.calendarManager.getCalendar()),a.unsetWorkTime(h)},isWorkTime:function(h,a,l,r){var n=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(n).isWorkTime(n)},getClosestWorkTime:function(h){return h=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(h).getClosestWorkTime(h)},calculateDuration:function(){var h=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(h).calculateDuration(h)},hasDuration:function(){var h=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(h).hasDuration(h)},calculateEndDate:function(h){return h=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(h).calculateEndDate(h)}},s.exports=u},function(s,g){s.exports=function(){var i={};return{getCalendarIdFromMultipleResources:function(p,c){var u=function(a){return a.map(function(l){return l&&l.resource_id?l.resource_id:l}).sort().join("-")}(p);if(p.length){if(p.length===1)return c.getResourceCalendar(u).id;if(i[u])return i[u].id;var h=function(a,l){return l.mergeCalendars(a.map(function(r){var n=r&&r.resource_id?r.resource_id:r;return l.getResourceCalendar(n)}))}(p,c);return i[u]=h,c.addCalendar(h)}return null}}}},function(s,g){function i(p){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(p)}s.exports={isLegacyResourceCalendarFormat:function(p){if(!p)return!1;for(var c in p)if(p[c]&&i(p[c])==="object")return!0;return!1},getResourceProperty:function(p){var c=p.resource_calendars,u=p.resource_property;if(this.isLegacyResourceCalendarFormat(c))for(var h in p){u=h;break}return u},getCalendarIdFromLegacyConfig:function(p,c){if(c)for(var u in c){var h=c[u];if(p[u]){var a=h[p[u]];if(a)return a}}return null}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(){this.clear()}return c.prototype._getCacheObject=function(u,h,a){var l=this._cache;l[h]||(l[h]=[]);var r=l[h];r||(r=l[h]={});var n=r[a];n||(n=r[a]={});var o=u.getFullYear(),d=n[o];return d||(d=n[o]={durations:{},endDates:{}}),d},c.prototype._endDateCacheKey=function(u,h){return String(u)+"-"+String(h)},c.prototype._durationCacheKey=function(u,h){return String(u)+"-"+String(h)},c.prototype.getEndDate=function(u,h,a,l,r){var n,o=this._getCacheObject(u,a,l),d=u.valueOf(),f=this._endDateCacheKey(d,h);if(o.endDates[f]===void 0){var _=r(),m=_.valueOf();o.endDates[f]=m,o.durations[this._durationCacheKey(d,m)]=h,n=_}else n=new Date(o.endDates[f]);return n},c.prototype.getDuration=function(u,h,a,l,r){var n,o=this._getCacheObject(u,a,l),d=u.valueOf(),f=h.valueOf(),_=this._durationCacheKey(d,f);if(o.durations[_]===void 0){var m=r();o.durations[_]=m.valueOf(),n=m}else n=o.durations[_];return n},c.prototype.clear=function(){this._cache={}},c}();g.DateDurationCache=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){return function(c){var u=this;this.getMinutesPerWeek=function(h){var a=h.valueOf();if(u._weekCache.has(a))return u._weekCache.get(a);for(var l=u._calendar,r=u._calendar.$gantt,n=0,o=r.date.week_start(new Date(h)),d=0;d<7;d++)n+=60*l.getHoursPerDay(o),o=r.date.add(o,1,"day");return u._weekCache.set(a,n),n},this.getMinutesPerMonth=function(h){var a=h.valueOf();if(u._monthCache.has(a))return u._monthCache.get(a);for(var l=u._calendar,r=u._calendar.$gantt,n=0,o=r.date.week_start(new Date(h)),d=r.date.add(o,1,"month").valueOf();o.valueOf()<d;)n+=60*l.getHoursPerDay(o),o=r.date.add(o,1,"day");return u._monthCache.set(a,n),n},this.clear=function(){u._weekCache=new Map,u._monthCache=new Map},this.clear(),this._calendar=c}}();g.LargerUnitsCache=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(){this.clear()}return c.prototype.getItem=function(u,h,a){var l=this._cache;if(l&&l[u]){var r=l[u];if(r===void 0)return-1;var n=r[a.getFullYear()];if(n&&n[h]!==void 0)return n[h]}return-1},c.prototype.setItem=function(u,h,a,l){if(u&&h){var r=this._cache;if(r){r[u]||(r[u]=[]);var n=r[u],o=l.getFullYear(),d=n[o];d||(d=n[o]={}),d[h]=a}}},c.prototype.clear=function(){this._cache={}},c}();g.WorkUnitsObjectCache=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(){this.clear()}return c.prototype.getItem=function(u,h,a){if(this._cache.has(u)){var l=this._cache.get(u)[a.getFullYear()];if(l&&l.has(h))return l.get(h)}return-1},c.prototype.setItem=function(u,h,a,l){if(u&&h){var r,n=this._cache,o=l.getFullYear();n.has(u)?r=n.get(u):(r=[],n.set(u,r));var d=r[o];d||(d=r[o]=new Map),d.set(h,a)}},c.prototype.clear=function(){this._cache=new Map},c}();g.WorkUnitsMapCache=p},function(s,g,i){function p(r){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}var c=i(41).createCacheObject,u=i(41).LargerUnitsCache,h=i(0),a=i(196).DateDurationCache;function l(r,n){this.argumentsHelper=n,this.$gantt=r,this._workingUnitsCache=c(),this._largeUnitsCache=new u(this),this._dateDurationCache=new a,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}l.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(r){for(var n=0,o=this.units.length;n<o;n++)if(this.units[n]==r)return n},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(r){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var n=null;if(r.day||r.day===0)n=r.day;else if(r.date){var o=String(r.date.valueOf());this._cached_timestamps[o]?n=this._cached_timestamps[o]:(n=Date.UTC(r.date.getFullYear(),r.date.getMonth(),r.date.getDate()),this._cached_timestamps[o]=n,this._cached_timestamps_count++)}return n},_checkIfWorkingUnit:function(r,n){if(!this["_is_work_"+n]){var o=this.$gantt.date["".concat(n,"_start")](new Date(r)),d=this.$gantt.date.add(o,1,n);return this.hasDuration(o,d)}return this["_is_work_"+n](r)},_is_work_day:function(r){var n=this._getWorkHours(r);return!!Array.isArray(n)&&n.length>0},_is_work_hour:function(r){for(var n=this._getWorkHours(r),o=r.getHours(),d=0;d<n.length;d++)if(o>=n[d].startHour&&o<n[d].endHour)return!0;return!1},_getTimeOfDayStamp:function(r,n){var o=r.getHours();return r.getHours()||r.getMinutes()||!n||(o=24),60*o*60+60*r.getMinutes()},_is_work_minute:function(r){for(var n=this._getWorkHours(r),o=this._getTimeOfDayStamp(r),d=0;d<n.length;d++)if(o>=n[d].start&&o<n[d].end)return!0;return!1},_nextDate:function(r,n,o){return this.$gantt.date.add(r,o,n)},_getWorkUnitsBetweenGeneric:function(r,n,o,d){var f=this.$gantt.date,_=new Date(r),m=new Date(n);d=d||1;var v,y,k=0,x=null,w=!1;(v=f[o+"_start"](new Date(_))).valueOf()!=_.valueOf()&&(w=!0);var b=!1;(y=f[o+"_start"](new Date(n))).valueOf()!=n.valueOf()&&(b=!0);for(var S=!1;_.valueOf()<m.valueOf();){if(S=(x=this._nextDate(_,o,d)).valueOf()>m.valueOf(),this._isWorkTime(_,o))(w||b&&S)&&(v=f[o+"_start"](new Date(_)),y=f.add(v,d,o)),w?(w=!1,x=this._nextDate(v,o,d),k+=(y.valueOf()-_.valueOf())/(y.valueOf()-v.valueOf())):b&&S?(b=!1,k+=(m.valueOf()-_.valueOf())/(y.valueOf()-v.valueOf())):k++;else{var T=this._getUnitOrder(o),N=this.units[T-1];N&&!this._isWorkTime(_,N)&&(x=this._getClosestWorkTimeFuture(_,N))}_=x}return k},_getMinutesPerHour:function(r){var n=this._getTimeOfDayStamp(r),o=this._getTimeOfDayStamp(this._nextDate(r,"hour",1));o===0&&(o=86400);for(var d=this._getWorkHours(r),f=0;f<d.length;f++){var _=d[f];if(n>=_.start&&o<=_.end)return 60;if(n<_.end&&o>_.start)return(Math.min(o,_.end)-Math.max(n,_.start))/60}return 0},_getMinutesPerDay:function(r){var n=0;return this._getWorkHours(r).forEach(function(o){n+=o.durationMinutes}),n},getHoursPerDay:function(r){var n=0;return this._getWorkHours(r).forEach(function(o){n+=o.durationHours}),n},_getWorkUnitsForRange:function(r,n,o,d){var f,_=0,m=new Date(r),v=new Date(n);for(f=o=="minute"?h.bind(this._getMinutesPerDay,this):h.bind(this.getHoursPerDay,this);m.valueOf()<v.valueOf();)if(v-m>27648e5&&m.getDate()===0){var y=this._largeUnitsCache.getMinutesPerMonth(m);o=="hour"&&(y/=60),_+=y,m=this.$gantt.date.add(m,1,"month")}else{if(v-m>13824e5){var k=this.$gantt.date.week_start(new Date(m));if(m.valueOf()===k.valueOf()){y=this._largeUnitsCache.getMinutesPerWeek(m),o=="hour"&&(y/=60),_+=y,m=this.$gantt.date.add(m,7,"day");continue}}_+=f(m),m=this._nextDate(m,"day",1)}return _/d},_getMinutesBetweenSingleDay:function(r,n){for(var o=this._getIntervalTimestamp(r,n),d=this._getWorkHours(r),f=0,_=0;_<d.length;_++){var m=d[_];if(o.end>=m.start&&o.start<=m.end){var v=Math.max(m.start,o.start),y=Math.min(m.end,o.end);f+=(y-v)/60,o.start=y}}return Math.floor(f)},_getMinutesBetween:function(r,n,o,d){var f=new Date(r),_=new Date(n);d=d||1;var m=new Date(f),v=this.$gantt.date.add(this.$gantt.date.day_start(new Date(f)),1,"day");if(_.valueOf()<=v.valueOf())return this._getMinutesBetweenSingleDay(r,n);var y=this.$gantt.date.day_start(new Date(_)),k=_,x=this._getMinutesBetweenSingleDay(m,v),w=this._getMinutesBetweenSingleDay(y,k);return x+this._getWorkUnitsForRange(v,y,o,d)+w},_getHoursBetween:function(r,n,o,d){var f=new Date(r),_=new Date(n);d=d||1;var m=new Date(f),v=this.$gantt.date.add(this.$gantt.date.day_start(new Date(f)),1,"day");if(_.valueOf()<=v.valueOf())return Math.round(this._getMinutesBetweenSingleDay(r,n)/60);var y=this.$gantt.date.day_start(new Date(_)),k=_,x=this._getMinutesBetweenSingleDay(m,v,o,d)/60,w=this._getMinutesBetweenSingleDay(y,k,o,d)/60,b=x+this._getWorkUnitsForRange(v,y,o,d)+w;return Math.round(b)},getConfig:function(){return this._worktime},_setConfig:function(r){this._worktime=r,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var r=this.getConfig();for(var n in r.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},r.parsed.hours=this._parseHours(r.hours),r.dates)r.parsed.dates[n]=this._parseHours(r.dates[n]);if(r.customWeeks){var o=null,d=null;for(var n in r.customWeeks){var f=r.customWeeks[n];if(f.from&&f.to){var _=f.from,m=f.to;(!o||o>_.valueOf())&&(o=_.valueOf()),(!d||d<m.valueOf())&&(d=m.valueOf()),r.parsed.customWeeksBoundaries.push({from:_.valueOf(),fromReadable:new Date(_),to:m.valueOf(),toReadable:new Date(m),name:n}),r.parsed.haveCustomWeeks=!0;var v=r.parsed.customWeeks[n]={from:f.from,to:f.to,hours:this._parseHours(f.hours),dates:{}};for(var y in f.dates)v.dates[y]=this._parseHours(f.dates[y])}}r.parsed.customWeeksRangeStart=o,r.parsed.customWeeksRangeEnd=d}},_tryChangeCalendarSettings:function(r){var n=JSON.stringify(this.getConfig());return r(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(n)),this._clearCaches(),!1)},_arraysEqual:function(r,n){if(r===n)return!0;if(!r||!n||r.length!=n.length)return!1;for(var o=0;o<r.length;++o)if(r[o]!==n[o])return!1;return!0},_compareSettings:function(r,n){if(!this._arraysEqual(r.hours,n.hours))return!1;var o=Object.keys(r.dates),d=Object.keys(n.dates);if(o.sort(),d.sort(),!this._arraysEqual(o,d))return!1;for(var f=0;f<o.length;f++){var _=o[f],m=r.dates[_],v=r.dates[_];if(m!==v&&!(Array.isArray(m)&&Array.isArray(v)&&this._arraysEqual(m,v)))return!1}return!0},equals:function(r){if(!(r instanceof l))return!1;var n=this.getConfig(),o=r.getConfig();if(!this._compareSettings(n,o))return!1;if(n.parsed.haveCustomWeeks&&o.parsed.haveCustomWeeks){if(n.parsed.customWeeksBoundaries.length!=o.parsed.customWeeksBoundaries.length)return!1;for(var d in n.parsed.customWeeks){var f=n.parsed.customWeeks[d],_=o.parsed.customWeeks[d];if(!_||!this._compareSettings(f,_))return!1}}else if(n.parse.haveCustomWeeks!==o.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var r=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(r.date,!1)},_getWorkHours:function(r,n){var o=this.getConfig();if(n!==!1&&(o=o.parsed),!r)return o.hours;var d=this._timestamp({date:r});if(o.haveCustomWeeks&&o.customWeeksRangeStart<=d&&o.customWeeksRangeEnd>d){for(var f=0;f<o.customWeeksBoundaries.length;f++)if(o.customWeeksBoundaries[f].from<=d&&o.customWeeksBoundaries[f].to>d){o=o.customWeeks[o.customWeeksBoundaries[f].name];break}}var _=!0;return o.dates[d]!==void 0?_=o.dates[d]:o.dates[r.getDay()]!==void 0&&(_=o.dates[r.getDay()]),_===!0?o.hours:_||[]},_getIntervalTimestamp:function(r,n){var o={start:0,end:0};o.start=60*r.getHours()*60+60*r.getMinutes()+r.getSeconds();var d=n.getHours();return!d&&!n.getMinutes()&&!n.getSeconds()&&r.valueOf()<n.valueOf()&&(d=24),o.end=60*d*60+60*n.getMinutes()+n.getSeconds(),o},_parseHours:function(r){if(Array.isArray(r)){var n=[];r.forEach(function(v){typeof v=="number"?n.push(60*v*60):typeof v=="string"&&v.split("-").map(function(y){return y.trim()}).forEach(function(y){var k=y.split(":").map(function(w){return w.trim()}),x=parseInt(60*k[0]*60);k[1]&&(x+=parseInt(60*k[1])),k[2]&&(x+=parseInt(k[2])),n.push(x)})});for(var o=[],d=0;d<n.length;d+=2){var f=n[d],_=n[d+1],m=_-f;o.push({start:f,end:_,startHour:Math.floor(f/3600),startMinute:Math.floor(f/60),endHour:Math.ceil(_/3600),endMinute:Math.ceil(_/60),durationSeconds:m,durationMinutes:m/60,durationHours:m/3600})}return o}return r},setWorkTime:function(r){return this._tryChangeCalendarSettings(h.bind(function(){var n=r.hours===void 0||r.hours,o=this._timestamp(r),d=this.getConfig();if(o!==null?d.dates[o]=n:r.customWeeks||(d.hours=n),r.customWeeks){if(d.customWeeks||(d.customWeeks={}),typeof r.customWeeks=="string")o!==null?d.customWeeks[r.customWeeks].dates[o]=n:r.customWeeks||(d.customWeeks[r.customWeeks].hours=n);else if(p(r.customWeeks)==="object"&&Function.prototype.toString.call(r.customWeeks.constructor)==="function Object() { [native code] }")for(var f in r.customWeeks)d.customWeeks[f]=r.customWeeks[f]}this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(r){return this._tryChangeCalendarSettings(h.bind(function(){if(r){var n=this._timestamp(r);n!==null&&delete this.getConfig().dates[n]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(r,n){var o=-1,d=null;return d=String(r.valueOf()),(o=this._workingUnitsCache.getItem(n,d,r))==-1&&(o=this._checkIfWorkingUnit(r,n),this._workingUnitsCache.setItem(n,d,o,r)),o},isWorkTime:function(){var r=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(r.date,r.unit)},calculateDuration:function(){var r=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!r.unit)return!1;var n=this;return this._dateDurationCache.getDuration(r.start_date,r.end_date,r.unit,r.step,function(){return n._calculateDuration(r.start_date,r.end_date,r.unit,r.step)})},_calculateDuration:function(r,n,o,d){var f=0,_=1;if(r.valueOf()>n.valueOf()){var m=n;n=r,r=m,_=-1}return f=o=="hour"&&d==1?this._getHoursBetween(r,n,o,d):o=="minute"&&d==1?this._getMinutesBetween(r,n,o,d):this._getWorkUnitsBetweenGeneric(r,n,o,d),_*Math.round(f)},hasDuration:function(){var r=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),n=r.start_date,o=r.end_date,d=r.unit,f=r.step;if(!d)return!1;var _=new Date(n),m=new Date(o);for(f=f||1;_.valueOf()<m.valueOf();){if(this._isWorkTime(_,d))return!0;_=this._nextDate(_,d,f)}return!1},calculateEndDate:function(){var r=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),n=r.start_date,o=r.duration,d=r.unit,f=r.step;if(!d)return!1;var _=r.duration>=0?1:-1;o=Math.abs(1*o);var m=this;return this._dateDurationCache.getEndDate(n,o,d,f*_,function(){return m._calculateEndDate(n,o,d,f*_)})},_calculateEndDate:function(r,n,o,d){return!!o&&(d==1&&o=="minute"?this._calculateMinuteEndDate(r,n,d):d==-1&&o=="minute"?this._subtractMinuteDate(r,n,d):d==1&&o=="hour"?this._calculateHourEndDate(r,n,d):this._addInterval(r,n,o,d,null).end)},_addInterval:function(r,n,o,d,f){for(var _=0,m=r,v=!1;_<n&&(!f||!f(m));){var y=this._nextDate(m,o,d);o=="day"&&(v=v||!m.getHours()&&y.getHours())&&(y.setHours(0),y.getHours()||(v=!1));var k=new Date(y.valueOf()+1);d>0&&(k=new Date(y.valueOf()-1)),this._isWorkTime(k,o)&&!v&&_++,m=y}return{end:m,start:r,added:_}},_addHoursUntilDayEnd:function(r,n){for(var o=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day"),d=0,f=n,_=this._getIntervalTimestamp(r,o),m=this._getWorkHours(r),v=0;v<m.length&&d<n;v++){var y=m[v];if(_.end>=y.start&&_.start<=y.end){var k=Math.max(y.start,_.start),x=Math.min(y.end,_.end),w=(x-k)/3600;w>f&&(w=f,x=k+60*f*60);var b=Math.round((x-k)/3600);d+=b,f-=b,_.start=x}}var S=o;return d===n&&(S=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,_.start)),{added:d,end:S}},_calculateHourEndDate:function(r,n,o){var d=new Date(r),f=0;o=o||1,n=Math.abs(1*n);var _=this._addHoursUntilDayEnd(d,n);if(f=_.added,d=_.end,k=n-f){for(var m=d;f<n;){var v=this._nextDate(m,"day",o);v.setHours(0),v.setMinutes(0),v.setSeconds(0);var y=0;if(f+(y=o>0?this.getHoursPerDay(new Date(v.valueOf()-1)):this.getHoursPerDay(new Date(v.valueOf()+1)))>=n)break;f+=y,m=v}d=m}if(f<n){var k=n-f;d=(_=this._addHoursUntilDayEnd(d,k)).end}return d},_addMinutesUntilHourEnd:function(r,n){if(r.getMinutes()===0)return{added:0,end:new Date(r)};for(var o=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(r)),1,"hour"),d=0,f=n,_=this._getIntervalTimestamp(r,o),m=this._getWorkHours(r),v=0;v<m.length&&d<n;v++){var y=m[v];if(_.end>=y.start&&_.start<=y.end){var k=Math.max(y.start,_.start),x=Math.min(y.end,_.end),w=(x-k)/60;w>f&&(w=f,x=k+60*f);var b=Math.round((x-k)/60);f-=b,d+=b,_.start=x}}var S=o;return d===n&&(S=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,_.start)),{added:d,end:S}},_subtractMinutesUntilHourStart:function(r,n){for(var o=this.$gantt.date.hour_start(new Date(r)),d=0,f=n,_=60*o.getHours()*60+60*o.getMinutes()+o.getSeconds(),m=60*r.getHours()*60+60*r.getMinutes()+r.getSeconds(),v=this._getWorkHours(r),y=v.length-1;y>=0&&d<n;y--){var k=v[y];if(m>k.start&&_<=k.end){var x=Math.min(m,k.end),w=Math.max(_,k.start),b=(x-w)/60;b>f&&(b=f,w=x-60*f);var S=Math.abs(Math.round((x-w)/60));f-=S,d+=S,m=w}}var T=o;return d===n&&(T=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,m)),{added:d,end:T}},_subtractMinuteDate:function(r,n,o){var d=new Date(r),f=0;o=o||-1,n=Math.abs(1*n),n=Math.round(n);var _=this._isMinutePrecision(d),m=this._subtractMinutesUntilHourStart(d,n);f+=m.added,d=m.end;for(var v=0,y=[],k=0;f<n;){var x=this.$gantt.date.day_start(new Date(d)),w=!1;d.valueOf()===x.valueOf()&&(x=this.$gantt.date.add(x,-1,"day"),w=!0);var b=new Date(x.getFullYear(),x.getMonth(),x.getDate(),23,59,59,999).valueOf();b!==v&&(y=this._getWorkHours(x),k=this._getMinutesPerDay(x),v=b);var S=n-f,T=this._getTimeOfDayStamp(d,w);if(y.length&&k)if(y[y.length-1].end<=T&&S>k)f+=k,d=this.$gantt.date.add(d,-1,"day");else{for(var N=!1,$=null,E=null,D=y.length-1;D>=0;D--)if(y[D].start<T-1&&y[D].end>=T-1){N=!0,$=y[D],E=y[D-1];break}if(N)if(T===$.end&&S>=$.durationMinutes)f+=$.durationMinutes,d=this.$gantt.date.add(d,-$.durationMinutes,"minute");else if(!_&&S<=T/60-$.startMinute)f+=S,d=this.$gantt.date.add(d,-S,"minute");else if(_)S<=T/60-$.startMinute?(f+=S,d=this.$gantt.date.add(d,-S,"minute")):(f+=T/60-$.startMinute,d=E?new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,E.end):this.$gantt.date.day_start(d));else{var P=this._getMinutesPerHour(d);P<=S?(f+=P,d=this._nextDate(d,"hour",o)):(f+=(m=this._subtractMinutesUntilHourStart(d,S)).added,d=m.end)}else if(d.getHours()===0&&d.getMinutes()===0&&d.getSeconds()===0){if((I=this._getClosestWorkTimePast(d,"hour")).valueOf()===d.valueOf()){var I=this.$gantt.date.add(d,-1,"day"),O=this._getWorkHours(I);if(O.length){var B=O[O.length-1];I.setSeconds(B.durationSeconds)}}d=I}else d=this._getClosestWorkTimePast(new Date(d-1),"hour")}else d=this.$gantt.date.add(d,-1,"day")}if(f<n){var R=n-f;f+=(m=this._subtractMinutesUntilHourStart(d,R)).added,d=m.end}return d},_calculateMinuteEndDate:function(r,n,o){var d=new Date(r),f=0;o=o||1,n=Math.abs(1*n),n=Math.round(n);var _=this._addMinutesUntilHourEnd(d,n);f+=_.added,d=_.end;for(var m=0,v=[],y=0,k=this._isMinutePrecision(d);f<n;){var x=this.$gantt.date.day_start(new Date(d)).valueOf();x!==m&&(v=this._getWorkHours(d),y=this._getMinutesPerDay(d),m=x);var w=n-f,b=this._getTimeOfDayStamp(d);if(v.length&&y)if(v[0].start>=b&&w>=y){if(f+=y,w==y){d=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,v[v.length-1].end);break}d=this.$gantt.date.add(d,1,"day"),d=this.$gantt.date.day_start(d)}else{for(var S=!1,T=null,N=0;N<v.length;N++)if(v[N].start<=b&&v[N].end>b){S=!0,T=v[N];break}if(S)if(b===T.start&&w>=T.durationMinutes)f+=T.durationMinutes,d=this.$gantt.date.add(d,T.durationMinutes,"minute");else if(w<=T.endMinute-b/60)f+=w,d=this.$gantt.date.add(d,w,"minute");else{var $=this._getMinutesPerHour(d);$<=w?(f+=$,d=k?this.$gantt.date.add(d,$,"minute"):this._nextDate(d,"hour",o)):(f+=(_=this._addMinutesUntilHourEnd(d,w)).added,d=_.end)}else d=this._getClosestWorkTimeFuture(d,"hour")}else d=this.$gantt.date.add(this.$gantt.date.day_start(d),1,"day")}if(f<n){var E=n-f;f+=(_=this._addMinutesUntilHourEnd(d,E)).added,d=_.end}return d},getClosestWorkTime:function(){var r=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(r.date,r.unit,r.dir)},_getClosestWorkTime:function(r,n,o){var d=new Date(r);if(this._isWorkTime(d,n))return d;if(d=this.$gantt.date[n+"_start"](d),o!="any"&&o)d=o=="past"?this._getClosestWorkTimePast(d,n):this._getClosestWorkTimeFuture(d,n);else{var f=this._getClosestWorkTimeFuture(d,n),_=this._getClosestWorkTimePast(d,n);d=Math.abs(f-r)<=Math.abs(r-_)?f:_}return d},_getClosestWorkTimeFuture:function(r,n){return this._getClosestWorkTimeGeneric(r,n,1)},_getClosestWorkTimePast:function(r,n){var o=this._getClosestWorkTimeGeneric(r,n,-1);return this.$gantt.date.add(o,1,n)},_findClosestTimeInDay:function(r,n,o){var d=new Date(r),f=null,_=!1;this._getWorkHours(d).length||(d=this._getClosestWorkTime(d,"day",n<0?"past":"future"),n<0&&(d=new Date(d.valueOf()-1),_=!0),o=this._getWorkHours(d));var m=this._getTimeOfDayStamp(d);if(_&&(m=this._getTimeOfDayStamp(new Date(d.valueOf()+1),_)),n>0){for(var v=0;v<o.length;v++)if(o[v].start>=m){f=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,o[v].start);break}}else for(v=o.length-1;v>=0;v--){if(o[v].end<=m){f=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,o[v].end);break}if(o[v].end>m&&o[v].start<=m){f=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,m);break}}return f},_getClosestWorkMinute:function(r,n,o){var d=new Date(r),f=this._getWorkHours(d),_=this._findClosestTimeInDay(d,o,f);return _||(d=this.calculateEndDate(d,o,"day"),o>0?d=this.$gantt.date.day_start(d):(d=this.$gantt.date.day_start(d),d=this.$gantt.date.add(d,1,"day"),d=new Date(d.valueOf()-1)),f=this._getWorkHours(d),_=this._findClosestTimeInDay(d,o,f)),o<0&&(_=this.$gantt.date.add(_,-1,n)),_},_getClosestWorkTimeGeneric:function(r,n,o){if(n==="hour"||n==="minute")return this._getClosestWorkMinute(r,n,o);for(var d=this._getUnitOrder(n),f=this.units[d-1],_=r,m=0;!this._isWorkTime(_,n)&&(!f||this._isWorkTime(_,f)||(_=o>0?this._getClosestWorkTimeFuture(_,f):this._getClosestWorkTimePast(_,f),!this._isWorkTime(_,n)));){if(++m>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var v=_.getTimezoneOffset();_=this.$gantt.date.add(_,o,n),_=this.$gantt._correct_dst_change(_,v,o,n),this.$gantt.date[n+"_start"]&&(_=this.$gantt.date[n+"_start"](_))}return _},hasWorkTime:function(){var r=this.getConfig(),n=r.dates,o=[];for(var d in r.dates)Number(d)>6&&o.push(Number(d));var f=this._checkWorkHours(r.hours),_=!1;return[0,1,2,3,4,5,6].forEach((function(m){if(!_){var v=n[m];v===!0?_=f:Array.isArray(v)&&(_=this._checkWorkHours(v))}}).bind(this)),_},_checkWorkHours:function(r){if(r.length===0)return!1;for(var n=!1,o=0;o<r.length;o+=2)r[o]!==r[o+1]&&(n=!0);return n},_isMinutePrecision:function(r){var n=!1;return this._getWorkHours(r).forEach(function(o){(o.startMinute%60||o.endMinute%60)&&(n=!0)}),n}},s.exports=l},function(s,g,i){var p=i(0);function c(){}c.prototype={_getIntervals:function(u){for(var h=[],a=0;a<u.length;a+=2)h.push({start:u[a],end:u[a+1]});return h},_toHoursArray:function(u){var h=[];function a(r){var n=Math.floor(r/3600),o=r-60*n*60;return n+":"+function(d){var f=String(d);return f.length<2&&(f="0"+f),f}(Math.floor(o/60))}for(var l=0;l<u.length;l++)h.push(a(u[l].start)+"-"+a(u[l].end));return h},_intersectHourRanges:function(u,h){var a=[],l=u.length>h.length?u:h,r=u===l?h:u;l=l.slice(),r=r.slice(),a=[];for(var n=0;n<l.length;n++)for(var o=l[n],d=0;d<r.length;d++){var f=r[d];f.start<o.end&&f.end>o.start&&(a.push({start:Math.max(o.start,f.start),end:Math.min(o.end,f.end)}),o.end>f.end&&(r.splice(d,1),d--,n--))}return a},_mergeAdjacentIntervals:function(u){var h=u.slice();h.sort(function(n,o){return n.start-o.start});for(var a=h[0],l=1;l<h.length;l++){var r=h[l];r.start<=a.end?(r.end>a.end&&(a.end=r.end),h.splice(l,1),l--):a=r}return h},_mergeHoursConfig:function(u,h){return this._mergeAdjacentIntervals(this._intersectHourRanges(u,h))},merge:function(u,h){var a=this,l=p.copy(u.getConfig().parsed),r=p.copy(h.getConfig().parsed),n={hours:this._toHoursArray(this._mergeHoursConfig(l.hours,r.hours)),dates:{},customWeeks:{}},o=function(f,_){for(var m in f.dates){var v=f.dates[m];for(var y in+m>1e3&&(n.dates[m]=!1),_.dates){var k=_.dates[y];if(y==m&&(n.dates[m]=!(!v||!k)),Array.isArray(v)){var x=Array.isArray(k)?k:_.hours;n.dates[m]=a._toHoursArray(a._mergeHoursConfig(v,x))}}}};if(o(l,r),o(r,l),l.customWeeks)for(var d in l.customWeeks)n.customWeeks[d]=l.customWeeks[d];if(r.customWeeks)for(var d in r.customWeeks)n.customWeeks[d]=r.customWeeks[d];return n}},s.exports=c},function(s,g,i){var p=i(0),c=i(42),u=i(201),h=i(200),a=i(195),l=i(194)();function r(n){this.$gantt=n,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",(function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=a.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}).bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",(function(){this.createDefaultCalendars()}).bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",(function(){this.createDefaultCalendars()}).bind(this))}r.prototype={_calendars:{},_convertWorkTimeSettings:function(n){var o=n.days;if(o&&!n.dates){n.dates=n.dates||{};for(var d=0;d<o.length;d++)n.dates[d]=o[d],o[d]instanceof Array||(n.dates[d]=!!o[d])}return delete n.days,n},mergeCalendars:function(){var n=[],o=arguments;if(Array.isArray(o[0]))n=o[0].slice();else for(var d=0;d<arguments.length;d++)n.push(arguments[d]);var f,_=new u;return n.forEach((function(m){f=f?this._createCalendarFromConfig(_.merge(f,m)):m}).bind(this)),this.createCalendar(f)},_createCalendarFromConfig:function(n){var o=new h(this.$gantt,c(this.$gantt));o.id=String(p.uid());var d=this._convertWorkTimeSettings(n);if(d.customWeeks)for(var f in d.customWeeks)d.customWeeks[f]=this._convertWorkTimeSettings(d.customWeeks[f]);return o._setConfig(d),o},createCalendar:function(n){var o;n||(n={}),o=n.getConfig?p.copy(n.getConfig()):n.worktime?p.copy(n.worktime):p.copy(n);var d=p.copy(this.defaults.fulltime.worktime);return p.mixin(o,d),this._createCalendarFromConfig(o)},getCalendar:function(n){n=n||"global";var o=this._calendars[n];return o||(this.createDefaultCalendars(),o=this._calendars[n]),o},getCalendars:function(){var n=[];for(var o in this._calendars)n.push(this.getCalendar(o));return n},_getOwnCalendar:function(n){var o=this.$gantt.config;if(n[o.calendar_property])return this.getCalendar(n[o.calendar_property]);if(o.resource_calendars){var d;if(d=this._legacyConfig===!1?o.resource_property:a.getResourceProperty(o),Array.isArray(n[d]))o.dynamic_resource_calendars&&(f=l.getCalendarIdFromMultipleResources(n[d],this));else if(this._legacyConfig===void 0&&(this._legacyConfig=a.isLegacyResourceCalendarFormat(o.resource_calendars)),this._legacyConfig)var f=a.getCalendarIdFromLegacyConfig(n,o.resource_calendars);else if(d&&n[d]&&o.resource_calendars[n[d]])var _=this.getResourceCalendar(n[d]);if(f&&(_=this.getCalendar(f)),_)return _}return null},getResourceCalendar:function(n){if(n==null)return this.getCalendar();var o=null;o=typeof n=="number"||typeof n=="string"?n:n.id||n.key;var d=this.$gantt.config,f=d.resource_calendars,_=null;if(f){if(this._legacyConfig===void 0&&(this._legacyConfig=a.isLegacyResourceCalendarFormat(d.resource_calendars)),this._legacyConfig){for(var m in f)if(f[m][o]){_=f[m][o];break}}else _=f[o];if(_)return this.getCalendar(_)}return this.getCalendar()},getTaskCalendar:function(n){var o,d=this.$gantt;if(n==null)return this.getCalendar();if(!(o=typeof n!="number"&&typeof n!="string"||!d.isTaskExists(n)?n:d.getTask(n)))return this.getCalendar();var f=this._getOwnCalendar(o),_=!!d.getState().group_mode;if(!f&&d.config.inherit_calendar&&d.isTaskExists(o.parent)){for(var m=o;d.isTaskExists(m.parent)&&(m=d.getTask(m.parent),!d.isSummaryTask(m)||!(f=this._getOwnCalendar(m))););_&&!f&&n.$effective_calendar&&(f=this.getCalendar(n.$effective_calendar))}return f||this.getCalendar()},addCalendar:function(n){if(!this.isCalendar(n)){var o=n.id;(n=this.createCalendar(n)).id=o}if(n._tryChangeCalendarSettings(function(){})){var d=this.$gantt.config;return n.id=n.id||p.uid(),this._calendars[n.id]=n,d.worktimes||(d.worktimes={}),d.worktimes[n.id]=n.getConfig(),n.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},n]),null},deleteCalendar:function(n){var o=this.$gantt.config;return!!n&&!!this._calendars[n]&&(delete this._calendars[n],o.worktimes&&o.worktimes[n]&&delete o.worktimes[n],!0)},restoreConfigCalendars:function(n){for(var o in n)if(!this._calendars[o]){var d=n[o],f=this.createCalendar(d);f.id=o,this.addCalendar(f)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var n=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(n.worktimes)},isCalendar:function(n){return[n.isWorkTime,n.setWorkTime,n.getWorkHours,n.unsetWorkTime,n.getClosestWorkTime,n.calculateDuration,n.hasDuration,n.calculateEndDate].every(function(o){return o instanceof Function})}},s.exports=r},function(s,g,i){var p=i(202),c=i(193),u=i(191),h=i(0);s.exports=function(a){var l=new p(a),r=new c(l),n=u.create(l,r);h.mixin(a,n)}},function(s,g,i){function p(u){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}var c=i(2);s.exports=function(u){function h(a){throw u.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(a)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(a))}u.load=function(){throw new Error("gantt.load() method is not available in the node.js, use gantt.parse() instead")},u.parse=function(a,l){this.on_load({xmlDoc:{responseText:a}},l)},u.serialize=function(a){return this[a=a||"json"].serialize()},u.on_load=function(a,l){if(a.xmlDoc&&a.xmlDoc.status===404)this.assert(!1,"Failed to load the data from <a href='"+a.xmlDoc.responseURL+"' target='_blank'>"+a.xmlDoc.responseURL+"</a>, server returns 404");else if(!u.$destroyed){this.callEvent("onBeforeParse",[]),l||(l="json"),this.assert(this[l],"Invalid data type:'"+l+"'");var r=a.xmlDoc.responseText,n=this[l].parse(r,a);this._process_loading(n)}},u._process_loading=function(a){a.collections&&this._load_collections(a.collections),a.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(a.resources);var l=a.data||a.tasks;a.assignments&&function(n,o){var d={};o.forEach(function(f){d[f.task_id]||(d[f.task_id]=[]),d[f.task_id].push(f)}),n.forEach(function(f){f[u.config.resource_property]=d[f.id]||[]})}(l,a.assignments),this.$data.tasksStore.parse(l);var r=a.links||(a.collections?a.collections.links:[]);this.$data.linksStore.parse(r),this.callEvent("onParse",[]),this.render()},u._load_collections=function(a){var l=!1;for(var r in a)if(a.hasOwnProperty(r)){l=!0;var n=a[r];this.serverList[r]=this.serverList[r]||[];var o=this.serverList[r];if(!o)continue;o.splice(0,o.length);for(var d=0;d<n.length;d++){var f=n[d],_=this.copy(f);for(var m in _.key=_.value,f)if(f.hasOwnProperty(m)){if(m=="value"||m=="label")continue;_[m]=f[m]}o.push(_)}}l&&this.callEvent("onOptionsLoad",[])},u.attachEvent("onBeforeTaskDisplay",function(a,l){return!l.$ignore}),u.json={parse:function(a){if(a||h(a),typeof a=="string")if((typeof JSON>"u"?"undefined":p(JSON))!=null)try{a=JSON.parse(a)}catch{h(a)}else u.assert(!1,"JSON is not supported");return a.data||a.tasks||h(a),a.dhx_security&&(u.security_key=a.dhx_security),a},serializeTask:function(a){return this._copyObject(a)},serializeLink:function(a){return this._copyLink(a)},_copyLink:function(a){var l={};for(var r in a)l[r]=a[r];return l},_copyObject:function(a){var l={};for(var r in a)r.charAt(0)!="$"&&(l[r]=a[r],c.isDate(l[r])&&(l[r]=u.defined(u.templates.xml_format)?u.templates.xml_format(l[r]):u.templates.format_date(l[r])));return l},serialize:function(){var a=[],l=[];u.eachTask(function(o){u.resetProjectDates(o),a.push(this.serializeTask(o))},u.config.root_id,this);for(var r=u.getLinks(),n=0;n<r.length;n++)l.push(this.serializeLink(r[n]));return{data:a,links:l}}},u.xml={_xmlNodeToJSON:function(a,l){for(var r={},n=0;n<a.attributes.length;n++)r[a.attributes[n].name]=a.attributes[n].value;if(!l){for(n=0;n<a.childNodes.length;n++){var o=a.childNodes[n];o.nodeType==1&&(r[o.tagName]=o.firstChild?o.firstChild.nodeValue:"")}r.text||(r.text=a.firstChild?a.firstChild.nodeValue:"")}return r},_getCollections:function(a){for(var l={},r=u.ajax.xpath("//coll_options",a),n=0;n<r.length;n++)for(var o=l[r[n].getAttribute("for")]=[],d=u.ajax.xpath(".//item",r[n]),f=0;f<d.length;f++){for(var _=d[f].attributes,m={key:d[f].getAttribute("value"),label:d[f].getAttribute("label")},v=0;v<_.length;v++){var y=_[v];y.nodeName!="value"&&y.nodeName!="label"&&(m[y.nodeName]=y.nodeValue)}o.push(m)}return l},_getXML:function(a,l,r){r=r||"data",l.getXMLTopNode||(l=u.ajax.parse(l));var n=u.ajax.xmltop(r,l.xmlDoc);n&&n.tagName==r||function(d){throw u.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(d)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(d))}(a);var o=n.getAttribute("dhx_security");return o&&(u.security_key=o),n},parse:function(a,l){l=this._getXML(a,l);for(var r={},n=r.data=[],o=u.ajax.xpath("//task",l),d=0;d<o.length;d++)n[d]=this._xmlNodeToJSON(o[d]);return r.collections=this._getCollections(l),r},_copyLink:function(a){return"<item id='"+a.id+"' source='"+a.source+"' target='"+a.target+"' type='"+a.type+"' />"},_copyObject:function(a){return"<task id='"+a.id+"' parent='"+(a.parent||"")+"' start_date='"+a.start_date+"' duration='"+a.duration+"' open='"+!!a.open+"' progress='"+a.progress+"' end_date='"+a.end_date+"'><![CDATA["+a.text+"]]></task>"},serialize:function(){for(var a=[],l=[],r=u.json.serialize(),n=0,o=r.data.length;n<o;n++)a.push(this._copyObject(r.data[n]));for(n=0,o=r.links.length;n<o;n++)l.push(this._copyLink(r.links[n]));return"<data>"+a.join("")+"<coll_options for='links'>"+l.join("")+"</coll_options></data>"}},u.oldxml={parse:function(a,l){l=u.xml._getXML(a,l,"projects");for(var r={collections:{links:[]}},n=r.data=[],o=u.ajax.xpath("//task",l),d=0;d<o.length;d++){n[d]=u.xml._xmlNodeToJSON(o[d]);var f=o[d].parentNode;f.tagName=="project"?n[d].parent="project-"+f.getAttribute("id"):n[d].parent=f.parentNode.getAttribute("id")}for(o=u.ajax.xpath("//project",l),d=0;d<o.length;d++)(_=u.xml._xmlNodeToJSON(o[d],!0)).id="project-"+_.id,n.push(_);for(d=0;d<n.length;d++){var _;(_=n[d]).start_date=_.startdate||_.est,_.end_date=_.enddate,_.text=_.name,_.duration=_.duration/8,_.open=1,_.duration||_.end_date||(_.duration=1),_.predecessortasks&&r.collections.links.push({target:_.id,source:_.predecessortasks,type:u.config.links.finish_to_start})}return r},serialize:function(){u.message("Serialization to 'old XML' is not implemented")}},u.serverList=function(a,l){return l?this.serverList[a]=l.slice(0):this.serverList[a]||(this.serverList[a]=[]),this.serverList[a]}}},function(s,g){s.exports=function(i){i.isReadonly=function(p){return typeof p!="number"&&typeof p!="string"||!i.isTaskExists(p)||(p=i.getTask(p)),(!p||!p[this.config.editable_property])&&(p&&p[this.config.readonly_property]||this.config.readonly)}}},function(s,g){s.exports=function(i){i.getGridColumn=function(p){for(var c=i.config.columns,u=0;u<c.length;u++)if(c[u].name==p)return c[u];return null},i.getGridColumns=function(){return i.config.columns.slice()}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(u){this._scrollOrder=0;var h=u.gantt,a=u.grid,l=u.dnd,r=u.getCurrentX;this.$gantt=h,this.$grid=a,this._dnd=l,this.getCurrentX=r,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return c.prototype.attachEvents=function(){var u=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(h,a){var l=u.$grid.$grid.getBoundingClientRect(),r=l.right,n=l.left,o=u.getCurrentX(a.clientX);return o>=r-20&&(u.autoscrollRight(),u.autoscrollStart()),o<=n+20&&(u.autoscrollLeft(),u.autoscrollStart()),o<r-20&&o>n+20&&u.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){u.autoscrollStop()}))},c.prototype.autoscrollStart=function(){var u=this;if(this._scrollOrder!==0){var h=10*this._scrollOrder,a=this._scrollView.getScrollState();this._scrollView.scrollTo(a.position+h),setTimeout(function(){u.autoscrollStart()},50)}},c.prototype.autoscrollRight=function(){this._scrollOrder=1},c.prototype.autoscrollLeft=function(){this._scrollOrder=-1},c.prototype.autoscrollStop=function(){this._scrollOrder=0},c.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},c.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},c}();g.default=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(1),c=i(207),u=function(){function h(a,l){var r=this;this._targetMarker=null,this.calculateCurrentPosition=function(n){var o=r.$grid.$grid.getBoundingClientRect(),d=o.right,f=o.left,_=n;return _>d&&(_=d),_<f&&(_=f),_},this.$gantt=a,this.$grid=l}return h.prototype.init=function(){var a=this.$gantt.$services.getService("dnd");this._dnd=new a(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new c.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},h.prototype.attachEvents=function(){var a=this;this._dnd.attachEvent("onBeforeDragStart",function(l,r){if(a._draggedCell=a.$gantt.utils.dom.closest(r.target,".gantt_grid_head_cell"),a._draggedCell){var n,o,d=a.$grid.$getConfig().columns,f=a._draggedCell.getAttribute("data-column-id");return d.map(function(_,m){_.name===f&&(n=_,o=m)}),a.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:n,draggedIndex:o}])===!1?!1:!(!a._draggedCell||!n)&&(a._gridConfig=a.$grid.$getConfig(),a._originAutoscroll=a.$gantt.config.autoscroll,a.$gantt.config.autoscroll=!1,!0)}}),this._dnd.attachEvent("onAfterDragStart",function(l,r){a._draggedCell&&(a._dnd.config.column=a._draggedCell.getAttribute("data-column-id"),a._dnd.config.marker.innerHTML=a._draggedCell.outerHTML,a._dnd.config.marker.classList.add("gantt_column_drag_marker"),a._dnd.config.marker.style.height=a._gridConfig.scale_height+"px",a._dnd.config.marker.style.lineHeight=a._gridConfig.scale_height+"px",a._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(l,r){if(a._draggedCell){a._dragX=r.clientX;var n=a.calculateCurrentPosition(r.clientX),o=a.findColumnsIndexes(),d=o.targetIndex,f=o.draggedIndex,_=a.$grid.$getConfig().columns,m=_[f],v=_[d];return a.$grid.callEvent("onColumnDragMove",[{draggedColumn:m,targetColumn:v,draggedIndex:f,targetIndex:d}])===!1?(a.cleanTargetMarker(),!1):(a.setMarkerPosition(n),a.drawTargetMarker(o),!0)}}),this._dnd.attachEvent("onDragEnd",function(){a._draggedCell&&(a.$gantt.config.autoscroll=a._originAutoscroll,a._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),a.cleanTargetMarker(),a.reorderColumns())})},h.prototype.reorderColumns=function(){var a=this.findColumnsIndexes(),l=a.targetIndex,r=a.draggedIndex,n=this.$grid.$getConfig().columns,o=n[r],d=n[l];this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:o,targetColumn:d,draggedIndex:r,targetIndex:l}])!==!1&&l!==r&&(n.splice(r,1),n.splice(l,0,o),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:o,targetColumn:d,draggedIndex:r,targetIndex:l}]))},h.prototype.findColumnsIndexes=function(){var a,l,r,n,o,d=this._dnd.config.column,f=this.$grid.$getConfig().columns,_={startX:0,endX:0},m=0,v=f.length-1,y=function(b,S){return b<=S},k=function(b){return++b};this.$gantt.config.rtl&&(m=f.length-1,v=0,y=function(b,S){return b>=S},k=function(b){return--b});for(var x=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),w=m;y(w,v)&&(a===void 0||l===void 0);w=k(w))f[w].hide||(_.startX=_.endX,_.endX+=f[w].width,x>=_.startX&&(x<=_.endX||!y(k(w),v))&&(a=w,r=_.startX,n=_.endX,o=(x-_.startX)/(_.endX-_.startX)),d===f[w].name&&(l=w));return{targetIndex:a,draggedIndex:l,xBefore:r,xAfter:n,columnRelativePos:o}},h.prototype.setMarkerPosition=function(a,l){l===void 0&&(l=10);var r=this._dnd.config.marker,n=this._dnd._obj.getBoundingClientRect();r.style.top=n.y+l+"px",r.style.left=a+"px"},h.prototype.drawTargetMarker=function(a){var l,r=a.targetIndex,n=a.draggedIndex,o=a.xBefore,d=a.xAfter,f=a.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),p.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),l=r>n?d:r<n?o:f>.5?d:o,this._targetMarker.style.left=l+"px",this._targetMarker.style.display="block"},h.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},h}();g.ColumnsGridDnd=u},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(208);g.default=p.ColumnsGridDnd},function(s,g,i){var p=i(1);s.exports=function(c,u){var h={row_before_start:c.bind(function(a,l,r){var n=u.$getConfig(),o=u.$config.rowStore;if(!p.locateAttribute(r,n.task_grid_row_resizer_attribute))return!1;var d=this.locate(r,n.task_grid_row_resizer_attribute),f=o.getItem(d);return u.callEvent("onBeforeRowResize",[f])!==!1&&void 0},c),row_after_start:c.bind(function(a,l,r){var n=u.$getConfig(),o=this.locate(r,n.task_grid_row_resizer_attribute);a.config.marker.innerHTML="",a.config.marker.className+=" gantt_row_grid_resize_area",a.config.marker.style.width=u.$grid.offsetWidth+"px",a.config.drag_id=o},c),row_drag_move:c.bind(function(a,l,r){var n=u.$config.rowStore,o=u.$getConfig(),d=a.config,f=d.drag_id,_=u.getItemHeight(f),m=u.getItemTop(f)-l.scrollTop,v=p.getNodePosition(u.$grid_data),y=parseInt(d.marker.style.top,10),k=m+v.y,x=0,w=o.min_task_grid_row_height;return(x=y-k)<w&&(x=w),d.marker.style.left=v.x+"px",d.marker.style.top=k-1+"px",d.marker.style.height=Math.abs(x)+1+"px",d.marker_height=x,u.callEvent("onRowResize",[f,n.getItem(f),x+_]),!0},c),row_drag_end:c.bind(function(a,l,r){var n=u.$config.rowStore,o=a.config,d=o.drag_id,f=n.getItem(d),_=u.getItemHeight(d),m=o.marker_height;u.callEvent("onBeforeRowResizeEnd",[d,f,m])!==!1&&f.row_height!=m&&(f.row_height=m,c.updateTask(d),u.callEvent("onAfterRowResize",[d,f,_,m]),this.render())},c)};return{init:function(){var a=c.$services.getService("dnd"),l=u.$getConfig(),r=new a(u.$grid_data,{updates_per_second:60});c.defined(l.dnd_sensitivity)&&(r.config.sensitivity=l.dnd_sensitivity),r.attachEvent("onBeforeDragStart",function(n,o){return h.row_before_start(r,n,o)}),r.attachEvent("onAfterDragStart",function(n,o){return h.row_after_start(r,n,o)}),r.attachEvent("onDragMove",function(n,o){return h.row_drag_move(r,n,o)}),r.attachEvent("onDragEnd",function(n,o){return h.row_drag_end(r,n,o)})}}}},function(s,g){s.exports=function(i){var p=-1,c=-1;return{resetCache:function(){p=-1,c=-1},_getRowHeight:function(){return p===-1&&(p=i.$getConfig().row_height),p},_refreshState:function(){this.resetCache(),c=!0;var u=i.$config.rowStore;if(u)for(var h=this._getRowHeight(),a=0;a<u.fullOrder.length;a++){var l=u.getItem(u.fullOrder[a]);if(l&&l.row_height&&l.row_height!==h){c=!1;break}}},canUseSimpleCalculation:function(){return c===-1&&this._refreshState(),c},getRowTop:function(u){return i.$config.rowStore?u*this._getRowHeight():0},getItemHeight:function(u){return this._getRowHeight()},getTotalHeight:function(){return i.$config.rowStore?i.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(u){return i.$config.rowStore?Math.floor(u/this._getRowHeight()):0}}}},function(s,g){s.exports=function(i,p){return{init:function(){},doOnRender:function(){}}}},function(s,g,i){var p=i(32);s.exports=function(c){i(206)(c),p.prototype.getGridColumns=function(){for(var u=this.$getConfig().columns,h=[],a=0;a<u.length;a++)u[a].hide||h.push(u[a]);return h}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(p){p.ext=p.ext||{},p.config.show_empty_state=!1,p.ext.emptyStateElement=p.ext.emptyStateElement||{isEnabled:function(){return p.config.show_empty_state===!0},isGanttEmpty:function(){return!p.getTaskByTime().length},renderContent:function(c){var u=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>
    <div class='gantt_empty_state_text_link' data-empty-state-create-task>`+p.locale.labels.empty_state_text_link+`</div>
    <div class='gantt_empty_state_text_description'>`+p.locale.labels.empty_state_text_description+`</div>
    </div></div>`;c.innerHTML=u},clickEvents:[],attachAddTaskEvent:function(){var c=p.attachEvent("onEmptyClick",function(u){p.utils.dom.closest(u.target,"[data-empty-state-create-task]")&&p.createTask({id:p.uid(),text:"New Task"})});this.clickEvents.push(c)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(c){p.detachEvent(c)}),this.clickEvents=[]},getContainer:function(){if(p.$container){var c=p.utils.dom;if(p.$container.contains(p.$grid_data))return c.closest(p.$grid_data,".gantt_layout_content");if(p.$container.contains(p.$task_data))return c.closest(p.$task_data,".gantt_layout_content")}return null},getNode:function(){var c=this.getContainer();return c?c.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var c=this.getContainer();if(!c&&this.isGanttEmpty())return null;var u=document.createElement("div");u.className="gantt_empty_state_wrapper",u.style.marginTop=p.config.scale_height-c.offsetHeight+"px";var h=p.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(h,function(a){a.parentNode.removeChild(a)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),c.appendChild(u),this.renderContent(u)},hide:function(){var c=this.getNode();if(!c)return!1;c.parentNode.removeChild(c)},init:function(){}},p.attachEvent("onDataRender",function(){var c=p.ext.emptyStateElement;c.isEnabled()&&c.isGanttEmpty()?c.show():c.hide()})}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(u){var h=this;this.format=function(a){return h._getWBSCode(a.source)},this.canParse=function(a){return h._linkReg.test(a)},this.parse=function(a){if(!h.canParse(a))return null;var l=h._linkReg.exec(a)[0].trim();return{id:void 0,source:h._findSource(l)||null,target:null,type:h._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(a){var l=h._gantt.getTask(a);return h._gantt.getWBSCode(l)},this._findSource=function(a){var l=new RegExp("^[0-9.]+","i");if(l.exec(a)){var r=l.exec(a)[0],n=h._gantt.getTaskByWBSCode(r);if(n)return n.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=u}return c.create=function(u,h){return new c(h)},c}();g.default=p},function(s,g,i){var p=i(44).default,c=i(215).default;s.exports=function(u){u.ext.formatters={durationFormatter:function(h){return h||(h={}),h.store||(h.store=u.config.duration_unit),h.enter||(h.enter=u.config.duration_unit),p.create(h,u)},linkFormatter:function(h){return c.create(h,u)}}}},function(s,g){s.exports=function(i){function p(d){return function(){return!i.config.auto_types||i.getTaskType(i.config.types.project)!=i.config.types.project||d.apply(this,arguments)}}function c(d,f){var _=i.getTask(d),m=a(_);m!==!1&&i.getTaskType(_)!==m&&(f.$needsUpdate=!0,f[_.id]={task:_,type:m})}function u(d){if(!i.getState().group_mode){var f=function(_,m){return c(_,m=m||{}),i.eachParent(function(v){c(v.id,m)},_),m}(d);f.$needsUpdate&&i.batchUpdate(function(){(function(_){for(var m in _)if(_[m]&&_[m].task){var v=_[m].task;v.type=_[m].type,i.updateTask(v.id)}})(f)})}}var h;function a(d){var f=i.config.types,_=i.hasChild(d.id),m=i.getTaskType(d.type);return _&&m===f.task?f.project:!_&&m===f.project&&f.task}var l,r,n=!0;function o(d){d!=i.config.root_id&&i.isTaskExists(d)&&u(d)}i.attachEvent("onParse",p(function(){n=!1,i.getState().group_mode||(i.batchUpdate(function(){i.eachTask(function(d){var f=a(d);f!==!1&&function(_,m){i.getState().group_mode||(_.type=m,i.updateTask(_.id))}(d,f)})}),n=!0)})),i.attachEvent("onAfterTaskAdd",p(function(d){n&&u(d)})),i.attachEvent("onAfterTaskUpdate",p(function(d){n&&u(d)})),i.attachEvent("onBeforeTaskDelete",p(function(d,f){return h=i.getParent(d),!0})),i.attachEvent("onAfterTaskDelete",p(function(d,f){o(h)})),i.attachEvent("onRowDragStart",p(function(d,f,_){return l=i.getParent(d),!0})),i.attachEvent("onRowDragEnd",p(function(d,f){o(l),u(d)})),i.attachEvent("onBeforeTaskMove",p(function(d,f,_){return r=i.getParent(d),!0})),i.attachEvent("onAfterTaskMove",p(function(d,f,_){document.querySelector(".gantt_drag_marker")||(o(r),u(d))}))}},function(s,g){s.exports=function(i){function p(r){return function(){return!i.config.placeholder_task||r.apply(this,arguments)}}function c(){var r=i.getTaskBy("type",i.config.types.placeholder);if(!r.length||!i.isTaskExists(r[0].id)){var n={unscheduled:!0,type:i.config.types.placeholder,duration:0,text:i.locale.labels.new_task};if(i.callEvent("onTaskCreated",[n])===!1)return;i.addTask(n)}}function u(r){var n=i.getTask(r);n.type==i.config.types.placeholder&&(n.start_date&&n.end_date&&n.unscheduled&&(n.unscheduled=!1),i.batchUpdate(function(){var o=i.copy(n);i.silent(function(){i.deleteTask(n.id)}),delete o["!nativeeditor_status"],o.type=i.config.types.task,o.id=i.uid(),i.addTask(o)}))}i.config.types.placeholder="placeholder",i.attachEvent("onDataProcessorReady",p(function(r){r&&!r._silencedPlaceholder&&(r._silencedPlaceholder=!0,r.attachEvent("onBeforeUpdate",p(function(n,o,d){return d.type!=i.config.types.placeholder||(r.setUpdated(n,!1),!1)})))}));var h=!1;function a(r){return!!(i.config.types.placeholder&&i.isTaskExists(r)&&i.getTask(r).type==i.config.types.placeholder)}function l(r){return!(!a(r.source)&&!a(r.target))}i.attachEvent("onGanttReady",function(){h||(h=!0,i.attachEvent("onAfterTaskUpdate",p(u)),i.attachEvent("onAfterTaskAdd",p(function(r,n){n.type!=i.config.types.placeholder&&(i.getTaskBy("type",i.config.types.placeholder).forEach(function(o){i.silent(function(){i.isTaskExists(o.id)&&i.deleteTask(o.id)})}),c())})),i.attachEvent("onParse",p(c)))}),i.attachEvent("onLinkValidation",function(r){return!l(r)}),i.attachEvent("onBeforeLinkAdd",function(r,n){return!l(n)}),i.attachEvent("onBeforeUndoStack",function(r){for(var n=0;n<r.commands.length;n++){var o=r.commands[n];o.entity==="task"&&o.value.type===i.config.types.placeholder&&(r.commands.splice(n,1),n--)}return!0})}},function(s,g){s.exports=function(i){var p="$resourceAssignments";i.config.resource_assignment_store="resourceAssignments",i.config.process_resource_assignments=!0;var c={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},u=c.auto,h={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function a(v,y){v.start_date?v.start_date=i.date.parseDate(v.start_date,"parse_date"):v.start_date=null,v.end_date?v.end_date=i.date.parseDate(v.end_date,"parse_date"):v.end_date=null;var k=Number(v.delay),x=!1;if(isNaN(k)?(v.delay=0,x=!0):v.delay=k,i.defined(v.value)||(v.value=null),!v.task_id||!v.resource_id)return!1;if(v.mode=v.mode||h.default,v.mode===h.fixedDuration&&(isNaN(Number(v.duration))&&(y=y||i.getTask(v.task_id),v.duration=i.calculateDuration({start_date:v.start_date,end_date:v.end_date,id:y})),x&&(y=y||i.getTask(v.task_id),v.delay=i.calculateDuration({start_date:y.start_date,end_date:v.start_date,id:y}))),v.mode!==h.fixedDates&&(y||i.isTaskExists(v.task_id))){var w=r(v,y=y||i.getTask(v.task_id));v.start_date=w.start_date,v.end_date=w.end_date,v.duration=w.duration}}var l=i.createDatastore({name:i.config.resource_assignment_store,initItem:function(v){return v.id||(v.id=i.uid()),a(v),v}});function r(v,y){if(v.mode===h.fixedDates)return{start_date:v.start_date,end_date:v.end_date,duration:v.duration};var k,x,w=v.delay?i.calculateEndDate({start_date:y.start_date,duration:v.delay,task:y}):new Date(y.start_date);return v.mode===h.fixedDuration?(k=i.calculateEndDate({start_date:w,duration:v.duration,task:y}),x=v.duration):(k=new Date(y.end_date),x=y.duration-v.delay),{start_date:w,end_date:k,duration:x}}function n(v){var y=i.config.resource_property,k=v[y],x=[],w=u===c.auto;if(i.defined(k)&&k){Array.isArray(k)||(k=[k],w&&(u=c.singleValue,w=!1));var b={};k.forEach(function(S){S.resource_id||(S={resource_id:S},w&&(u=c.valueArray,w=!1)),w&&(S.id&&S.resource_id?(u=c.assignmentsArray,w=!1):(u=c.resourceValueArray,w=!1));var T,N=h.default;S.mode||(S.start_date&&S.end_date||S.start_date&&S.duration)&&(N=h.fixedDuration),T=S.id||!S.$id||b[S.$id]?S.id&&!b[S.id]?S.id:i.uid():S.$id,b[T]=!0;var $={id:T,start_date:S.start_date,duration:S.duration,end_date:S.end_date,delay:S.delay,task_id:v.id,resource_id:S.resource_id,value:S.value,mode:S.mode||N};Object.keys(S).forEach(function(E){E!="$id"&&($[E]=S[E])}),$.start_date&&$.start_date.getMonth&&$.end_date&&$.end_date.getMonth&&typeof $.duration=="number"||a($,v),x.push($)})}return x}function o(v){if(i.isTaskExists(v)){var y=i.getTask(v);d(y,i.getTaskAssignments(y.id))}}function d(v,y){y.sort(function(k,x){return k.start_date&&x.start_date&&k.start_date.valueOf()!=x.start_date.valueOf()?k.start_date-x.start_date:0}),u==c.assignmentsArray?v[i.config.resource_property]=y:u==c.resourceValueArray&&(v[i.config.resource_property]=y.map(function(k){return{$id:k.id,start_date:k.start_date,duration:k.duration,end_date:k.end_date,delay:k.delay,resource_id:k.resource_id,value:k.value,mode:k.mode}})),v[p]=y}function f(v){var y=n(v);return y.forEach(function(k){k.id=k.id||i.uid()}),y}function _(v,y){var k=function(x,w){var b={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(u==c.singleValue){var S=x[0],T=S?S.resource_id:null,N=!1;w.forEach(function(P){P.resource_id!=T?b.inStoreNotInTask.push(P):P.resource_id==T&&(b.inBoth.push({store:P,task:S}),N=!0)}),!N&&S&&b.inTaskNotInStore.push(S)}else if(u==c.valueArray){var $={},E={},D={};x.forEach(function(P){$[P.resource_id]=P}),w.forEach(function(P){E[P.resource_id]=P}),x.concat(w).forEach(function(P){if(!D[P.resource_id]){D[P.resource_id]=!0;var I=$[P.resource_id],O=E[P.resource_id];I&&O?b.inBoth.push({store:O,task:I}):I&&!O?b.inTaskNotInStore.push(I):!I&&O&&b.inStoreNotInTask.push(O)}})}else u!=c.assignmentsArray&&u!=c.resourceValueArray||($={},E={},D={},x.forEach(function(P){$[P.id||P.$id]=P}),w.forEach(function(P){E[P.id]=P}),x.concat(w).forEach(function(P){var I=P.id||P.$id;if(!D[I]){D[I]=!0;var O=$[I],B=E[I];O&&B?b.inBoth.push({store:B,task:O}):O&&!B?b.inTaskNotInStore.push(O):!O&&B&&b.inStoreNotInTask.push(B)}}));return b}(n(v),y);k.inStoreNotInTask.forEach(function(x){l.removeItem(x.id)}),k.inTaskNotInStore.forEach(function(x){l.addItem(x)}),k.inBoth.forEach(function(x){if(function(b,S){var T={id:!0};for(var N in b)if(!T[N]&&String(b[N])!==String(S[N]))return!0;return!1}(x.task,x.store))(function(b,S){var T={id:!0};for(var N in b)T[N]||(S[N]=b[N])})(x.task,x.store),l.updateItem(x.store.id);else if(x.task.start_date&&x.task.end_date&&x.task.mode!==h.fixedDates){var w=r(x.store,v);x.store.start_date.valueOf()==w.start_date.valueOf()&&x.store.end_date.valueOf()==w.end_date.valueOf()||(x.store.start_date=w.start_date,x.store.end_date=w.end_date,x.store.duration=w.duration,l.updateItem(x.store.id))}}),o(v.id)}function m(v){var y=v[p]||l.find(function(k){return k.task_id==v.id});_(v,y)}i.$data.assignmentsStore=l,i.attachEvent("onGanttReady",function(){if(i.config.process_resource_assignments){i.attachEvent("onParse",function(){i.silent(function(){l.clearAll();var T=[];i.eachTask(function(N){if(N.type!==i.config.types.project){var $=f(N);d(N,$),$.forEach(function(E){T.push(E)})}}),l.parse(T)})});var v=!1,y=!1,k={},x=!1;i.attachEvent("onBeforeBatchUpdate",function(){v=!0}),i.attachEvent("onAfterBatchUpdate",function(){if(y){var T={};for(var N in k)T[N]=i.getTaskAssignments(k[N].id);for(var N in k)_(k[N],T[N])}y=!1,v=!1,k={}}),i.attachEvent("onTaskCreated",function(T){var N=f(T);return l.parse(N),d(T,N),!0}),i.attachEvent("onAfterTaskUpdate",function(T,N){v?(y=!0,k[T]=N):N.unscheduled||m(N)}),i.attachEvent("onAfterTaskAdd",function(T,N){v?(y=!0,k[T]=N):m(N)}),i.attachEvent("onRowDragEnd",function(T){m(i.getTask(T))}),i.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(T,N){var $=[T];i.eachTask(function(E){$.push(E.id)},T),function(E){var D={};E.forEach(function(P){D[P]=!0}),l.find(function(P){return D[P.task_id]}).forEach(function(P){l.removeItem(P.id)})}($)}),i.$data.tasksStore.attachEvent("onClearAll",function(){return w=null,b=null,S=null,l.clearAll(),!0}),i.attachEvent("onTaskIdChange",function(T,N){l.find(function($){return $.task_id==T}).forEach(function($){$.task_id=N,l.updateItem($.id)}),o(N)}),i.attachEvent("onBeforeUndo",function(T){return x=!0,!0}),i.attachEvent("onAfterUndo",function(T){x=!0});var w=null,b=null,S=null;l.attachEvent("onStoreUpdated",function(){return!(!v||x)||(w=null,b=null,S=null,!0)}),i.getResourceAssignments=function(T,N){var $=i.defined(N)&&N!==null;return w===null&&(w={},b={},l.eachItem(function(E){w[E.resource_id]||(w[E.resource_id]=[]),w[E.resource_id].push(E);var D=E.resource_id+"-"+E.task_id;b[D]||(b[D]=[]),b[D].push(E)})),$?(b[T+"-"+N]||[]).slice():(w[T]||[]).slice()},i.getTaskAssignments=function(T){if(S===null){var N=[];S={},l.eachItem(function($){S[$.task_id]||(S[$.task_id]=[]),S[$.task_id].push($),$.task_id==T&&N.push($)})}return(S[T]||[]).slice()},i.getTaskResources=function(T){var N=i.getDatastore("resource"),$={};i.getTaskAssignments(T).forEach(function(I){$[I.resource_id]||($[I.resource_id]=I.resource_id)});var E=[];for(var D in $){var P=N.getItem($[D]);P&&E.push(P)}return E},i.updateTaskAssignments=o}},{once:!0})}},function(s,g,i){var p=i(2);function c(u){var h={},a=!1;u.$data.tasksStore.attachEvent("onStoreUpdated",function(){h={},a=!1}),u.attachEvent("onBeforeGanttRender",function(){h={}});var l=String(Math.random());function r(f){return f===null?l+String(f):String(f)}function n(f,_,m){return Array.isArray(f)?f.map(function(v){return r(v)}).join("_")+"_".concat(_,"_").concat(m):r(f)+"_".concat(_,"_").concat(m)}function o(f,_,m){var v,y=n(_,f,JSON.stringify(m)),k={};return p.forEach(_,function(x){k[r(x)]=!0}),h[y]?v=h[y]:(v=h[y]=[],u.eachTask(function(x){if(m){if(!m[u.getTaskType(x)])return}else if(x.type==u.config.types.project)return;var w;f in x&&(w=p.isArray(x[f])?x[f]:[x[f]],p.forEach(w,function(b){var S=b&&b.resource_id?b.resource_id:b;if(k[r(S)])v.push(x);else if(!a){var T=n(b,f);h[T]||(h[T]=[]),h[T].push(x)}}))}),a=!0),v}function d(f,_,m){var v=u.config.resource_property,y=[];if(u.getDatastore("task").exists(_)){var k=u.getTask(_);y=k[v]||[]}Array.isArray(y)||(y=[y]);for(var x=0;x<y.length;x++)y[x].resource_id==f&&m.push({task_id:k.id,resource_id:y[x].resource_id,value:y[x].value})}return{getTaskBy:function(f,_,m){return typeof f=="function"?function(v){var y=[];return u.eachTask(function(k){v(k)&&y.push(k)}),y}(f):p.isArray(_)?o(f,_,m):o(f,[_],m)},getResourceAssignments:function(f,_){var m=[],v=u.config.resource_property;return _!==void 0?d(f,_,m):u.getTaskBy(v,f).forEach(function(y){d(f,y.id,m)}),m}}}s.exports=function(u){var h=c(u);u.ext.resources=function(r){var n={renderEditableLabel:function(o,d,f,_,m){var v=r.config.readonly?"":"contenteditable";if(o<f.end_date&&d>f.start_date){for(var y=0;y<m.length;y++){var k=m[y];return"<div "+v+" data-assignment-cell data-assignment-id='"+k.id+"' data-row-id='"+f.id+"' data-task='"+f.$task_id+"' data-start-date='"+r.templates.format_date(o)+"' data-end-date='"+r.templates.format_date(d)+"'>"+k.value+"</div>"}return"<div "+v+" data-assignment-cell data-empty  data-row-id='"+f.id+"' data-resource-id='"+f.$resource_id+"' data-task='"+f.$task_id+"' data-start-date='"+r.templates.format_date(o)+"''  data-end-date='"+r.templates.format_date(d)+"'>-</div>"}return""},renderSummaryLabel:function(o,d,f,_,m){var v=m.reduce(function(y,k){return y+Number(k.value)},0);return v%1&&(v=Math.round(10*v)/10),v?"<div>"+v+"</div>":""},editableResourceCellTemplate:function(o,d,f,_,m){return f.$role==="task"?n.renderEditableLabel(o,d,f,_,m):n.renderSummaryLabel(o,d,f,_,m)},editableResourceCellClass:function(o,d,f,_,m){var v=[];v.push("resource_marker"),f.$role==="task"?v.push("task_cell"):v.push("resource_cell");var y=m.reduce(function(x,w){return x+Number(w.value)},0),k=Number(f.capacity);return isNaN(k)&&(k=8),y<=k?v.push("workday_ok"):v.push("workday_over"),v.join(" ")},getSummaryResourceAssignments:function(o){var d,f=r.getDatastore(r.config.resource_store),_=f.getItem(o);return _.$role==="task"?d=r.getResourceAssignments(_.$resource_id,_.$task_id):(d=r.getResourceAssignments(o),f.eachItem&&f.eachItem(function(m){m.$role!=="task"&&(d=d.concat(r.getResourceAssignments(m.id)))},o)),d},initEditableDiagram:function(){r.config.resource_render_empty_cells=!0,function(){var o=null;function d(){return o&&cancelAnimationFrame(o),o=requestAnimationFrame(function(){r.$container&&Array.prototype.slice.call(r.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(f){f.contentEditable=!0})}),!0}r.attachEvent("onGanttReady",function(){r.getDatastore(r.config.resource_assignment_store).attachEvent("onStoreUpdated",d),r.getDatastore(r.config.resource_store).attachEvent("onStoreUpdated",d)},{once:!0}),r.attachEvent("onGanttLayoutReady",function(){r.$layout.getCellsByType("viewCell").forEach(function(f){f.$config&&f.$config.view==="resourceTimeline"&&f.$content&&f.$content.attachEvent("onScroll",d)})})}(),r.attachEvent("onGanttReady",function(){var o=!1;r.event(r.$container,"keypress",function(d){var f=d.target.closest(".resourceTimeline_cell [data-assignment-cell]");f&&(d.keyCode!==13&&d.keyCode!==27||f.blur())}),r.event(r.$container,"focusout",function(d){if(!o){o=!0,setTimeout(function(){o=!1},300);var f=d.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(f){var _=(f.innerText||"").trim();_=="-"&&(_="0");var m=Number(_),v=f.getAttribute("data-row-id"),y=f.getAttribute("data-assignment-id"),k=f.getAttribute("data-task"),x=f.getAttribute("data-resource-id"),w=r.templates.parse_date(f.getAttribute("data-start-date")),b=r.templates.parse_date(f.getAttribute("data-end-date")),S=r.getDatastore(r.config.resource_assignment_store);if(isNaN(m))r.getDatastore(r.config.resource_store).refresh(v);else{var T=r.getTask(k);if(r.plugins().undo&&r.ext.undo.saveState(k,"task"),y){if(m===($=S.getItem(y)).value)return;if($.start_date.valueOf()===w.valueOf()&&$.end_date.valueOf()===b.valueOf())$.value=m,m?S.updateItem($.id):S.removeItem($.id);else{if($.end_date.valueOf()>b.valueOf()){var N=r.copy($);N.id=r.uid(),N.start_date=b,N.duration=r.calculateDuration({start_date:N.start_date,end_date:N.end_date,task:T}),N.delay=r.calculateDuration({start_date:T.start_date,end_date:N.start_date,task:T}),N.mode=$.mode||"default",N.duration!==0&&S.addItem(N)}$.start_date.valueOf()<w.valueOf()?($.end_date=w,$.duration=r.calculateDuration({start_date:$.start_date,end_date:$.end_date,task:T}),$.mode="fixedDuration",$.duration===0?S.removeItem($.id):S.updateItem($.id)):S.removeItem($.id),m&&S.addItem({task_id:$.task_id,resource_id:$.resource_id,value:m,start_date:w,end_date:b,duration:r.calculateDuration({start_date:w,end_date:b,task:T}),delay:r.calculateDuration({start_date:T.start_date,end_date:w,task:T}),mode:"fixedDuration"})}r.updateTaskAssignments(T.id),r.updateTask(T.id)}else if(m){var $={task_id:k,resource_id:x,value:m,start_date:w,end_date:b,duration:r.calculateDuration({start_date:w,end_date:b,task:T}),delay:r.calculateDuration({start_date:T.start_date,end_date:w,task:T}),mode:"fixedDuration"};S.addItem($),r.updateTaskAssignments(T.id),r.updateTask(T.id)}}}}})},{once:!0})}};return n}(u),u.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(r){return r.parent=r.parent||u.config.root_id,r[u.config.resource_property]=r.parent,r.open=!0,r}},lightbox_resources:function(r){var n=[],o=u.getDatastore(u.config.resource_store);return r.forEach(function(d){if(!o.hasChild(d.id)){var f=u.copy(d);f.key=d.id,f.label=d.text,n.push(f)}}),n}},u.attachEvent("onBeforeGanttReady",function(){if(!u.getDatastore(u.config.resource_store)){var r=u.config.resources?u.config.resources.resource_store:void 0,n=r?r.fetchTasks:void 0;u.config.resources&&u.config.resources.editable_resource_diagram&&(n=!0);var o=function(f){return f.parent=f.parent||u.config.root_id,f[u.config.resource_property]=f.parent,f.open=!0,f};r&&r.initItem&&(o=r.initItem);var d=r&&r.type?r.type:"treeDatastore";u.$resourcesStore=u.createDatastore({name:u.config.resource_store,type:d,fetchTasks:n!==void 0&&n,initItem:o}),u.$data.resourcesStore=u.$resourcesStore,u.$resourcesStore.attachEvent("onParse",function(){var f=function(m){var v=[];return m.forEach(function(y){if(!u.$resourcesStore.hasChild(y.id)){var k=u.copy(y);k.key=y.id,k.label=y.text,v.push(k)}}),v};u.config.resources&&u.config.resources.lightbox_resources&&(f=u.config.resources.lightbox_resources);var _=f(u.$resourcesStore.getItems());u.updateCollection("resourceOptions",_)})}}),u.getTaskBy=h.getTaskBy,u.getResourceAssignments=h.getResourceAssignments,u.config.resource_property="owner_id",u.config.resource_store="resource",u.config.resource_render_empty_cells=!1,u.templates.histogram_cell_class=function(r,n,o,d,f){},u.templates.histogram_cell_label=function(r,n,o,d,f){return d.length+"/3"},u.templates.histogram_cell_allocated=function(r,n,o,d,f){return d.length/3},u.templates.histogram_cell_capacity=function(r,n,o,d,f){return 0};var a=function(r,n,o,d,f){return d.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},l=function(r,n,o,d,f){return 8*d.length};u.templates.resource_cell_value=l,u.templates.resource_cell_class=a,u.attachEvent("onBeforeGanttReady",function(){u.config.resources&&u.config.resources.editable_resource_diagram&&(u.config.resource_render_empty_cells=!0,u.templates.resource_cell_value===l&&(u.templates.resource_cell_value=u.ext.resources.editableResourceCellTemplate),u.templates.resource_cell_class===a&&(u.templates.resource_cell_class=u.ext.resources.editableResourceCellClass),u.ext.resources.initEditableDiagram(u))})}},function(s,g){s.exports=function(i){var p=function(u){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!u.getState().group_mode},_getWBSCode:function(h){return h?(this._isRecalcNeeded()&&this._calcWBS(),h.$virtual?"":this._isGroupSort()?h.$wbs||"":(h.$wbs||(this.reset(),this._calcWBS()),h.$wbs)):""},_setWBSCode:function(h,a){h.$wbs=a},getWBSCode:function(h){return this._getWBSCode(h)},getByWBSCode:function(h){for(var a=h.split("."),l=u.config.root_id,r=0;r<a.length;r++){var n=u.getChildren(l),o=1*a[r]-1;if(!u.isTaskExists(n[o]))return null;l=n[o]}return u.isTaskExists(l)?u.getTask(l):null},_calcWBS:function(){if(this._isRecalcNeeded()){var h=!0;u.eachTask(function(a){if(h)return h=!1,void this._setWBSCode(a,"1");var l=u.getPrevSibling(a.id);if(l!==null){var r=u.getTask(l).$wbs;r&&((r=r.split("."))[r.length-1]++,this._setWBSCode(a,r.join(".")))}else{var n=u.getParent(a.id);this._setWBSCode(a,u.getTask(n).$wbs+".1")}},u.config.root_id,this),this._needRecalc=!1}}}}(i);function c(){return p.reset(),!0}i.getWBSCode=function(u){return p.getWBSCode(u)},i.getTaskByWBSCode=function(u){return p.getByWBSCode(u)},i.attachEvent("onAfterTaskMove",c),i.attachEvent("onBeforeParse",c),i.attachEvent("onAfterTaskDelete",c),i.attachEvent("onAfterTaskAdd",c),i.attachEvent("onAfterSort",c)}},function(s,g,i){var p=i(21);function c(u){var h={},a=!1;function l(d,f){f=typeof f=="function"?f:function(){},h[d]||(h[d]=this[d],this[d]=f)}function r(d){h[d]&&(this[d]=h[d],h[d]=null)}function n(){for(var d in h)r.call(this,d)}function o(d){try{d()}catch(f){p.console.error(f)}}return u.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:a}},!1),function(d,f){if(a)o(d);else{var _,m=this._dp&&this._dp.updateMode!="off";m&&(_=this._dp.updateMode,this._dp.setUpdateMode("off"));var v={},y={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(x){v[x.id]=x}};for(var k in(function(x){for(var w in x)l.call(this,w,x[w])}).call(this,y),a=!0,this.callEvent("onBeforeBatchUpdate",[]),o(d),this.callEvent("onAfterBatchUpdate",[]),n.call(this),v)this.resetProjectDates(v[k]);a=!1,f||this.render(),m&&(this._dp.setUpdateMode(_),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}s.exports=function(u){u.batchUpdate=c(u)}},function(s,g,i){s.exports=function(p){p.ext||(p.ext={});for(var c=[i(222),i(221),i(220),i(219),i(218),i(217),i(216),i(214).default],u=0;u<c.length;u++)c[u]&&c[u](p)}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(0),c=function(){function u(){var h=this;this.clear=function(){h._storage={}},this.storeItem=function(a){h._storage[a.id]=p.copy(a)},this.getStoredItem=function(a){return h._storage[a]||null},this._storage={}}return u.create=function(){return new u},u}();g.default=c},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(p,c){p.getUserData=function(u,h,a){return this.userdata||(this.userdata={}),this.userdata[a]=this.userdata[a]||{},this.userdata[a][u]&&this.userdata[a][u][h]?this.userdata[a][u][h]:""},p.setUserData=function(u,h,a,l){this.userdata||(this.userdata={}),this.userdata[l]=this.userdata[l]||{},this.userdata[l][u]=this.userdata[l][u]||{},this.userdata[l][u][h]=a},p._change_id=function(u,h){switch(this._dp._ganttMode){case"task":this.changeTaskId(u,h);break;case"link":this.changeLinkId(u,h);break;case"assignment":this.$data.assignmentsStore.changeId(u,h);break;case"resource":this.$data.resourcesStore.changeId(u,h);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+h)}},p._row_style=function(u,h){this._dp._ganttMode==="task"&&p.isTaskExists(u)&&(p.getTask(u).$dataprocessor_class=h,p.refreshTask(u))},p._delete_task=function(u,h){},p._sendTaskOrder=function(u,h){h.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(u).target=h.$drop_target,this._dp.setUpdated(u,!0,"order"),delete this.getTask(u).$drop_target)},p.setDp=function(){this._dp=c},p.setDp()}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(2),c=function(){function u(h,a){this.$gantt=h,this.$dp=a,this._dataProcessorHandlers=[]}return u.prototype.attach=function(){var h=this,a=this.$dp,l=this.$gantt,r=i(45),n={},o=function(_){return h.clientSideDelete(_,a,l)};this._dataProcessorHandlers.push(l.attachEvent("onAfterTaskAdd",function(_,m){l.isTaskExists(_)&&(a.setGanttMode("tasks"),a.setUpdated(_,!0,"inserted"))})),this._dataProcessorHandlers.push(l.attachEvent("onAfterTaskUpdate",function(_,m){l.isTaskExists(_)&&(a.setGanttMode("tasks"),a.setUpdated(_,!0),l._sendTaskOrder&&l._sendTaskOrder(_,m))})),this._dataProcessorHandlers.push(l.attachEvent("onBeforeTaskDelete",function(_,m){return l.config.cascade_delete&&(n[_]={tasks:r.getSubtreeTasks(l,_),links:r.getSubtreeLinks(l,_)}),!a.deleteAfterConfirmation||(a.setGanttMode("tasks"),a.setUpdated(_,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(l.attachEvent("onAfterTaskDelete",function(_,m){a.setGanttMode("tasks");var v=!o(_),y=l.config.cascade_delete&&n[_];if(v||y){if(y){var k=a.updateMode;a.setUpdateMode("off");var x=n[_];for(var w in x.tasks)o(w)||(a.storeItem(x.tasks[w]),a.setUpdated(w,!0,"deleted"));for(var w in a.setGanttMode("links"),x.links)o(w)||(a.storeItem(x.links[w]),a.setUpdated(w,!0,"deleted"));n[_]=null,k!=="off"&&a.sendAllData(),a.setGanttMode("tasks"),a.setUpdateMode(k)}v&&(a.storeItem(m),a.deleteAfterConfirmation||a.setUpdated(_,!0,"deleted")),a.updateMode==="off"||a._tSend||a.sendAllData()}})),this._dataProcessorHandlers.push(l.attachEvent("onAfterLinkUpdate",function(_,m){l.isLinkExists(_)&&(a.setGanttMode("links"),a.setUpdated(_,!0))})),this._dataProcessorHandlers.push(l.attachEvent("onAfterLinkAdd",function(_,m){l.isLinkExists(_)&&(a.setGanttMode("links"),a.setUpdated(_,!0,"inserted"))})),this._dataProcessorHandlers.push(l.attachEvent("onAfterLinkDelete",function(_,m){a.setGanttMode("links"),!o(_)&&(a.storeItem(m),a.setUpdated(_,!0,"deleted"))})),this._dataProcessorHandlers.push(l.attachEvent("onRowDragEnd",function(_,m){l._sendTaskOrder(_,l.getTask(_))}));var d=null,f=null;this._dataProcessorHandlers.push(l.attachEvent("onTaskIdChange",function(_,m){if(a._waitMode){var v=l.getChildren(m);if(v.length){d=d||{};for(var y=0;y<v.length;y++){var k=this.getTask(v[y]);d[k.id]=k}}var x=function(b){var S=[];return b.$source&&(S=S.concat(b.$source)),b.$target&&(S=S.concat(b.$target)),S}(this.getTask(m));if(x.length)for(f=f||{},y=0;y<x.length;y++){var w=this.getLink(x[y]);f[w.id]=w}}})),a.attachEvent("onAfterUpdateFinish",function(){(d||f)&&(l.batchUpdate(function(){for(var _ in d)l.updateTask(d[_].id);for(var _ in f)l.updateLink(f[_].id);d=null,f=null}),d?l._dp.setGanttMode("tasks"):l._dp.setGanttMode("links"))}),a.attachEvent("onBeforeDataSending",function(){if(this._tMode==="CUSTOM")return!0;var _=this._serverProcessor;if(this._tMode==="REST-JSON"||this._tMode==="REST"){var m=this._ganttMode;_=_.substring(0,_.indexOf("?")>-1?_.indexOf("?"):_.length),this.serverProcessor=_+(_.slice(-1)==="/"?"":"/")+m}else{var v=this._ganttMode+"s";this.serverProcessor=_+l.ajax.urlSeparator(_)+"gantt_mode="+v}return!0}),a.attachEvent("insertCallback",function(_,m,v,y){var k=_.data||l.xml._xmlNodeToJSON(_.firstChild),x={add:l.addTask,isExist:l.isTaskExists};y==="links"&&(x.add=l.addLink,x.isExist=l.isLinkExists),x.isExist.call(l,m)||(k.id=m,x.add.call(l,k))}),a.attachEvent("updateCallback",function(_,m){var v=_.data||l.xml._xmlNodeToJSON(_.firstChild);if(l.isTaskExists(m)){var y=l.getTask(m);for(var k in v){var x=v[k];switch(k){case"id":continue;case"start_date":case"end_date":x=l.defined(l.templates.xml_date)?l.templates.xml_date(x):l.templates.parse_date(x);break;case"duration":y.end_date=l.calculateEndDate({start_date:y.start_date,duration:x,task:y})}y[k]=x}l.updateTask(m),l.refreshData()}}),a.attachEvent("deleteCallback",function(_,m,v,y){var k={delete:l.deleteTask,isExist:l.isTaskExists};y==="links"?(k.delete=l.deleteLink,k.isExist=l.isLinkExists):y==="assignment"&&(k.delete=function(x){l.$data.assignmentsStore.remove(x)},k.isExist=function(x){return l.$data.assignmentsStore.exists(x)}),k.isExist.call(l,m)&&k.delete.call(l,m)}),this.handleResourceCRUD(a,l),this.handleResourceAssignmentCRUD(a,l)},u.prototype.clientSideDelete=function(h,a,l){var r=a.updatedRows.slice(),n=!1;l.getUserData(h,"!nativeeditor_status",a._ganttMode)==="true_deleted"&&(n=!0,a.setUpdated(h,!1));for(var o=0;o<r.length&&!a._in_progress[h];o++)r[o]===h&&(l.getUserData(h,"!nativeeditor_status",a._ganttMode)==="inserted"&&(n=!0),a.setUpdated(h,!1));return n},u.prototype.handleResourceAssignmentCRUD=function(h,a){var l=this;if(a.config.resources&&a.config.resources.dataprocessor_assignments===!0){var r=a.getDatastore(a.config.resource_assignment_store),n={},o={};a.attachEvent("onBeforeTaskAdd",function(f,_){return n[f]=!0,!0}),a.attachEvent("onTaskIdChange",function(f,_){delete n[f]}),r.attachEvent("onAfterAdd",function(f,_){n[_.task_id]?function(m){o[m.id]=m,n[m.task_id]=!0}(_):d(_)}),r.attachEvent("onAfterUpdate",function(f,_){r.exists(f)&&(o[f]?d(_):(h.setGanttMode("assignment"),h.setUpdated(f,!0)))}),r.attachEvent("onAfterDelete",function(f,_){h.setGanttMode("assignment"),!l.clientSideDelete(f,h,a)&&(h.storeItem(_),h.setUpdated(f,!0,"deleted"))})}function d(f){var _=f.id;r.exists(_)&&(h.setGanttMode("assignment"),h.setUpdated(_,!0,"inserted")),delete o[_]}},u.prototype.handleResourceCRUD=function(h,a){var l=this;if(a.config.resources&&a.config.resources.dataprocessor_resources===!0){var r=a.getDatastore(a.config.resource_store);r.attachEvent("onAfterAdd",function(n,o){(function(d){var f=d.id;r.exists(f)&&(h.setGanttMode("resource"),h.setUpdated(f,!0,"inserted"))})(o)}),r.attachEvent("onAfterUpdate",function(n,o){r.exists(n)&&(h.setGanttMode("resource"),h.setUpdated(n,!0))}),r.attachEvent("onAfterDelete",function(n,o){h.setGanttMode("resource"),!l.clientSideDelete(n,h,a)&&(h.storeItem(o),h.setUpdated(n,!0,"deleted"))})}},u.prototype.detach=function(){var h=this;p.forEach(this._dataProcessorHandlers,function(a){h.$gantt.detachEvent(a)}),this._dataProcessorHandlers=[]},u}();g.default=c},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(5),c=i(2),u=i(0),h=i(226),a=i(225),l=i(224);g.createDataProcessor=function(n){var o,d,f;n instanceof Function?o=n:n.hasOwnProperty("router")?o=n.router:n.hasOwnProperty("assignment")||n.hasOwnProperty("link")||n.hasOwnProperty("task")?o=n:n.hasOwnProperty("headers")&&(f=n.headers),d=o?"CUSTOM":n.mode||"REST-JSON";var _=new r(n.url);return _.init(this),_.setTransactionMode({mode:d,router:o,headers:f},n.batchUpdate),n.deleteAfterConfirmation&&(_.deleteAfterConfirmation=n.deleteAfterConfirmation),_};var r=function(){function n(o){this.serverProcessor=o,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=l.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),p(this)}return n.prototype.setTransactionMode=function(o,d){typeof o=="object"?(this._tMode=o.mode||this._tMode,u.defined(o.headers)&&(this._headers=o.headers),u.defined(o.payload)&&(this._payload=o.payload),this._tSend=!!d):(this._tMode=o,this._tSend=d),this._tMode==="REST"&&(this._tSend=!1),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._router=o.router)},n.prototype.escape=function(o){return this._utf?encodeURIComponent(o):escape(o)},n.prototype.enableUTFencoding=function(o){this._utf=!!o},n.prototype.getSyncState=function(){return!this.updatedRows.length},n.prototype.setUpdateMode=function(o,d){this.autoUpdate=o==="cell",this.updateMode=o,this.dnd=d},n.prototype.ignore=function(o,d){this._silent_mode=!0,o.call(d||window),this._silent_mode=!1},n.prototype.setUpdated=function(o,d,f){if(!this._silent_mode){var _=this.findRow(o);f=f||"updated";var m=this.$gantt.getUserData(o,this.action_param,this._ganttMode);m&&f==="updated"&&(f=m),d?(this.set_invalid(o,!1),this.updatedRows[_]=o,this.$gantt.setUserData(o,this.action_param,f,this._ganttMode),this._in_progress[o]&&(this._in_progress[o]="wait")):this.is_invalid(o)||(this.updatedRows.splice(_,1),this.$gantt.setUserData(o,this.action_param,"",this._ganttMode)),this.markRow(o,d,f),d&&this.autoUpdate&&this.sendData(o)}},n.prototype.markRow=function(o,d,f){var _="",m=this.is_invalid(o);if(m&&(_=this.styles[m],d=!0),this.callEvent("onRowMark",[o,d,f,m])&&(_=this.styles[d?f:"clear"]+" "+_,this.$gantt[this._methods[0]](o,_),m&&m.details)){_+=this.styles[m+"_cell"];for(var v=0;v<m.details.length;v++)m.details[v]&&this.$gantt[this._methods[1]](o,v,_)}},n.prototype.getActionByState=function(o){return o==="inserted"?"create":o==="updated"?"update":o==="deleted"?"delete":"update"},n.prototype.getState=function(o){return this.$gantt.getUserData(o,this.action_param,this._ganttMode)},n.prototype.is_invalid=function(o){return this._invalid[o]},n.prototype.set_invalid=function(o,d,f){f&&(d={value:d,details:f,toString:function(){return this.value.toString()}}),this._invalid[o]=d},n.prototype.checkBeforeUpdate=function(o){return!0},n.prototype.sendData=function(o){var d=this;if(this.$gantt.editStop&&this.$gantt.editStop(),o===void 0||this._tSend){var f=[];if(this.modes&&["task","link","assignment"].forEach(function(m){d.modes[m]&&d.modes[m].updatedRows.length&&f.push(m)}),f.length){for(var _=0;_<f.length;_++)this.setGanttMode(f[_]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[o]&&(this.messages=[],!(!this.checkBeforeUpdate(o)&&this.callEvent("onValidationError",[o,this.messages]))&&void this._beforeSendData(this._getRowData(o),o))},n.prototype.serialize=function(o,d){if(this._serializeAsJson)return this._serializeAsJSON(o);if(typeof o=="string")return o;if(d!==void 0)return this.serialize_one(o,"");var f=[],_=[];for(var m in o)o.hasOwnProperty(m)&&(f.push(this.serialize_one(o[m],m+this._postDelim)),_.push(m));return f.push("ids="+this.escape(_.join(","))),this.$gantt.security_key&&f.push("dhx_security="+this.$gantt.security_key),f.join("&")},n.prototype.serialize_one=function(o,d){if(typeof o=="string")return o;var f=[],_="";for(var m in o)if(o.hasOwnProperty(m)){if((m==="id"||m==this.action_param)&&this._tMode==="REST")continue;_=typeof o[m]=="string"||typeof o[m]=="number"?o[m]:JSON.stringify(o[m]),f.push(this.escape((d||"")+m)+"="+this.escape(_))}return f.join("&")},n.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var o=!0;if(this._forEachUpdatedRow(function(d){o=o&&this.checkBeforeUpdate(d)}),!o&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(d){if(!this._in_progress[d]){if(this.is_invalid(d))return;this._beforeSendData(this._getRowData(d),d)}})}},n.prototype.findRow=function(o){var d=0;for(d=0;d<this.updatedRows.length&&o!=this.updatedRows[d];d++);return d},n.prototype.defineAction=function(o,d){this._uActions||(this._uActions={}),this._uActions[o]=d},n.prototype.afterUpdateCallback=function(o,d,f,_,m){var v=this;if(this.$gantt){this.setGanttMode(m);var y=o,k=f!=="error"&&f!=="invalid";if(k||this.set_invalid(o,f),this._uActions&&this._uActions[f]&&!this._uActions[f](_))return delete this._in_progress[y];this._in_progress[y]!=="wait"&&this.setUpdated(o,!1);var x=o;switch(f){case"inserted":case"insert":d!=o&&(this.setUpdated(o,!1),this.$gantt[this._methods[2]](o,d),o=d);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&this._ganttMode==="task"){if(this._ganttMode==="task"&&this.$gantt.isTaskExists(o)){this.$gantt.setUserData(o,this.action_param,"true_deleted",this._ganttMode);var w=this.$gantt.getTask(o);this.$gantt.silent(function(){v.$gantt.deleteTask(o)}),this.$gantt.callEvent("onAfterTaskDelete",[o,w]),this.$gantt.render(),delete this._in_progress[y]}return this.callEvent("onAfterUpdate",[o,f,d,_])}return this.$gantt.setUserData(o,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](o),delete this._in_progress[y],this.callEvent("onAfterUpdate",[o,f,d,_])}this._in_progress[y]!=="wait"?(k&&this.$gantt.setUserData(o,this.action_param,"",this._ganttMode),delete this._in_progress[y]):(delete this._in_progress[y],this.setUpdated(d,!0,this.$gantt.getUserData(o,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[x,f,d,_])}},n.prototype.afterUpdate=function(o,d,f){var _,m=this;_=arguments.length===3?arguments[1]:arguments[4];var v=this.getGanttMode(),y=_.filePath||_.url;v=this._tMode!=="REST"&&this._tMode!=="REST-JSON"?y.indexOf("gantt_mode=links")!==-1?"link":y.indexOf("gantt_mode=assignments")!==-1?"assignment":"task":y.indexOf("/link")>=0?"link":y.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(v);var k,x=this.$gantt.ajax;try{k=JSON.parse(d.xmlDoc.responseText)}catch{d.xmlDoc.responseText.length||(k={})}var w=function(P){var I=k.action||m.getState(P)||"updated",O=k.sid||P[0],B=k.tid||P[0];o.afterUpdateCallback(O,B,I,k,v)};if(k)return Array.isArray(f)&&f.length>1?f.forEach(function(P){return w(P)}):w(f),o.finalizeUpdate(),void this.setGanttMode(v);var b=x.xmltop("data",d.xmlDoc);if(!b)return this.cleanUpdate(f);var S=x.xpath("//data/action",b);if(!S.length)return this.cleanUpdate(f);for(var T=0;T<S.length;T++){var N=S[T],$=N.getAttribute("type"),E=N.getAttribute("sid"),D=N.getAttribute("tid");o.afterUpdateCallback(E,D,$,N,v)}o.finalizeUpdate()},n.prototype.cleanUpdate=function(o){if(o)for(var d=0;d<o.length;d++)delete this._in_progress[o[d]]},n.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},n.prototype.init=function(o){if(!this._initialized){this.$gantt=o,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],a.default(this.$gantt,this);var d=new h.default(this.$gantt,this);d.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,d.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},n.prototype.setOnAfterUpdate=function(o){this.attachEvent("onAfterUpdate",o)},n.prototype.setOnBeforeUpdateHandler=function(o){this.attachEvent("onBeforeDataSending",o)},n.prototype.setAutoUpdate=function(o,d){var f=this;o=o||2e3,this._user=d||new Date().valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){f.loadUpdate()},o)},n.prototype.afterAutoUpdate=function(o,d,f,_){return d!=="collision"||(this._needUpdate=!0,!1)},n.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},n.prototype.getUpdates=function(o,d){var f=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,f.get(o,d)},n.prototype.loadUpdate=function(){var o=this,d=this.$gantt.ajax,f=this.$gantt.getUserData(0,"version",this._ganttMode),_=this.serverProcessor+d.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+f].join("&");_=_.replace("editing=true&",""),this.getUpdates(_,function(m){var v=d.xpath("//userdata",m);o.$gantt.setUserData(0,"version",o._getXmlNodeValue(v[0]),o._ganttMode);var y=d.xpath("//update",m);if(y.length){o._silent_mode=!0;for(var k=0;k<y.length;k++){var x=y[k].getAttribute("status"),w=y[k].getAttribute("id"),b=y[k].getAttribute("parent");switch(x){case"inserted":o.callEvent("insertCallback",[y[k],w,b]);break;case"updated":o.callEvent("updateCallback",[y[k],w,b]);break;case"deleted":o.callEvent("deleteCallback",[y[k],w,b])}}o._silent_mode=!1}o._updateBusy=!1})},n.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},n.prototype.setGanttMode=function(o){o==="tasks"?o="task":o==="links"&&(o="link");var d=this.modes||{},f=this.getGanttMode();f&&(d[f]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var _=d[o];_||(_=d[o]={_in_progress:{},_invalid:{},_storage:l.default.create(),updatedRows:[]}),this._in_progress=_._in_progress,this._invalid=_._invalid,this._storage=_._storage,this.updatedRows=_.updatedRows,this.modes=d,this._ganttMode=o},n.prototype.getGanttMode=function(){return this._ganttMode},n.prototype.storeItem=function(o){this._storage.storeItem(o)},n.prototype.url=function(o){this.serverProcessor=this._serverProcessor=o},n.prototype._beforeSendData=function(o,d){if(!this.callEvent("onBeforeUpdate",[d,this.getState(d),o]))return!1;this._sendData(o,d)},n.prototype._serializeAsJSON=function(o){if(typeof o=="string")return o;var d=u.copy(o);return this._tMode==="REST-JSON"&&(delete d.id,delete d[this.action_param]),JSON.stringify(d)},n.prototype._applyPayload=function(o){var d=this.$gantt.ajax;if(this._payload)for(var f in this._payload)o=o+d.urlSeparator(o)+this.escape(f)+"="+this.escape(this._payload[f]);return o},n.prototype._cleanupArgumentsBeforeSend=function(o){var d;if(o[this.action_param]===void 0)for(var f in d={},o)d[f]=this._cleanupArgumentsBeforeSend(o[f]);else d=this._cleanupItemBeforeSend(o);return d},n.prototype._cleanupItemBeforeSend=function(o){var d=null;return o&&(o[this.action_param]==="deleted"?((d={}).id=o.id,d[this.action_param]=o[this.action_param]):d=o),d},n.prototype._sendData=function(o,d){var f=this;if(o){if(!this.callEvent("onBeforeDataSending",d?[d,this.getState(d),o]:[null,null,o]))return!1;d&&(this._in_progress[d]=new Date().valueOf());var _=this.$gantt.ajax;if(this._tMode!=="CUSTOM"){var m;m={callback:function(O){var B=[];if(d)B.push(d);else if(o)for(var R in o)B.push(R);return f.afterUpdate(f,O,B)},headers:this._headers};var v,y="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),k=this.serverProcessor+(this._user?_.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,y].join("&"):""),x=this._applyPayload(k);switch(this._tMode){case"GET":v=this._cleanupArgumentsBeforeSend(o),m.url=x+_.urlSeparator(x)+this.serialize(v,d),m.method="GET";break;case"POST":v=this._cleanupArgumentsBeforeSend(o),m.url=x,m.method="POST",m.data=this.serialize(v,d);break;case"JSON":v={};var w=this._cleanupItemBeforeSend(o);for(var b in w)b!==this.action_param&&b!=="id"&&b!=="gr_id"&&(v[b]=w[b]);m.url=x,m.method="POST",m.data=JSON.stringify({id:d,action:o[this.action_param],data:v});break;case"REST":case"REST-JSON":switch(x=k.replace(/(&|\?)editing=true/,""),v="",this.getState(d)){case"inserted":m.method="POST",m.data=this.serialize(o,d);break;case"deleted":m.method="DELETE",x=x+(x.slice(-1)==="/"?"":"/")+d;break;default:m.method="PUT",m.data=this.serialize(o,d),x=x+(x.slice(-1)==="/"?"":"/")+d}m.url=this._applyPayload(x)}return this._waitMode++,_.query(m)}var S=this.getState(d),T=this.getActionByState(S),N=this.getGanttMode(),$=function(O){var B=S||"updated",R=d,H=d;O&&(B=O.action||S,R=O.sid||R,H=O.id||O.tid||H),f.afterUpdateCallback(R,H,B,O,N)},E=void 0;if(this._router instanceof Function)if(this._routerParametersFormat==="object"){var D={entity:N,action:T,data:o,id:d};E=this._router(D)}else E=this._router(N,T,o,d);else if(this._router[N]instanceof Function)E=this._router[N](T,o,d);else{var P="Incorrect configuration of gantt.createDataProcessor",I=`
You need to either add missing properties to the dataProcessor router object or to use a router function.
See https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.`;if(!this._router[N])throw new Error(P+": router for the **"+N+"** entity is not defined. "+I);switch(S){case"inserted":if(!this._router[N].create)throw new Error(P+": **create** action for the **"+N+"** entity is not defined. "+I);E=this._router[N].create(o);break;case"deleted":if(!this._router[N].delete)throw new Error(P+": **delete** action for the **"+N+"** entity is not defined. "+I);E=this._router[N].delete(d);break;default:if(!this._router[N].update)throw new Error(P+': **update**" action for the **'+N+"** entity is not defined. "+I);E=this._router[N].update(o,d)}}if(E){if(!E.then&&E.id===void 0&&E.tid===void 0&&E.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");E.then?E.then($).catch(function(O){O&&O.action?$(O):$({action:"error",value:O})}):$(E)}else $(null)}},n.prototype._forEachUpdatedRow=function(o){for(var d=this.updatedRows.slice(),f=0;f<d.length;f++){var _=d[f];this.$gantt.getUserData(_,this.action_param,this._ganttMode)&&o.call(this,_)}},n.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},n.prototype._getXmlNodeValue=function(o){return o.firstChild?o.firstChild.nodeValue:""},n.prototype._getAllData=function(){var o={},d=!1;return this._forEachUpdatedRow(function(f){if(!this._in_progress[f]&&!this.is_invalid(f)){var _=this._getRowData(f);this.callEvent("onBeforeUpdate",[f,this.getState(f),_])&&(o[f]=_,d=!0,this._in_progress[f]=new Date().valueOf())}}),d?o:null},n.prototype._prepareDate=function(o){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(o):this.$gantt.templates.format_date(o)},n.prototype._prepareArray=function(o,d){var f=this;return d.push(o),o.map(function(_){return c.isDate(_)?f._prepareDate(_):Array.isArray(_)&&!c.arrayIncludes(d,_)?f._prepareArray(_,d):_&&typeof _=="object"&&!c.arrayIncludes(d,_)?f._prepareObject(_,d):_})},n.prototype._prepareObject=function(o,d){var f={};for(var _ in d.push(o),o)if(_.substr(0,1)!=="$"){var m=o[_];c.isDate(m)?f[_]=this._prepareDate(m):m===null?f[_]="":Array.isArray(m)&&!c.arrayIncludes(d,m)?f[_]=this._prepareArray(m,d):m&&typeof m=="object"&&!c.arrayIncludes(d,m)?f[_]=this._prepareObject(m,d):f[_]=m}return f},n.prototype._prepareDataItem=function(o){var d=this._prepareObject(o,[]);return d[this.action_param]=this.$gantt.getUserData(o.id,this.action_param,this._ganttMode),d},n.prototype.getStoredItem=function(o){return this._storage.getStoredItem(o)},n.prototype._getRowData=function(o){var d,f=this.$gantt;return this.getGanttMode()==="task"?f.isTaskExists(o)&&(d=this.$gantt.getTask(o)):this.getGanttMode()==="assignment"?this.$gantt.$data.assignmentsStore.exists(o)&&(d=this.$gantt.$data.assignmentsStore.getItem(o)):f.isLinkExists(o)&&(d=this.$gantt.getLink(o)),d||(d=this.getStoredItem(o)),d||(d={id:o}),this._prepareDataItem(d)},n}();g.DataProcessor=r},function(s,g,i){var p=i(227);s.exports={DEPRECATED_api:function(c){return new p.DataProcessor(c)},createDataProcessor:p.createDataProcessor,getDataProcessorModes:p.getAvailableModes}},function(s,g,i){var p=i(15);s.exports={bindDataStore:function(c,u){var h=u.getDatastore(c),a=function(o,d){var f=d.getLayers(),_=h.getItem(o);if(_&&h.isVisible(o))for(var m=0;m<f.length;m++)f[m].render_item(_)},l=function(o){for(var d=o.getLayers(),f=0;f<d.length;f++)d[f].clear();for(var _=null,m={},v=0;v<d.length;v++){var y=d[v],k=void 0;if(y.get_visible_range){var x=y.get_visible_range(h);if(x.start!==void 0&&x.end!==void 0){var w=x.start+" - "+x.end;m[w]?k=m[w]:(k=h.getIndexRange(x.start,x.end),m[w]=k)}else{if(x.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");k=x.ids.map(function(b){return h.getItem(b)})}}else _||(_=h.getVisibleItems()),k=_;y.prepare_data&&y.prepare_data(k),d[v].render_items(k)}},r=function(o){if(o.update_items){var d=[];if(o.get_visible_range){var f=o.get_visible_range(h);if(f.start!==void 0&&f.end!==void 0&&(d=h.getIndexRange(f.start,f.end)),f.ids!==void 0){var _=f.ids.map(function(m){return h.getItem(m)});_.length>0&&(_=_.filter(function(m){return m!==void 0}),d=d.concat(_))}if((f.start==null||f.end==null)&&f.ids==null)throw new Error("Invalid range returned from 'getVisibleRange' of the layer")}else d=h.getVisibleItems();o.prepare_data&&o.prepare_data(d,o),o.update_items(d)}};function n(o){return!!o.$services.getService("state").getState("batchUpdate").batch_update}h.attachEvent("onStoreUpdated",function(o,d,f){if(p(u))return!0;var _=u.$services.getService("layers").getDataRender(c);_&&(_.onUpdateRequest=function(m){r(m)})}),h.attachEvent("onStoreUpdated",function(o,d,f){n(u)||(o&&f!="move"&&f!="delete"?(h.callEvent("onBeforeRefreshItem",[d.id]),h.callEvent("onAfterRefreshItem",[d.id])):(h.callEvent("onBeforeRefreshAll",[]),h.callEvent("onAfterRefreshAll",[])))}),h.attachEvent("onAfterRefreshAll",function(){if(p(u))return!0;var o=u.$services.getService("layers").getDataRender(c);o&&!n(u)&&l(o)}),h.attachEvent("onAfterRefreshItem",function(o){if(p(u))return!0;var d=u.$services.getService("layers").getDataRender(c);d&&a(o,d)}),h.attachEvent("onItemOpen",function(){if(p(u))return!0;u.render()}),h.attachEvent("onItemClose",function(){if(p(u))return!0;u.render()}),h.attachEvent("onIdChange",function(o,d){if(p(u))return!0;if(h.callEvent("onBeforeIdChange",[o,d]),!n(u)&&!h.isSilent()){var f=u.$services.getService("layers").getDataRender(c);f?(function(_,m,v,y){for(var k=0;k<_.length;k++)_[k].change_id(m,v)}(f.getLayers(),o,d,h.getItem(d)),a(d,f)):u.render()}})}}},function(s,g){s.exports=function(i){var p=null,c=i._removeItemInner;function u(h){p=null,this.callEvent("onAfterUnselect",[h])}return i._removeItemInner=function(h){return p==h&&u.call(this,h),p&&this.eachItem&&this.eachItem(function(a){a.id==p&&u.call(this,a.id)},h),c.apply(this,arguments)},i.attachEvent("onIdChange",function(h,a){i.getSelectedId()==h&&i.silent(function(){i.unselect(h),i.select(a)})}),{select:function(h){if(h){if(p==h)return p;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[h]))return!1;this.unselect(),p=h,this._skip_refresh||(this.refresh(h),this.callEvent("onAfterSelect",[h]))}return p},getSelectedId:function(){return p},isSelected:function(h){return h==p},unselect:function(h){(h=h||p)&&(p=null,this._skip_refresh||(this.refresh(h),u.call(this,h)))}}}},function(s,g,i){var p=i(0);s.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(c){return this.$data.linksStore.getItem(c)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(c){return this.$data.linksStore.exists(c)},addLink:function(c){var u=this.$data.linksStore.addItem(c);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(u),u},updateLink:function(c,u){p.defined(u)||(u=this.getLink(c)),this.$data.linksStore.updateItem(c,u)},deleteLink:function(c){return this.$data.linksStore.removeItem(c)},changeLinkId:function(c,u){return this.$data.linksStore.changeId(c,u)}}}},function(s,g,i){var p=i(0),c=i(2).replaceValidZeroId;s.exports=function(){return{getTask:function(u){u=c(u,this.config.root_id),this.assert(u,"Invalid argument for gantt.getTask");var h=this.$data.tasksStore.getItem(u);return this.assert(h,"Task not found id="+u),h},getTaskByTime:function(u,h){var a=this.$data.tasksStore.getItems(),l=[];if(u||h){u=+u||-1/0,h=+h||1/0;for(var r=0;r<a.length;r++){var n=a[r];+n.start_date<h&&+n.end_date>u&&l.push(n)}}else l=a;return l},isTaskExists:function(u){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(u)},updateTask:function(u,h){p.defined(h)||(h=this.getTask(u)),this.$data.tasksStore.updateItem(u,h),this.isTaskExists(u)&&this.refreshTask(u)},addTask:function(u,h,a){return p.defined(u.id)||(u.id=p.uid()),this.isTaskExists(u.id)&&this.getTask(u.id).$index!=u.$index?(u.start_date&&typeof u.start_date=="string"&&(u.start_date=this.date.parseDate(u.start_date,"parse_date")),u.end_date&&typeof u.end_date=="string"&&(u.end_date=this.date.parseDate(u.end_date,"parse_date")),this.$data.tasksStore.updateItem(u.id,u)):(p.defined(h)||(h=this.getParent(u)||0),this.isTaskExists(h)||(h=this.config.root_id),this.setParent(u,h),this.$data.tasksStore.addItem(u,a,h))},deleteTask:function(u){return u=c(u,this.config.root_id),this.$data.tasksStore.removeItem(u)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(u){return this.$data.tasksStore.getBranchIndex(u)},getGlobalTaskIndex:function(u){return u=c(u,this.config.root_id),this.assert(u,"Invalid argument"),this.$data.tasksStore.getIndexById(u)},eachTask:function(u,h,a){return this.$data.tasksStore.eachItem(p.bind(u,a||this),h)},eachParent:function(u,h,a){return this.$data.tasksStore.eachParent(p.bind(u,a||this),h)},changeTaskId:function(u,h){this.$data.tasksStore.changeId(u,h);var a=this.$data.tasksStore.getItem(h),l=[];a.$source&&(l=l.concat(a.$source)),a.$target&&(l=l.concat(a.$target));for(var r=0;r<l.length;r++){var n=this.getLink(l[r]);n.source==u&&(n.source=h),n.target==u&&(n.target=h)}},calculateTaskLevel:function(u){return this.$data.tasksStore.calculateItemLevel(u)},getNext:function(u){return this.$data.tasksStore.getNext(u)},getPrev:function(u){return this.$data.tasksStore.getPrev(u)},getParent:function(u){return this.$data.tasksStore.getParent(u)},setParent:function(u,h,a){return this.$data.tasksStore.setParent(u,h,a)},getSiblings:function(u){return this.$data.tasksStore.getSiblings(u).slice()},getNextSibling:function(u){return this.$data.tasksStore.getNextSibling(u)},getPrevSibling:function(u){return this.$data.tasksStore.getPrevSibling(u)},getTaskByIndex:function(u){var h=this.$data.tasksStore.getIdByIndex(u);return this.isTaskExists(h)?this.getTask(h):null},getChildren:function(u){return this.hasChild(u)?this.$data.tasksStore.getChildren(u).slice():[]},hasChild:function(u){return this.$data.tasksStore.hasChild(u)},open:function(u){this.$data.tasksStore.open(u)},close:function(u){this.$data.tasksStore.close(u)},moveTask:function(u,h,a){return a=c(a,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(u,h,a,l){var r=!l;this.$data.tasksStore.sort(u,h,a),this.callEvent("onAfterSort",[u,h,a]),r&&this.render()}}}},function(s,g,i){var p=i(0),c=i(232),u=i(231),h=i(49),a=i(47),l=i(230),r=i(229),n=i(15),o=i(2).replaceValidZeroId;function d(){for(var _=this.$services.getService("datastores"),m=[],v=0;v<_.length;v++){var y=this.getDatastore(_[v]);y.$destroyed||m.push(y)}return m}h.default&&(h=h.default);var f=function(){return{createDatastore:function(_){var m=(_.type||"").toLowerCase()=="treedatastore"?a:h;if(_){var v=this;_.openInitially=function(){return v.config.open_tree_initially},_.copyOnParse=function(){return v.config.deepcopy_on_parse}}var y=new m(_);if(this.mixin(y,l(y)),_.name){var k="datastore:"+_.name;y.attachEvent("onDestroy",(function(){this.$services.dropService(k);for(var w=this.$services.getService("datastores"),b=0;b<w.length;b++)if(w[b]===_.name){w.splice(b,1);break}}).bind(this)),this.$services.dropService(k),this.$services.setService(k,function(){return y});var x=this.$services.getService("datastores");x?x.indexOf(_.name)<0&&x.push(_.name):(x=[],this.$services.setService("datastores",function(){return x}),x.push(_.name)),r.bindDataStore(_.name,this)}return y},getDatastore:function(_){return this.$services.getService("datastore:"+_)},_getDatastores:d,refreshData:function(){var _;n(this)||(_=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var m=d.call(this),v=0;v<m.length;v++)m[v].refresh();this.config.preserve_scroll&&!n(this)&&(_.x||_.y)&&this.scrollTo(_.x,_.y),this.callEvent("onDataRender",[])},isChildOf:function(_,m){return this.$data.tasksStore.isChildOf(_,m)},refreshTask:function(_,m){var v=this.getTask(_),y=this;function k(){if(m===void 0||m){for(var w=0;w<v.$source.length;w++)y.refreshLink(v.$source[w]);for(w=0;w<v.$target.length;w++)y.refreshLink(v.$target[w])}}if(v&&this.isTaskVisible(_))this.$data.tasksStore.refresh(_,!!this.getState("tasksDnd").drag_id||m===!1),k();else if(this.isTaskExists(_)&&this.isTaskExists(this.getParent(_))&&!this._bulk_dnd){this.refreshTask(this.getParent(_));var x=!1;this.eachParent(function(w){(x||this.isSplitTask(w))&&(x=!0)},_),x&&k()}},refreshLink:function(_){this.$data.linksStore.refresh(_,!!this.getState("tasksDnd").drag_id)},silent:function(_){var m=this;m.$data.tasksStore.silent(function(){m.$data.linksStore.silent(function(){_()})})},clearAll:function(){for(var _=d.call(this),m=0;m<_.length;m++)_[m].silent(function(){_[m].clearAll()});for(m=0;m<_.length;m++)_[m].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(_){var m=this.$data.tasksStore;if(!this.config.select_task)return!1;if(_=o(_,this.config.root_id)){var v=this.getSelectedId();m._skipResourceRepaint=!0,m.select(_),m._skipResourceRepaint=!1,v&&m.pull[v].$split_subtask&&v!=_&&this.refreshTask(v),m.pull[_].$split_subtask&&v!=_&&this.refreshTask(_)}return m.getSelectedId()},unselectTask:function(_){var m=this.$data.tasksStore;m.unselect(_),_&&m.pull[_].$split_subtask&&this.refreshTask(_)},isSelectedTask:function(_){return this.$data.tasksStore.isSelected(_)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}}};s.exports={create:function(){var _=p.mixin({},f());return p.mixin(_,c()),p.mixin(_,u()),_}}},function(s,g,i){var p=i(0),c=i(233),u=i(46),h=i(16);s.exports=function(a){var l=c.create();p.mixin(a,l);var r=a.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return a.config.root_id},initItem:p.bind(function(v){this.defined(v.id)||(v.id=this.uid()),v.start_date&&(v.start_date=a.date.parseDate(v.start_date,"parse_date")),v.end_date&&(v.end_date=a.date.parseDate(v.end_date,"parse_date"));var y=null;(v.duration||v.duration===0)&&(v.duration=y=1*v.duration),y&&(v.start_date&&!v.end_date?v.end_date=this.calculateEndDate(v):!v.start_date&&v.end_date&&(v.start_date=this.calculateEndDate({start_date:v.end_date,duration:-v.duration,task:v}))),v.progress=Number(v.progress)||0,this._isAllowedUnscheduledTask(v)&&this._set_default_task_timing(v),this._init_task_timing(v),v.start_date&&v.end_date&&this.correctTaskWorkTime(v),v.$source=[],v.$target=[];var k=this.$data.tasksStore.getItem(v.id);return k&&!p.defined(v.open)&&(v.$open=k.$open),v.parent===void 0&&(v.parent=this.config.root_id),v},a),getConfig:function(){return a.config}}),n=a.createDatastore({name:"link",initItem:p.bind(function(v){return this.defined(v.id)||(v.id=this.uid()),v},a)});function o(v){var y=a.isTaskVisible(v);if(!y&&a.isTaskExists(v)){var k=a.getParent(v);a.isTaskExists(k)&&a.isTaskVisible(k)&&(k=a.getTask(k),a.isSplitTask(k)&&(y=!0))}return y}function d(v){if(a.isTaskExists(v.source)){var y=a.getTask(v.source);y.$source=y.$source||[],y.$source.push(v.id)}if(a.isTaskExists(v.target)){var k=a.getTask(v.target);k.$target=k.$target||[],k.$target.push(v.id)}}function f(v){if(a.isTaskExists(v.source)){for(var y=a.getTask(v.source),k=0;k<y.$source.length;k++)if(y.$source[k]==v.id){y.$source.splice(k,1);break}}if(a.isTaskExists(v.target)){var x=a.getTask(v.target);for(k=0;k<x.$target.length;k++)if(x.$target[k]==v.id){x.$target.splice(k,1);break}}}function _(){for(var v=null,y=a.$data.tasksStore.getItems(),k=0,x=y.length;k<x;k++)(v=y[k]).$source=[],v.$target=[];var w=a.$data.linksStore.getItems();for(k=0,x=w.length;k<x;k++)d(w[k])}function m(v){var y=v.source,k=v.target;for(var x in v.events)(function(w,b){y.attachEvent(w,function(){return k.callEvent(b,Array.prototype.slice.call(arguments))},b)})(x,v.events[x])}a.attachEvent("onDestroy",function(){r.destructor(),n.destructor()}),a.attachEvent("onLinkValidation",function(v){if(a.isLinkExists(v.id)||v.id==="predecessor_generated")return!0;for(var y=a.getTask(v.source).$source,k=0;k<y.length;k++){var x=a.getLink(y[k]),w=v.source==x.source,b=v.target==x.target,S=v.type==x.type;if(w&&b&&S)return!1}return!0}),r.attachEvent("onBeforeRefreshAll",function(){if(!r._skipTaskRecalculation)for(var v=r.getVisibleItems(),y=0;y<v.length;y++){var k=v[y];k.$index=y,k.$local_index=a.getTaskIndex(k.id),a.resetProjectDates(k)}}),r.attachEvent("onFilterItem",function(v,y){if(a.config.show_tasks_outside_timescale)return!0;var k=null,x=null;if(a.config.start_date&&a.config.end_date){if(a._isAllowedUnscheduledTask(y))return!0;if(k=a.config.start_date.valueOf(),x=a.config.end_date.valueOf(),+y.start_date>x||+y.end_date<+k)return!1}return!0}),r.attachEvent("onIdChange",function(v,y){a._update_flags(v,y);var k=a.getTask(y);r.isSilent()||(k.$split_subtask||k.rollup)&&a.eachParent(function(x){a.refreshTask(x.id)},y)}),r.attachEvent("onAfterUpdate",function(v){if(a._update_parents(v),a.getState("batchUpdate").batch_update)return!0;var y=r.getItem(v);y.$source||(y.$source=[]);for(var k=0;k<y.$source.length;k++)n.refresh(y.$source[k]);for(y.$target||(y.$target=[]),k=0;k<y.$target.length;k++)n.refresh(y.$target[k])}),r.attachEvent("onBeforeItemMove",function(v,y,k){return!h(v,a,r)||(console.log("The placeholder task cannot be moved to another position."),!1)}),r.attachEvent("onAfterItemMove",function(v,y,k){var x=a.getTask(v);this.getNextSibling(v)!==null?x.$drop_target=this.getNextSibling(v):this.getPrevSibling(v)!==null?x.$drop_target="next:"+this.getPrevSibling(v):x.$drop_target="next:null"}),r.attachEvent("onStoreUpdated",function(v,y,k){if(k=="delete"&&a._update_flags(v,null),!a.$services.getService("state").getState("batchUpdate").batch_update){if(a.config.fit_tasks&&k!=="paint"){var x=a.getState();u(a);var w=a.getState();if(+x.min_date!=+w.min_date||+x.max_date!=+w.max_date)return a.render(),a.callEvent("onScaleAdjusted",[]),!0}k=="add"||k=="move"||k=="delete"?a.$layout&&(this.$config.name!="task"||k!="add"&&k!="delete"||this._skipTaskRecalculation!="lightbox"&&(this._skipTaskRecalculation=!0),a.$layout.resize()):v||n.refresh()}}),n.attachEvent("onAfterAdd",function(v,y){d(y)}),n.attachEvent("onAfterUpdate",function(v,y){_()}),n.attachEvent("onAfterDelete",function(v,y){f(y)}),n.attachEvent("onAfterSilentDelete",function(v,y){f(y)}),n.attachEvent("onBeforeIdChange",function(v,y){f(a.mixin({id:v},a.$data.linksStore.getItem(y))),d(a.$data.linksStore.getItem(y))}),n.attachEvent("onFilterItem",function(v,y){if(!a.config.show_links)return!1;var k=o(y.source),x=o(y.target);return!(!k||!x||a._isAllowedUnscheduledTask(a.getTask(y.source))||a._isAllowedUnscheduledTask(a.getTask(y.target)))&&a.callEvent("onBeforeLinkDisplay",[v,y])}),function(){var v=i(45),y={};a.attachEvent("onBeforeTaskDelete",function(k,x){return y[k]=v.getSubtreeLinks(a,k),!0}),a.attachEvent("onAfterTaskDelete",function(k,x){y[k]&&a.$data.linksStore.silent(function(){for(var w in y[k])a.isLinkExists(w)&&a.$data.linksStore.removeItem(w),f(y[k][w]);y[k]=null})})}(),a.attachEvent("onAfterLinkDelete",function(v,y){a.refreshTask(y.source),a.refreshTask(y.target)}),a.attachEvent("onParse",_),m({source:n,target:a,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),m({source:r,target:a,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),a.$data={tasksStore:r,linksStore:n}}},function(s,g,i){(function(p,c,u){var h,a,l;function r(n){"@babel/helpers - typeof";return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(n){r(g)=="object"&&s!==void 0?s.exports=n():(a=[],(l=typeof(h=n)=="function"?h.apply(g,a):h)===void 0||(s.exports=l))})(function(){return function n(o,d,f){function _(y,k){if(!d[y]){if(!o[y]){var x=typeof _dereq_=="function"&&_dereq_;if(!k&&x)return x(y,!0);if(m)return m(y,!0);var w=new Error("Cannot find module '"+y+"'");throw w.code="MODULE_NOT_FOUND",w}var b=d[y]={exports:{}};o[y][0].call(b.exports,function(S){var T=o[y][1][S];return _(T||S)},b,b.exports,n,o,d,f)}return d[y].exports}for(var m=typeof _dereq_=="function"&&_dereq_,v=0;v<f.length;v++)_(f[v]);return _}({1:[function(n,o,d){o.exports=function(f){var _=f._SomePromiseArray;function m(v){var y=new _(v),k=y.promise();return y.setHowMany(1),y.setUnwrap(),y.init(),k}f.any=function(v){return m(v)},f.prototype.any=function(){return m(this)}}},{}],2:[function(n,o,d){var f;try{throw new Error}catch(T){f=T}var _=n("./schedule"),m=n("./queue"),v=n("./util");function y(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new m(16),this._normalQueue=new m(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var T=this;this.drainQueues=function(){T._drainQueues()},this._schedule=_}function k(T,N,$){this._lateQueue.push(T,N,$),this._queueTick()}function x(T,N,$){this._normalQueue.push(T,N,$),this._queueTick()}function w(T){this._normalQueue._pushOne(T),this._queueTick()}function b(T){for(;T.length()>0;)S(T)}function S(T){var N=T.shift();if(typeof N!="function")N._settlePromises();else{var $=T.shift(),E=T.shift();N.call($,E)}}y.prototype.setScheduler=function(T){var N=this._schedule;return this._schedule=T,this._customScheduler=!0,N},y.prototype.hasCustomScheduler=function(){return this._customScheduler},y.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},y.prototype.disableTrampolineIfNecessary=function(){v.hasDevTools&&(this._trampolineEnabled=!1)},y.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},y.prototype.fatalError=function(T,N){N?(p.stderr.write("Fatal "+(T instanceof Error?T.stack:T)+`
`),p.exit(2)):this.throwLater(T)},y.prototype.throwLater=function(T,N){if(arguments.length===1&&(N=T,T=function(){throw N}),typeof setTimeout<"u")setTimeout(function(){T(N)},0);else try{this._schedule(function(){T(N)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},v.hasDevTools?(y.prototype.invokeLater=function(T,N,$){this._trampolineEnabled?k.call(this,T,N,$):this._schedule(function(){setTimeout(function(){T.call(N,$)},100)})},y.prototype.invoke=function(T,N,$){this._trampolineEnabled?x.call(this,T,N,$):this._schedule(function(){T.call(N,$)})},y.prototype.settlePromises=function(T){this._trampolineEnabled?w.call(this,T):this._schedule(function(){T._settlePromises()})}):(y.prototype.invokeLater=k,y.prototype.invoke=x,y.prototype.settlePromises=w),y.prototype._drainQueues=function(){b(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,b(this._lateQueue)},y.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},y.prototype._reset=function(){this._isTickUsed=!1},o.exports=y,o.exports.firstLineError=f},{"./queue":26,"./schedule":29,"./util":36}],3:[function(n,o,d){o.exports=function(f,_,m,v){var y=!1,k=function(S,T){this._reject(T)},x=function(S,T){T.promiseRejectionQueued=!0,T.bindingPromise._then(k,k,null,this,S)},w=function(S,T){!(50397184&this._bitField)&&this._resolveCallback(T.target)},b=function(S,T){T.promiseRejectionQueued||this._reject(S)};f.prototype.bind=function(S){y||(y=!0,f.prototype._propagateFrom=v.propagateFromFunction(),f.prototype._boundValue=v.boundValueFunction());var T=m(S),N=new f(_);N._propagateFrom(this,1);var $=this._target();if(N._setBoundTo(T),T instanceof f){var E={promiseRejectionQueued:!1,promise:N,target:$,bindingPromise:T};$._then(_,x,void 0,N,E),T._then(w,b,void 0,N,E),N._setOnCancel(T)}else N._resolveCallback($);return N},f.prototype._setBoundTo=function(S){S!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=S):this._bitField=-2097153&this._bitField},f.prototype._isBound=function(){return(2097152&this._bitField)==2097152},f.bind=function(S,T){return f.resolve(T).bind(S)}}},{}],4:[function(n,o,d){var f;typeof Promise<"u"&&(f=Promise);var _=n("./promise")();_.noConflict=function(){try{Promise===_&&(Promise=f)}catch{}return _},o.exports=_},{"./promise":22}],5:[function(n,o,d){var f=Object.create;if(f){var _=f(null),m=f(null);_[" size"]=m[" size"]=0}o.exports=function(v){var y=n("./util"),k=y.canEvaluate;y.isIdentifier;function x(S){return function(T,N){var $;if(T!=null&&($=T[N]),typeof $!="function"){var E="Object "+y.classString(T)+" has no method '"+y.toString(N)+"'";throw new v.TypeError(E)}return $}(S,this.pop()).apply(S,this)}function w(S){return S[this]}function b(S){var T=+this;return T<0&&(T=Math.max(0,T+S.length)),S[T]}v.prototype.call=function(S){var T=[].slice.call(arguments,1);return T.push(S),this._then(x,void 0,void 0,T,void 0)},v.prototype.get=function(S){var T;if(typeof S=="number")T=b;else if(k){var N=(void 0)(S);T=N!==null?N:w}else T=w;return this._then(T,void 0,void 0,S,void 0)}}},{"./util":36}],6:[function(n,o,d){o.exports=function(f,_,m,v){var y=n("./util"),k=y.tryCatch,x=y.errorObj,w=f._async;f.prototype.break=f.prototype.cancel=function(){if(!v.cancellation())return this._warn("cancellation is disabled");for(var b=this,S=b;b._isCancellable();){if(!b._cancelBy(S)){S._isFollowing()?S._followee().cancel():S._cancelBranched();break}var T=b._cancellationParent;if(T==null||!T._isCancellable()){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}b._isFollowing()&&b._followee().cancel(),b._setWillBeCancelled(),S=b,b=T}},f.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},f.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},f.prototype._cancelBy=function(b){return b===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},f.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},f.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),w.invoke(this._cancelPromises,this,void 0))},f.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},f.prototype._unsetOnCancel=function(){this._onCancelField=void 0},f.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},f.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},f.prototype._doInvokeOnCancel=function(b,S){if(y.isArray(b))for(var T=0;T<b.length;++T)this._doInvokeOnCancel(b[T],S);else if(b!==void 0)if(typeof b=="function"){if(!S){var N=k(b).call(this._boundValue());N===x&&(this._attachExtraTrace(N.e),w.throwLater(N.e))}}else b._resultCancelled(this)},f.prototype._invokeOnCancel=function(){var b=this._onCancel();this._unsetOnCancel(),w.invoke(this._doInvokeOnCancel,this,b)},f.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},f.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(n,o,d){o.exports=function(f){var _=n("./util"),m=n("./es5").keys,v=_.tryCatch,y=_.errorObj;return function(k,x,w){return function(b){var S=w._boundValue();e:for(var T=0;T<k.length;++T){var N=k[T];if(N===Error||N!=null&&N.prototype instanceof Error){if(b instanceof N)return v(x).call(S,b)}else if(typeof N=="function"){var $=v(N).call(S,b);if($===y)return $;if($)return v(x).call(S,b)}else if(_.isObject(b)){for(var E=m(N),D=0;D<E.length;++D){var P=E[D];if(N[P]!=b[P])continue e}return v(x).call(S,b)}}return f}}}},{"./es5":13,"./util":36}],8:[function(n,o,d){o.exports=function(f){var _=!1,m=[];function v(){this._trace=new v.CapturedTrace(y())}function y(){var k=m.length-1;if(k>=0)return m[k]}return f.prototype._promiseCreated=function(){},f.prototype._pushContext=function(){},f.prototype._popContext=function(){return null},f._peekContext=f.prototype._peekContext=function(){},v.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,m.push(this._trace))},v.prototype._popContext=function(){if(this._trace!==void 0){var k=m.pop(),x=k._promiseCreated;return k._promiseCreated=null,x}return null},v.CapturedTrace=null,v.create=function(){if(_)return new v},v.deactivateLongStackTraces=function(){},v.activateLongStackTraces=function(){var k=f.prototype._pushContext,x=f.prototype._popContext,w=f._peekContext,b=f.prototype._peekContext,S=f.prototype._promiseCreated;v.deactivateLongStackTraces=function(){f.prototype._pushContext=k,f.prototype._popContext=x,f._peekContext=w,f.prototype._peekContext=b,f.prototype._promiseCreated=S,_=!1},_=!0,f.prototype._pushContext=v.prototype._pushContext,f.prototype._popContext=v.prototype._popContext,f._peekContext=f.prototype._peekContext=y,f.prototype._promiseCreated=function(){var T=this._peekContext();T&&T._promiseCreated==null&&(T._promiseCreated=this)}},v}},{}],9:[function(n,o,d){o.exports=function(f,_){var m,v,y,k=f._getDomain,x=f._async,w=n("./errors").Warning,b=n("./util"),S=n("./es5"),T=b.canAttachTrace,N=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,$=/\((?:timers\.js):\d+:\d+\)/,E=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,D=null,P=null,I=!1,O=b.env("BLUEBIRD_DEBUG")!=0,B=!(b.env("BLUEBIRD_WARNINGS")==0||!O&&!b.env("BLUEBIRD_WARNINGS")),R=!(b.env("BLUEBIRD_LONG_STACK_TRACES")==0||!O&&!b.env("BLUEBIRD_LONG_STACK_TRACES")),H=b.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(B||!!b.env("BLUEBIRD_W_FORGOTTEN_RETURN"));f.prototype.suppressUnhandledRejections=function(){var Z=this._target();Z._bitField=-1048577&Z._bitField|524288},f.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var Z=this;setTimeout(function(){Z._notifyUnhandledRejection()},1)}},f.prototype._notifyUnhandledRejectionIsHandled=function(){Se("rejectionHandled",m,void 0,this)},f.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},f.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},f.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Z=this._settledValue();this._setUnhandledRejectionIsNotified(),Se("unhandledRejection",v,Z,this)}},f.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},f.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},f.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},f.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},f.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},f.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},f.prototype._warn=function(Z,re,ue){return ie(Z,re,ue||this)},f.onPossiblyUnhandledRejection=function(Z){var re=k();v=typeof Z=="function"?re===null?Z:b.domainBind(re,Z):void 0},f.onUnhandledRejectionHandled=function(Z){var re=k();m=typeof Z=="function"?re===null?Z:b.domainBind(re,Z):void 0};var q=function(){};f.longStackTraces=function(){if(x.haveItemsQueued()&&!je.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!je.longStackTraces&&Ve()){var Z=f.prototype._captureStackTrace,re=f.prototype._attachExtraTrace,ue=f.prototype._dereferenceTrace;je.longStackTraces=!0,q=function(){if(x.haveItemsQueued()&&!je.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);f.prototype._captureStackTrace=Z,f.prototype._attachExtraTrace=re,f.prototype._dereferenceTrace=ue,_.deactivateLongStackTraces(),x.enableTrampoline(),je.longStackTraces=!1},f.prototype._captureStackTrace=K,f.prototype._attachExtraTrace=ae,f.prototype._dereferenceTrace=Q,_.activateLongStackTraces(),x.disableTrampolineIfNecessary()}},f.hasLongStackTraces=function(){return je.longStackTraces&&Ve()};var G=function(){try{if(typeof CustomEvent=="function"){var Z=new CustomEvent("CustomEvent");return b.global.dispatchEvent(Z),function(re,ue){var ce={detail:ue,cancelable:!0};S.defineProperty(ce,"promise",{value:ue.promise}),S.defineProperty(ce,"reason",{value:ue.reason});var ye=new CustomEvent(re.toLowerCase(),ce);return!b.global.dispatchEvent(ye)}}return typeof Event=="function"?(Z=new Event("CustomEvent"),b.global.dispatchEvent(Z),function(re,ue){var ce=new Event(re.toLowerCase(),{cancelable:!0});return ce.detail=ue,S.defineProperty(ce,"promise",{value:ue.promise}),S.defineProperty(ce,"reason",{value:ue.reason}),!b.global.dispatchEvent(ce)}):((Z=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),b.global.dispatchEvent(Z),function(re,ue){var ce=document.createEvent("CustomEvent");return ce.initCustomEvent(re.toLowerCase(),!1,!0,ue),!b.global.dispatchEvent(ce)})}catch{}return function(){return!1}}(),L=b.isNode?function(){return p.emit.apply(p,arguments)}:b.global?function(Z){var re="on"+Z.toLowerCase(),ue=b.global[re];return!!ue&&(ue.apply(b.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function F(Z,re){return{promise:re}}var J={promiseCreated:F,promiseFulfilled:F,promiseRejected:F,promiseResolved:F,promiseCancelled:F,promiseChained:function(Z,re,ue){return{promise:re,child:ue}},warning:function(Z,re){return{warning:re}},unhandledRejection:function(Z,re,ue){return{reason:re,promise:ue}},rejectionHandled:F},z=function(Z){var re=!1;try{re=L.apply(null,arguments)}catch(ce){x.throwLater(ce),re=!0}var ue=!1;try{ue=G(Z,J[Z].apply(null,arguments))}catch(ce){x.throwLater(ce),ue=!0}return ue||re};function X(){return!1}function ne(Z,re,ue){var ce=this;try{Z(re,ue,function(ye){if(typeof ye!="function")throw new TypeError("onCancel must be a function, got: "+b.toString(ye));ce._attachCancellationCallback(ye)})}catch(ye){return ye}}function ee(Z){if(!this._isCancellable())return this;var re=this._onCancel();re!==void 0?b.isArray(re)?re.push(Z):this._setOnCancel([re,Z]):this._setOnCancel(Z)}function V(){return this._onCancelField}function j(Z){this._onCancelField=Z}function M(){this._cancellationParent=void 0,this._onCancelField=void 0}function A(Z,re){if(1&re){this._cancellationParent=Z;var ue=Z._branchesRemainingToCancel;ue===void 0&&(ue=0),Z._branchesRemainingToCancel=ue+1}2&re&&Z._isBound()&&this._setBoundTo(Z._boundTo)}f.config=function(Z){if("longStackTraces"in(Z=Object(Z))&&(Z.longStackTraces?f.longStackTraces():!Z.longStackTraces&&f.hasLongStackTraces()&&q()),"warnings"in Z){var re=Z.warnings;je.warnings=!!re,H=je.warnings,b.isObject(re)&&"wForgottenReturn"in re&&(H=!!re.wForgottenReturn)}if("cancellation"in Z&&Z.cancellation&&!je.cancellation){if(x.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");f.prototype._clearCancellationData=M,f.prototype._propagateFrom=A,f.prototype._onCancel=V,f.prototype._setOnCancel=j,f.prototype._attachCancellationCallback=ee,f.prototype._execute=ne,U=A,je.cancellation=!0}return"monitoring"in Z&&(Z.monitoring&&!je.monitoring?(je.monitoring=!0,f.prototype._fireEvent=z):!Z.monitoring&&je.monitoring&&(je.monitoring=!1,f.prototype._fireEvent=X)),f},f.prototype._fireEvent=X,f.prototype._execute=function(Z,re,ue){try{Z(re,ue)}catch(ce){return ce}},f.prototype._onCancel=function(){},f.prototype._setOnCancel=function(Z){},f.prototype._attachCancellationCallback=function(Z){},f.prototype._captureStackTrace=function(){},f.prototype._attachExtraTrace=function(){},f.prototype._dereferenceTrace=function(){},f.prototype._clearCancellationData=function(){},f.prototype._propagateFrom=function(Z,re){};var U=function(Z,re){2&re&&Z._isBound()&&this._setBoundTo(Z._boundTo)};function W(){var Z=this._boundTo;return Z!==void 0&&Z instanceof f?Z.isFulfilled()?Z.value():void 0:Z}function K(){this._trace=new se(this._peekContext())}function ae(Z,re){if(T(Z)){var ue=this._trace;if(ue!==void 0&&re&&(ue=ue._parent),ue!==void 0)ue.attachExtraTrace(Z);else if(!Z.__stackCleaned__){var ce=le(Z);b.notEnumerableProp(Z,"stack",ce.message+`
`+ce.stack.join(`
`)),b.notEnumerableProp(Z,"__stackCleaned__",!0)}}}function Q(){this._trace=void 0}function ie(Z,re,ue){if(je.warnings){var ce,ye=new w(Z);if(re)ue._attachExtraTrace(ye);else if(je.longStackTraces&&(ce=f._peekContext()))ce.attachExtraTrace(ye);else{var me=le(ye);ye.stack=me.message+`
`+me.stack.join(`
`)}z("warning",ye)||ge(ye,"",!0)}}function fe(Z){for(var re=[],ue=0;ue<Z.length;++ue){var ce=Z[ue],ye=ce==="    (No stack trace)"||D.test(ce),me=ye&&mt(ce);ye&&!me&&(I&&ce.charAt(0)!==" "&&(ce="    "+ce),re.push(ce))}return re}function le(Z){var re=Z.stack,ue=Z.toString();return re=typeof re=="string"&&re.length>0?function(ce){for(var ye=ce.stack.replace(/\s+$/g,"").split(`
`),me=0;me<ye.length;++me){var pe=ye[me];if(pe==="    (No stack trace)"||D.test(pe))break}return me>0&&ce.name!="SyntaxError"&&(ye=ye.slice(me)),ye}(Z):["    (No stack trace)"],{message:ue,stack:Z.name=="SyntaxError"?re:fe(re)}}function ge(Z,re,ue){if(typeof console<"u"){var ce;if(b.isObject(Z)){var ye=Z.stack;ce=re+P(ye,Z)}else ce=re+String(Z);typeof y=="function"?y(ce,ue):typeof console.log!="function"&&r(console.log)!=="object"||console.log(ce)}}function Se(Z,re,ue,ce){var ye=!1;try{typeof re=="function"&&(ye=!0,Z==="rejectionHandled"?re(ce):re(ue,ce))}catch(me){x.throwLater(me)}Z==="unhandledRejection"?z(Z,ue,ce)||ye||ge(ue,"Unhandled rejection "):z(Z,ce)}function We(Z){var re;if(typeof Z=="function")re="[function "+(Z.name||"anonymous")+"]";else{if(re=Z&&typeof Z.toString=="function"?Z.toString():b.toString(Z),/\[object [a-zA-Z0-9$_]+\]/.test(re))try{re=JSON.stringify(Z)}catch{}re.length===0&&(re="(empty array)")}return"(<"+function(ue){return ue.length<41?ue:ue.substr(0,38)+"..."}(re)+">, no stack trace)"}function Ve(){return typeof Tt=="function"}var mt=function(){return!1},dn=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function St(Z){var re=Z.match(dn);if(re)return{fileName:re[1],line:parseInt(re[2],10)}}function se(Z){this._parent=Z,this._promisesCreated=0;var re=this._length=1+(Z===void 0?0:Z._length);Tt(this,se),re>32&&this.uncycle()}b.inherits(se,Error),_.CapturedTrace=se,se.prototype.uncycle=function(){var Z=this._length;if(!(Z<2)){for(var re=[],ue={},ce=0,ye=this;ye!==void 0;++ce)re.push(ye),ye=ye._parent;for(ce=(Z=this._length=ce)-1;ce>=0;--ce){var me=re[ce].stack;ue[me]===void 0&&(ue[me]=ce)}for(ce=0;ce<Z;++ce){var pe=ue[re[ce].stack];if(pe!==void 0&&pe!==ce){pe>0&&(re[pe-1]._parent=void 0,re[pe-1]._length=1),re[ce]._parent=void 0,re[ce]._length=1;var Te=ce>0?re[ce-1]:this;pe<Z-1?(Te._parent=re[pe+1],Te._parent.uncycle(),Te._length=Te._parent._length+1):(Te._parent=void 0,Te._length=1);for(var Be=Te._length+1,Pe=ce-2;Pe>=0;--Pe)re[Pe]._length=Be,Be++;return}}}},se.prototype.attachExtraTrace=function(Z){if(!Z.__stackCleaned__){this.uncycle();for(var re=le(Z),ue=re.message,ce=[re.stack],ye=this;ye!==void 0;)ce.push(fe(ye.stack.split(`
`))),ye=ye._parent;(function(me){for(var pe=me[0],Te=1;Te<me.length;++Te){for(var Be=me[Te],Pe=pe.length-1,zn=pe[Pe],Ct=-1,Bt=Be.length-1;Bt>=0;--Bt)if(Be[Bt]===zn){Ct=Bt;break}for(Bt=Ct;Bt>=0;--Bt){var zo=Be[Bt];if(pe[Pe]!==zo)break;pe.pop(),Pe--}pe=Be}})(ce),function(me){for(var pe=0;pe<me.length;++pe)(me[pe].length===0||pe+1<me.length&&me[pe][0]===me[pe+1][0])&&(me.splice(pe,1),pe--)}(ce),b.notEnumerableProp(Z,"stack",function(me,pe){for(var Te=0;Te<pe.length-1;++Te)pe[Te].push("From previous event:"),pe[Te]=pe[Te].join(`
`);return Te<pe.length&&(pe[Te]=pe[Te].join(`
`)),me+`
`+pe.join(`
`)}(ue,ce)),b.notEnumerableProp(Z,"__stackCleaned__",!0)}};var Tt=function(){var Z=/^\s*at\s*/,re=function(me,pe){return typeof me=="string"?me:pe.name!==void 0&&pe.message!==void 0?pe.toString():We(pe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,D=Z,P=re;var ue=Error.captureStackTrace;return mt=function(me){return N.test(me)},function(me,pe){Error.stackTraceLimit+=6,ue(me,pe),Error.stackTraceLimit-=6}}var ce,ye=new Error;if(typeof ye.stack=="string"&&ye.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return D=/@/,P=re,I=!0,function(me){me.stack=new Error().stack};try{throw new Error}catch(me){ce="stack"in me}return"stack"in ye||!ce||typeof Error.stackTraceLimit!="number"?(P=function(me,pe){return typeof me=="string"?me:r(pe)!=="object"&&typeof pe!="function"||pe.name===void 0||pe.message===void 0?We(pe):pe.toString()},null):(D=Z,P=re,function(me){Error.stackTraceLimit+=6;try{throw new Error}catch(pe){me.stack=pe.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(y=function(Z){console.warn(Z)},b.isNode&&p.stderr.isTTY?y=function(Z,re){var ue=re?"\x1B[33m":"\x1B[31m";console.warn(ue+Z+`\x1B[0m
`)}:b.isNode||typeof new Error().stack!="string"||(y=function(Z,re){console.warn("%c"+Z,re?"color: darkorange":"color: red")}));var je={warnings:B,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&f.longStackTraces(),{longStackTraces:function(){return je.longStackTraces},warnings:function(){return je.warnings},cancellation:function(){return je.cancellation},monitoring:function(){return je.monitoring},propagateFromFunction:function(){return U},boundValueFunction:function(){return W},checkForgottenReturns:function(Z,re,ue,ce,ye){if(Z===void 0&&re!==null&&H){if(ye!==void 0&&ye._returnedNonUndefined()||!(65535&ce._bitField))return;ue&&(ue+=" ");var me="",pe="";if(re._trace){for(var Te=re._trace.stack.split(`
`),Be=fe(Te),Pe=Be.length-1;Pe>=0;--Pe){var zn=Be[Pe];if(!$.test(zn)){var Ct=zn.match(E);Ct&&(me="at "+Ct[1]+":"+Ct[2]+":"+Ct[3]+" ");break}}if(Be.length>0){var Bt=Be[0];for(Pe=0;Pe<Te.length;++Pe)if(Te[Pe]===Bt){Pe>0&&(pe=`
`+Te[Pe-1]);break}}}var zo="a promise was created in a "+ue+"handler "+me+"but was not returned from it, see http://goo.gl/rRqMUw"+pe;ce._warn(zo,!0,re)}},setBounds:function(Z,re){if(Ve()){for(var ue,ce,ye=Z.stack.split(`
`),me=re.stack.split(`
`),pe=-1,Te=-1,Be=0;Be<ye.length;++Be)if(Pe=St(ye[Be])){ue=Pe.fileName,pe=Pe.line;break}for(Be=0;Be<me.length;++Be){var Pe;if(Pe=St(me[Be])){ce=Pe.fileName,Te=Pe.line;break}}pe<0||Te<0||!ue||!ce||ue!==ce||pe>=Te||(mt=function(zn){if(N.test(zn))return!0;var Ct=St(zn);return!!(Ct&&Ct.fileName===ue&&pe<=Ct.line&&Ct.line<=Te)})}},warn:ie,deprecated:function(Z,re){var ue=Z+" is deprecated and will be removed in a future version.";return re&&(ue+=" Use "+re+" instead."),ie(ue)},CapturedTrace:se,fireDomEvent:G,fireGlobalEvent:L}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(n,o,d){o.exports=function(f){function _(){return this.value}function m(){throw this.reason}f.prototype.return=f.prototype.thenReturn=function(v){return v instanceof f&&v.suppressUnhandledRejections(),this._then(_,void 0,void 0,{value:v},void 0)},f.prototype.throw=f.prototype.thenThrow=function(v){return this._then(m,void 0,void 0,{reason:v},void 0)},f.prototype.catchThrow=function(v){if(arguments.length<=1)return this._then(void 0,m,void 0,{reason:v},void 0);var y=arguments[1];return this.caught(v,function(){throw y})},f.prototype.catchReturn=function(v){if(arguments.length<=1)return v instanceof f&&v.suppressUnhandledRejections(),this._then(void 0,_,void 0,{value:v},void 0);var y=arguments[1];return y instanceof f&&y.suppressUnhandledRejections(),this.caught(v,function(){return y})}}},{}],11:[function(n,o,d){o.exports=function(f,_){var m=f.reduce,v=f.all;function y(){return v(this)}f.prototype.each=function(k){return m(this,k,_,0)._then(y,void 0,void 0,this,void 0)},f.prototype.mapSeries=function(k){return m(this,k,_,_)},f.each=function(k,x){return m(k,x,_,0)._then(y,void 0,void 0,k,void 0)},f.mapSeries=function(k,x){return m(k,x,_,_)}}},{}],12:[function(n,o,d){var f,_,m=n("./es5"),v=m.freeze,y=n("./util"),k=y.inherits,x=y.notEnumerableProp;function w(O,B){function R(H){if(!(this instanceof R))return new R(H);x(this,"message",typeof H=="string"?H:B),x(this,"name",O),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return k(R,Error),R}var b=w("Warning","warning"),S=w("CancellationError","cancellation error"),T=w("TimeoutError","timeout error"),N=w("AggregateError","aggregate error");try{f=TypeError,_=RangeError}catch{f=w("TypeError","type error"),_=w("RangeError","range error")}for(var $="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),E=0;E<$.length;++E)typeof Array.prototype[$[E]]=="function"&&(N.prototype[$[E]]=Array.prototype[$[E]]);m.defineProperty(N.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),N.prototype.isOperational=!0;var D=0;function P(O){if(!(this instanceof P))return new P(O);x(this,"name","OperationalError"),x(this,"message",O),this.cause=O,this.isOperational=!0,O instanceof Error?(x(this,"message",O.message),x(this,"stack",O.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}N.prototype.toString=function(){var O=Array(4*D+1).join(" "),B=`
`+O+`AggregateError of:
`;D++,O=Array(4*D+1).join(" ");for(var R=0;R<this.length;++R){for(var H=this[R]===this?"[Circular AggregateError]":this[R]+"",q=H.split(`
`),G=0;G<q.length;++G)q[G]=O+q[G];B+=(H=q.join(`
`))+`
`}return D--,B},k(P,Error);var I=Error.__BluebirdErrorTypes__;I||(I=v({CancellationError:S,TimeoutError:T,OperationalError:P,RejectionError:P,AggregateError:N}),m.defineProperty(Error,"__BluebirdErrorTypes__",{value:I,writable:!1,enumerable:!1,configurable:!1})),o.exports={Error,TypeError:f,RangeError:_,CancellationError:I.CancellationError,OperationalError:I.OperationalError,TimeoutError:I.TimeoutError,AggregateError:I.AggregateError,Warning:b}},{"./es5":13,"./util":36}],13:[function(n,o,d){var f=function(){return this===void 0}();if(f)o.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:f,propertyIsWritable:function(k,x){var w=Object.getOwnPropertyDescriptor(k,x);return!(w&&!w.writable&&!w.set)}};else{var _={}.hasOwnProperty,m={}.toString,v={}.constructor.prototype,y=function(k){var x=[];for(var w in k)_.call(k,w)&&x.push(w);return x};o.exports={isArray:function(k){try{return m.call(k)==="[object Array]"}catch{return!1}},keys:y,names:y,defineProperty:function(k,x,w){return k[x]=w.value,k},getDescriptor:function(k,x){return{value:k[x]}},freeze:function(k){return k},getPrototypeOf:function(k){try{return Object(k).constructor.prototype}catch{return v}},isES5:f,propertyIsWritable:function(){return!0}}}},{}],14:[function(n,o,d){o.exports=function(f,_){var m=f.map;f.prototype.filter=function(v,y){return m(this,v,y,_)},f.filter=function(v,y,k){return m(v,y,k,_)}}},{}],15:[function(n,o,d){o.exports=function(f,_,m){var v=n("./util"),y=f.CancellationError,k=v.errorObj,x=n("./catch_filter")(m);function w(E,D,P){this.promise=E,this.type=D,this.handler=P,this.called=!1,this.cancelPromise=null}function b(E){this.finallyHandler=E}function S(E,D){return E.cancelPromise!=null&&(arguments.length>1?E.cancelPromise._reject(D):E.cancelPromise._cancel(),E.cancelPromise=null,!0)}function T(){return $.call(this,this.promise._target()._settledValue())}function N(E){if(!S(this,E))return k.e=E,k}function $(E){var D=this.promise,P=this.handler;if(!this.called){this.called=!0;var I=this.isFinallyHandler()?P.call(D._boundValue()):P.call(D._boundValue(),E);if(I===m)return I;if(I!==void 0){D._setReturnedNonUndefined();var O=_(I,D);if(O instanceof f){if(this.cancelPromise!=null){if(O._isCancelled()){var B=new y("late cancellation observer");return D._attachExtraTrace(B),k.e=B,k}O.isPending()&&O._attachCancellationCallback(new b(this))}return O._then(T,N,void 0,this,void 0)}}}return D.isRejected()?(S(this),k.e=E,k):(S(this),E)}return w.prototype.isFinallyHandler=function(){return this.type===0},b.prototype._resultCancelled=function(){S(this.finallyHandler)},f.prototype._passThrough=function(E,D,P,I){return typeof E!="function"?this.then():this._then(P,I,void 0,new w(this,D,E),void 0)},f.prototype.lastly=f.prototype.finally=function(E){return this._passThrough(E,0,$,$)},f.prototype.tap=function(E){return this._passThrough(E,1,$)},f.prototype.tapCatch=function(E){var D=arguments.length;if(D===1)return this._passThrough(E,1,void 0,$);var P,I=new Array(D-1),O=0;for(P=0;P<D-1;++P){var B=arguments[P];if(!v.isObject(B))return f.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+v.classString(B)));I[O++]=B}I.length=O;var R=arguments[P];return this._passThrough(x(I,R,this),1,void 0,$)},w}},{"./catch_filter":7,"./util":36}],16:[function(n,o,d){o.exports=function(f,_,m,v,y,k){var x=n("./errors").TypeError,w=n("./util"),b=w.errorObj,S=w.tryCatch,T=[];function N($,E,D,P){if(k.cancellation()){var I=new f(m),O=this._finallyPromise=new f(m);this._promise=I.lastly(function(){return O}),I._captureStackTrace(),I._setOnCancel(this)}else(this._promise=new f(m))._captureStackTrace();this._stack=P,this._generatorFunction=$,this._receiver=E,this._generator=void 0,this._yieldHandlers=typeof D=="function"?[D].concat(T):T,this._yieldedPromise=null,this._cancellationPhase=!1}w.inherits(N,y),N.prototype._isResolved=function(){return this._promise===null},N.prototype._cleanup=function(){this._promise=this._generator=null,k.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},N.prototype._promiseCancelled=function(){if(!this._isResolved()){var $;if(this._generator.return!==void 0)this._promise._pushContext(),$=S(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var E=new f.CancellationError("generator .return() sentinel");f.coroutine.returnSentinel=E,this._promise._attachExtraTrace(E),this._promise._pushContext(),$=S(this._generator.throw).call(this._generator,E),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue($)}},N.prototype._promiseFulfilled=function($){this._yieldedPromise=null,this._promise._pushContext();var E=S(this._generator.next).call(this._generator,$);this._promise._popContext(),this._continue(E)},N.prototype._promiseRejected=function($){this._yieldedPromise=null,this._promise._attachExtraTrace($),this._promise._pushContext();var E=S(this._generator.throw).call(this._generator,$);this._promise._popContext(),this._continue(E)},N.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof f){var $=this._yieldedPromise;this._yieldedPromise=null,$.cancel()}},N.prototype.promise=function(){return this._promise},N.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},N.prototype._continue=function($){var E=this._promise;if($===b)return this._cleanup(),this._cancellationPhase?E.cancel():E._rejectCallback($.e,!1);var D=$.value;if($.done===!0)return this._cleanup(),this._cancellationPhase?E.cancel():E._resolveCallback(D);var P=v(D,this._promise);if(P instanceof f||(P=function(O,B,R){for(var H=0;H<B.length;++H){R._pushContext();var q=S(B[H])(O);if(R._popContext(),q===b){R._pushContext();var G=f.reject(b.e);return R._popContext(),G}var L=v(q,R);if(L instanceof f)return L}return null}(P,this._yieldHandlers,this._promise))!==null){var I=(P=P._target())._bitField;50397184&I?33554432&I?f._async.invoke(this._promiseFulfilled,this,P._value()):16777216&I?f._async.invoke(this._promiseRejected,this,P._reason()):this._promiseCancelled():(this._yieldedPromise=P,P._proxy(this,null))}else this._promiseRejected(new x(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(D))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},f.coroutine=function($,E){if(typeof $!="function")throw new x(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var D=Object(E).yieldHandler,P=N,I=new Error().stack;return function(){var O=$.apply(this,arguments),B=new P(void 0,void 0,D,I),R=B.promise();return B._generator=O,B._promiseFulfilled(void 0),R}},f.coroutine.addYieldHandler=function($){if(typeof $!="function")throw new x("expecting a function but got "+w.classString($));T.push($)},f.spawn=function($){if(k.deprecated("Promise.spawn()","Promise.coroutine()"),typeof $!="function")return _(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var E=new N($,this),D=E.promise();return E._run(f.spawn),D}}},{"./errors":12,"./util":36}],17:[function(n,o,d){o.exports=function(f,_,m,v,y,k){var x=n("./util");x.canEvaluate,x.tryCatch,x.errorObj,f.join=function(){var w,b=arguments.length-1;b>0&&typeof arguments[b]=="function"&&(w=arguments[b]);var S=[].slice.call(arguments);w&&S.pop();var T=new _(S).promise();return w!==void 0?T.spread(w):T}}},{"./util":36}],18:[function(n,o,d){o.exports=function(f,_,m,v,y,k){var x=f._getDomain,w=n("./util"),b=w.tryCatch,S=w.errorObj,T=f._async;function N(E,D,P,I){this.constructor$(E),this._promise._captureStackTrace();var O=x();this._callback=O===null?D:w.domainBind(O,D),this._preservedValues=I===y?new Array(this.length()):null,this._limit=P,this._inFlight=0,this._queue=[],T.invoke(this._asyncInit,this,void 0)}function $(E,D,P,I){if(typeof D!="function")return m("expecting a function but got "+w.classString(D));var O=0;if(P!==void 0){if(r(P)!=="object"||P===null)return f.reject(new TypeError("options argument must be an object but it is "+w.classString(P)));if(typeof P.concurrency!="number")return f.reject(new TypeError("'concurrency' must be a number but it is "+w.classString(P.concurrency)));O=P.concurrency}return new N(E,D,O=typeof O=="number"&&isFinite(O)&&O>=1?O:0,I).promise()}w.inherits(N,_),N.prototype._asyncInit=function(){this._init$(void 0,-2)},N.prototype._init=function(){},N.prototype._promiseFulfilled=function(E,D){var P=this._values,I=this.length(),O=this._preservedValues,B=this._limit;if(D<0){if(P[D=-1*D-1]=E,B>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(B>=1&&this._inFlight>=B)return P[D]=E,this._queue.push(D),!1;O!==null&&(O[D]=E);var R=this._promise,H=this._callback,q=R._boundValue();R._pushContext();var G=b(H).call(q,E,D,I),L=R._popContext();if(k.checkForgottenReturns(G,L,O!==null?"Promise.filter":"Promise.map",R),G===S)return this._reject(G.e),!0;var F=v(G,this._promise);if(F instanceof f){var J=(F=F._target())._bitField;if(!(50397184&J))return B>=1&&this._inFlight++,P[D]=F,F._proxy(this,-1*(D+1)),!1;if(!(33554432&J))return 16777216&J?(this._reject(F._reason()),!0):(this._cancel(),!0);G=F._value()}P[D]=G}return++this._totalResolved>=I&&(O!==null?this._filter(P,O):this._resolve(P),!0)},N.prototype._drainQueue=function(){for(var E=this._queue,D=this._limit,P=this._values;E.length>0&&this._inFlight<D;){if(this._isResolved())return;var I=E.pop();this._promiseFulfilled(P[I],I)}},N.prototype._filter=function(E,D){for(var P=D.length,I=new Array(P),O=0,B=0;B<P;++B)E[B]&&(I[O++]=D[B]);I.length=O,this._resolve(I)},N.prototype.preservedValues=function(){return this._preservedValues},f.prototype.map=function(E,D){return $(this,E,D,null)},f.map=function(E,D,P,I){return $(E,D,P,I)}}},{"./util":36}],19:[function(n,o,d){o.exports=function(f,_,m,v,y){var k=n("./util"),x=k.tryCatch;f.method=function(w){if(typeof w!="function")throw new f.TypeError("expecting a function but got "+k.classString(w));return function(){var b=new f(_);b._captureStackTrace(),b._pushContext();var S=x(w).apply(this,arguments),T=b._popContext();return y.checkForgottenReturns(S,T,"Promise.method",b),b._resolveFromSyncValue(S),b}},f.attempt=f.try=function(w){if(typeof w!="function")return v("expecting a function but got "+k.classString(w));var b,S=new f(_);if(S._captureStackTrace(),S._pushContext(),arguments.length>1){y.deprecated("calling Promise.try with more than 1 argument");var T=arguments[1],N=arguments[2];b=k.isArray(T)?x(w).apply(N,T):x(w).call(N,T)}else b=x(w)();var $=S._popContext();return y.checkForgottenReturns(b,$,"Promise.try",S),S._resolveFromSyncValue(b),S},f.prototype._resolveFromSyncValue=function(w){w===k.errorObj?this._rejectCallback(w.e,!1):this._resolveCallback(w,!0)}}},{"./util":36}],20:[function(n,o,d){var f=n("./util"),_=f.maybeWrapAsError,m=n("./errors").OperationalError,v=n("./es5"),y=/^(?:name|message|stack|cause)$/;function k(x){var w;if(function(N){return N instanceof Error&&v.getPrototypeOf(N)===Error.prototype}(x)){(w=new m(x)).name=x.name,w.message=x.message,w.stack=x.stack;for(var b=v.keys(x),S=0;S<b.length;++S){var T=b[S];y.test(T)||(w[T]=x[T])}return w}return f.markAsOriginatingFromRejection(x),x}o.exports=function(x,w){return function(b,S){if(x!==null){if(b){var T=k(_(b));x._attachExtraTrace(T),x._reject(T)}else if(w){var N=[].slice.call(arguments,1);x._fulfill(N)}else x._fulfill(S);x=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(n,o,d){o.exports=function(f){var _=n("./util"),m=f._async,v=_.tryCatch,y=_.errorObj;function k(b,S){if(!_.isArray(b))return x.call(this,b,S);var T=v(S).apply(this._boundValue(),[null].concat(b));T===y&&m.throwLater(T.e)}function x(b,S){var T=this._boundValue(),N=b===void 0?v(S).call(T,null):v(S).call(T,null,b);N===y&&m.throwLater(N.e)}function w(b,S){if(!b){var T=new Error(b+"");T.cause=b,b=T}var N=v(S).call(this._boundValue(),b);N===y&&m.throwLater(N.e)}f.prototype.asCallback=f.prototype.nodeify=function(b,S){if(typeof b=="function"){var T=x;S!==void 0&&Object(S).spread&&(T=k),this._then(T,w,void 0,this,b)}return this}}},{"./util":36}],22:[function(n,o,d){o.exports=function(){var f=function(){return new N(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},_=function(){return new z.PromiseInspection(this._target())},m=function(V){return z.reject(new N(V))};function v(){}var y,k={},x=n("./util");y=x.isNode?function(){var V=p.domain;return V===void 0&&(V=null),V}:function(){return null},x.notEnumerableProp(z,"_getDomain",y);var w=n("./es5"),b=n("./async"),S=new b;w.defineProperty(z,"_async",{value:S});var T=n("./errors"),N=z.TypeError=T.TypeError;z.RangeError=T.RangeError;var $=z.CancellationError=T.CancellationError;z.TimeoutError=T.TimeoutError,z.OperationalError=T.OperationalError,z.RejectionError=T.OperationalError,z.AggregateError=T.AggregateError;var E=function(){},D={},P={},I=n("./thenables")(z,E),O=n("./promise_array")(z,E,I,m,v),B=n("./context")(z),R=B.create,H=n("./debuggability")(z,B),q=(H.CapturedTrace,n("./finally")(z,I,P)),G=n("./catch_filter")(P),L=n("./nodeback"),F=x.errorObj,J=x.tryCatch;function z(V){V!==E&&function(j,M){if(j==null||j.constructor!==z)throw new N(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof M!="function")throw new N("expecting a function but got "+x.classString(M))}(this,V),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(V),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function X(V){this.promise._resolveCallback(V)}function ne(V){this.promise._rejectCallback(V,!1)}function ee(V){var j=new z(E);j._fulfillmentHandler0=V,j._rejectionHandler0=V,j._promise0=V,j._receiver0=V}return z.prototype.toString=function(){return"[object Promise]"},z.prototype.caught=z.prototype.catch=function(V){var j=arguments.length;if(j>1){var M,A=new Array(j-1),U=0;for(M=0;M<j-1;++M){var W=arguments[M];if(!x.isObject(W))return m("Catch statement predicate: expecting an object but got "+x.classString(W));A[U++]=W}return A.length=U,V=arguments[M],this.then(void 0,G(A,V,this))}return this.then(void 0,V)},z.prototype.reflect=function(){return this._then(_,_,void 0,this,void 0)},z.prototype.then=function(V,j){if(H.warnings()&&arguments.length>0&&typeof V!="function"&&typeof j!="function"){var M=".then() only accepts functions but was passed: "+x.classString(V);arguments.length>1&&(M+=", "+x.classString(j)),this._warn(M)}return this._then(V,j,void 0,void 0,void 0)},z.prototype.done=function(V,j){this._then(V,j,void 0,void 0,void 0)._setIsFinal()},z.prototype.spread=function(V){return typeof V!="function"?m("expecting a function but got "+x.classString(V)):this.all()._then(V,void 0,void 0,D,void 0)},z.prototype.toJSON=function(){var V={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(V.fulfillmentValue=this.value(),V.isFulfilled=!0):this.isRejected()&&(V.rejectionReason=this.reason(),V.isRejected=!0),V},z.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new O(this).promise()},z.prototype.error=function(V){return this.caught(x.originatesFromRejection,V)},z.getNewLibraryCopy=o.exports,z.is=function(V){return V instanceof z},z.fromNode=z.fromCallback=function(V){var j=new z(E);j._captureStackTrace();var M=arguments.length>1&&!!Object(arguments[1]).multiArgs,A=J(V)(L(j,M));return A===F&&j._rejectCallback(A.e,!0),j._isFateSealed()||j._setAsyncGuaranteed(),j},z.all=function(V){return new O(V).promise()},z.cast=function(V){var j=I(V);return j instanceof z||((j=new z(E))._captureStackTrace(),j._setFulfilled(),j._rejectionHandler0=V),j},z.resolve=z.fulfilled=z.cast,z.reject=z.rejected=function(V){var j=new z(E);return j._captureStackTrace(),j._rejectCallback(V,!0),j},z.setScheduler=function(V){if(typeof V!="function")throw new N("expecting a function but got "+x.classString(V));return S.setScheduler(V)},z.prototype._then=function(V,j,M,A,U){var W=U!==void 0,K=W?U:new z(E),ae=this._target(),Q=ae._bitField;W||(K._propagateFrom(this,3),K._captureStackTrace(),A===void 0&&2097152&this._bitField&&(A=50397184&Q?this._boundValue():ae===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,K));var ie=y();if(50397184&Q){var fe,le,ge=ae._settlePromiseCtx;33554432&Q?(le=ae._rejectionHandler0,fe=V):16777216&Q?(le=ae._fulfillmentHandler0,fe=j,ae._unsetRejectionIsUnhandled()):(ge=ae._settlePromiseLateCancellationObserver,le=new $("late cancellation observer"),ae._attachExtraTrace(le),fe=j),S.invoke(ge,ae,{handler:ie===null?fe:typeof fe=="function"&&x.domainBind(ie,fe),promise:K,receiver:A,value:le})}else ae._addCallbacks(V,j,K,A,ie);return K},z.prototype._length=function(){return 65535&this._bitField},z.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},z.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},z.prototype._setLength=function(V){this._bitField=-65536&this._bitField|65535&V},z.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},z.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},z.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},z.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},z.prototype._isFinal=function(){return(4194304&this._bitField)>0},z.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},z.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},z.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},z.prototype._setAsyncGuaranteed=function(){S.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},z.prototype._receiverAt=function(V){var j=V===0?this._receiver0:this[4*V-4+3];if(j!==k)return j===void 0&&this._isBound()?this._boundValue():j},z.prototype._promiseAt=function(V){return this[4*V-4+2]},z.prototype._fulfillmentHandlerAt=function(V){return this[4*V-4+0]},z.prototype._rejectionHandlerAt=function(V){return this[4*V-4+1]},z.prototype._boundValue=function(){},z.prototype._migrateCallback0=function(V){V._bitField;var j=V._fulfillmentHandler0,M=V._rejectionHandler0,A=V._promise0,U=V._receiverAt(0);U===void 0&&(U=k),this._addCallbacks(j,M,A,U,null)},z.prototype._migrateCallbackAt=function(V,j){var M=V._fulfillmentHandlerAt(j),A=V._rejectionHandlerAt(j),U=V._promiseAt(j),W=V._receiverAt(j);W===void 0&&(W=k),this._addCallbacks(M,A,U,W,null)},z.prototype._addCallbacks=function(V,j,M,A,U){var W=this._length();if(W>=65531&&(W=0,this._setLength(0)),W===0)this._promise0=M,this._receiver0=A,typeof V=="function"&&(this._fulfillmentHandler0=U===null?V:x.domainBind(U,V)),typeof j=="function"&&(this._rejectionHandler0=U===null?j:x.domainBind(U,j));else{var K=4*W-4;this[K+2]=M,this[K+3]=A,typeof V=="function"&&(this[K+0]=U===null?V:x.domainBind(U,V)),typeof j=="function"&&(this[K+1]=U===null?j:x.domainBind(U,j))}return this._setLength(W+1),W},z.prototype._proxy=function(V,j){this._addCallbacks(void 0,void 0,j,V,null)},z.prototype._resolveCallback=function(V,j){if(!(117506048&this._bitField)){if(V===this)return this._rejectCallback(f(),!1);var M=I(V,this);if(!(M instanceof z))return this._fulfill(V);j&&this._propagateFrom(M,2);var A=M._target();if(A!==this){var U=A._bitField;if(50397184&U)if(33554432&U)this._fulfill(A._value());else if(16777216&U)this._reject(A._reason());else{var ae=new $("late cancellation observer");A._attachExtraTrace(ae),this._reject(ae)}else{var W=this._length();W>0&&A._migrateCallback0(this);for(var K=1;K<W;++K)A._migrateCallbackAt(this,K);this._setFollowing(),this._setLength(0),this._setFollowee(A)}}else this._reject(f())}},z.prototype._rejectCallback=function(V,j,M){var A=x.ensureErrorObject(V),U=A===V;if(!U&&!M&&H.warnings()){var W="a promise was rejected with a non-error: "+x.classString(V);this._warn(W,!0)}this._attachExtraTrace(A,!!j&&U),this._reject(V)},z.prototype._resolveFromExecutor=function(V){if(V!==E){var j=this;this._captureStackTrace(),this._pushContext();var M=!0,A=this._execute(V,function(U){j._resolveCallback(U)},function(U){j._rejectCallback(U,M)});M=!1,this._popContext(),A!==void 0&&j._rejectCallback(A,!0)}},z.prototype._settlePromiseFromHandler=function(V,j,M,A){var U=A._bitField;if(!(65536&U)){var W;A._pushContext(),j===D?M&&typeof M.length=="number"?W=J(V).apply(this._boundValue(),M):(W=F).e=new N("cannot .spread() a non-array: "+x.classString(M)):W=J(V).call(j,M);var K=A._popContext();!(65536&(U=A._bitField))&&(W===P?A._reject(M):W===F?A._rejectCallback(W.e,!1):(H.checkForgottenReturns(W,K,"",A,this),A._resolveCallback(W)))}},z.prototype._target=function(){for(var V=this;V._isFollowing();)V=V._followee();return V},z.prototype._followee=function(){return this._rejectionHandler0},z.prototype._setFollowee=function(V){this._rejectionHandler0=V},z.prototype._settlePromise=function(V,j,M,A){var U=V instanceof z,W=this._bitField,K=(134217728&W)!=0;65536&W?(U&&V._invokeInternalOnCancel(),M instanceof q&&M.isFinallyHandler()?(M.cancelPromise=V,J(j).call(M,A)===F&&V._reject(F.e)):j===_?V._fulfill(_.call(M)):M instanceof v?M._promiseCancelled(V):U||V instanceof O?V._cancel():M.cancel()):typeof j=="function"?U?(K&&V._setAsyncGuaranteed(),this._settlePromiseFromHandler(j,M,A,V)):j.call(M,A,V):M instanceof v?M._isResolved()||(33554432&W?M._promiseFulfilled(A,V):M._promiseRejected(A,V)):U&&(K&&V._setAsyncGuaranteed(),33554432&W?V._fulfill(A):V._reject(A))},z.prototype._settlePromiseLateCancellationObserver=function(V){var j=V.handler,M=V.promise,A=V.receiver,U=V.value;typeof j=="function"?M instanceof z?this._settlePromiseFromHandler(j,A,U,M):j.call(A,U,M):M instanceof z&&M._reject(U)},z.prototype._settlePromiseCtx=function(V){this._settlePromise(V.promise,V.handler,V.receiver,V.value)},z.prototype._settlePromise0=function(V,j,M){var A=this._promise0,U=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(A,V,U,j)},z.prototype._clearCallbackDataAtIndex=function(V){var j=4*V-4;this[j+2]=this[j+3]=this[j+0]=this[j+1]=void 0},z.prototype._fulfill=function(V){var j=this._bitField;if(!((117506048&j)>>>16)){if(V===this){var M=f();return this._attachExtraTrace(M),this._reject(M)}this._setFulfilled(),this._rejectionHandler0=V,(65535&j)>0&&(134217728&j?this._settlePromises():S.settlePromises(this),this._dereferenceTrace())}},z.prototype._reject=function(V){var j=this._bitField;if(!((117506048&j)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=V,this._isFinal())return S.fatalError(V,x.isNode);(65535&j)>0?S.settlePromises(this):this._ensurePossibleRejectionHandled()}},z.prototype._fulfillPromises=function(V,j){for(var M=1;M<V;M++){var A=this._fulfillmentHandlerAt(M),U=this._promiseAt(M),W=this._receiverAt(M);this._clearCallbackDataAtIndex(M),this._settlePromise(U,A,W,j)}},z.prototype._rejectPromises=function(V,j){for(var M=1;M<V;M++){var A=this._rejectionHandlerAt(M),U=this._promiseAt(M),W=this._receiverAt(M);this._clearCallbackDataAtIndex(M),this._settlePromise(U,A,W,j)}},z.prototype._settlePromises=function(){var V=this._bitField,j=65535&V;if(j>0){if(16842752&V){var M=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,M,V),this._rejectPromises(j,M)}else{var A=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,A,V),this._fulfillPromises(j,A)}this._setLength(0)}this._clearCancellationData()},z.prototype._settledValue=function(){var V=this._bitField;return 33554432&V?this._rejectionHandler0:16777216&V?this._fulfillmentHandler0:void 0},z.defer=z.pending=function(){return H.deprecated("Promise.defer","new Promise"),{promise:new z(E),resolve:X,reject:ne}},x.notEnumerableProp(z,"_makeSelfResolutionError",f),n("./method")(z,E,I,m,H),n("./bind")(z,E,I,H),n("./cancel")(z,O,m,H),n("./direct_resolve")(z),n("./synchronous_inspection")(z),n("./join")(z,O,I,E,S,y),z.Promise=z,z.version="3.5.4",n("./map.js")(z,O,m,I,E,H),n("./call_get.js")(z),n("./using.js")(z,m,I,R,E,H),n("./timers.js")(z,E,H),n("./generators.js")(z,m,E,I,v,H),n("./nodeify.js")(z),n("./promisify.js")(z,E),n("./props.js")(z,O,I,m),n("./race.js")(z,E,I,m),n("./reduce.js")(z,O,m,I,E,H),n("./settle.js")(z,O,H),n("./some.js")(z,O,m),n("./filter.js")(z,E),n("./each.js")(z,E),n("./any.js")(z),x.toFastProperties(z),x.toFastProperties(z.prototype),ee({a:1}),ee({b:2}),ee({c:3}),ee(1),ee(function(){}),ee(void 0),ee(!1),ee(new z(E)),H.setBounds(b.firstLineError,x.lastLineError),z}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(n,o,d){o.exports=function(f,_,m,v,y){var k=n("./util");k.isArray;function x(w){var b=this._promise=new f(_);w instanceof f&&b._propagateFrom(w,3),b._setOnCancel(this),this._values=w,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return k.inherits(x,y),x.prototype.length=function(){return this._length},x.prototype.promise=function(){return this._promise},x.prototype._init=function w(b,S){var T=m(this._values,this._promise);if(T instanceof f){var N=(T=T._target())._bitField;if(this._values=T,(50397184&N)==0)return this._promise._setAsyncGuaranteed(),T._then(w,this._reject,void 0,this,S);if(!(33554432&N))return 16777216&N?this._reject(T._reason()):this._cancel();T=T._value()}if((T=k.asArray(T))!==null)T.length!==0?this._iterate(T):S===-5?this._resolveEmptyArray():this._resolve(function(E){switch(E){case-2:return[];case-3:return{};case-6:return new Map}}(S));else{var $=v("expecting an array or an iterable object but got "+k.classString(T)).reason();this._promise._rejectCallback($,!1)}},x.prototype._iterate=function(w){var b=this.getActualLength(w.length);this._length=b,this._values=this.shouldCopyValues()?new Array(b):this._values;for(var S=this._promise,T=!1,N=null,$=0;$<b;++$){var E=m(w[$],S);N=E instanceof f?(E=E._target())._bitField:null,T?N!==null&&E.suppressUnhandledRejections():N!==null?50397184&N?T=33554432&N?this._promiseFulfilled(E._value(),$):16777216&N?this._promiseRejected(E._reason(),$):this._promiseCancelled($):(E._proxy(this,$),this._values[$]=E):T=this._promiseFulfilled(E,$)}T||S._setAsyncGuaranteed()},x.prototype._isResolved=function(){return this._values===null},x.prototype._resolve=function(w){this._values=null,this._promise._fulfill(w)},x.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},x.prototype._reject=function(w){this._values=null,this._promise._rejectCallback(w,!1)},x.prototype._promiseFulfilled=function(w,b){return this._values[b]=w,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},x.prototype._promiseCancelled=function(){return this._cancel(),!0},x.prototype._promiseRejected=function(w){return this._totalResolved++,this._reject(w),!0},x.prototype._resultCancelled=function(){if(!this._isResolved()){var w=this._values;if(this._cancel(),w instanceof f)w.cancel();else for(var b=0;b<w.length;++b)w[b]instanceof f&&w[b].cancel()}},x.prototype.shouldCopyValues=function(){return!0},x.prototype.getActualLength=function(w){return w},x}},{"./util":36}],24:[function(n,o,d){o.exports=function(f,_){var m={},v=n("./util"),y=n("./nodeback"),k=v.withAppended,x=v.maybeWrapAsError,w=v.canEvaluate,b=n("./errors").TypeError,S={__isPromisified__:!0},T=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),N=function(R){return v.isIdentifier(R)&&R.charAt(0)!=="_"&&R!=="constructor"};function $(R){return!T.test(R)}function E(R){try{return R.__isPromisified__===!0}catch{return!1}}function D(R,H,q){var G=v.getDataPropertyOrDefault(R,H+q,S);return!!G&&E(G)}function P(R,H,q,G){for(var L=v.inheritedDataKeys(R),F=[],J=0;J<L.length;++J){var z=L[J],X=R[z],ne=G===N||N(z);typeof X!="function"||E(X)||D(R,z,H)||!G(z,X,R,ne)||F.push(z,X)}return function(ee,V,j){for(var M=0;M<ee.length;M+=2){var A=ee[M];if(j.test(A)){for(var U=A.replace(j,""),W=0;W<ee.length;W+=2)if(ee[W]===U)throw new b(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",V))}}}(F,H,q),F}var I=function(R){return R.replace(/([$])/,"\\$")},O=w?void 0:function(R,H,q,G,L,F){var J=function(){return this}(),z=R;function X(){var ne=H;H===m&&(ne=this);var ee=new f(_);ee._captureStackTrace();var V=typeof z=="string"&&this!==J?this[z]:R,j=y(ee,F);try{V.apply(ne,k(arguments,j))}catch(M){ee._rejectCallback(x(M),!0,!0)}return ee._isFateSealed()||ee._setAsyncGuaranteed(),ee}return typeof z=="string"&&(R=G),v.notEnumerableProp(X,"__isPromisified__",!0),X};function B(R,H,q,G,L){for(var F=new RegExp(I(H)+"$"),J=P(R,H,F,q),z=0,X=J.length;z<X;z+=2){var ne=J[z],ee=J[z+1],V=ne+H;if(G===O)R[V]=O(ne,m,ne,ee,H,L);else{var j=G(ee,function(){return O(ne,m,ne,ee,H,L)});v.notEnumerableProp(j,"__isPromisified__",!0),R[V]=j}}return v.toFastProperties(R),R}f.promisify=function(R,H){if(typeof R!="function")throw new b("expecting a function but got "+v.classString(R));if(E(R))return R;var q=function(G,L,F){return O(G,L,void 0,G,null,F)}(R,(H=Object(H)).context===void 0?m:H.context,!!H.multiArgs);return v.copyDescriptors(R,q,$),q},f.promisifyAll=function(R,H){if(typeof R!="function"&&r(R)!=="object")throw new b(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var q=!!(H=Object(H)).multiArgs,G=H.suffix;typeof G!="string"&&(G="Async");var L=H.filter;typeof L!="function"&&(L=N);var F=H.promisifier;if(typeof F!="function"&&(F=O),!v.isIdentifier(G))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var J=v.inheritedDataKeys(R),z=0;z<J.length;++z){var X=R[J[z]];J[z]!=="constructor"&&v.isClass(X)&&(B(X.prototype,G,L,F,q),B(X,G,L,F,q))}return B(R,G,L,F,q)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(n,o,d){o.exports=function(f,_,m,v){var y,k=n("./util"),x=k.isObject,w=n("./es5");typeof Map=="function"&&(y=Map);var b=function(){var N=0,$=0;function E(D,P){this[N]=D,this[N+$]=P,N++}return function(D){$=D.size,N=0;var P=new Array(2*D.size);return D.forEach(E,P),P}}();function S(N){var $,E=!1;if(y!==void 0&&N instanceof y)$=b(N),E=!0;else{var D=w.keys(N),P=D.length;$=new Array(2*P);for(var I=0;I<P;++I){var O=D[I];$[I]=N[O],$[I+P]=O}}this.constructor$($),this._isMap=E,this._init$(void 0,E?-6:-3)}function T(N){var $,E=m(N);return x(E)?($=E instanceof f?E._then(f.props,void 0,void 0,void 0,void 0):new S(E).promise(),E instanceof f&&$._propagateFrom(E,2),$):v(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}k.inherits(S,_),S.prototype._init=function(){},S.prototype._promiseFulfilled=function(N,$){if(this._values[$]=N,++this._totalResolved>=this._length){var E;if(this._isMap)E=function(O){for(var B=new y,R=O.length/2|0,H=0;H<R;++H){var q=O[R+H],G=O[H];B.set(q,G)}return B}(this._values);else{E={};for(var D=this.length(),P=0,I=this.length();P<I;++P)E[this._values[P+D]]=this._values[P]}return this._resolve(E),!0}return!1},S.prototype.shouldCopyValues=function(){return!1},S.prototype.getActualLength=function(N){return N>>1},f.prototype.props=function(){return T(this)},f.props=function(N){return T(N)}}},{"./es5":13,"./util":36}],26:[function(n,o,d){function f(_){this._capacity=_,this._length=0,this._front=0}f.prototype._willBeOverCapacity=function(_){return this._capacity<_},f.prototype._pushOne=function(_){var m=this.length();this._checkCapacity(m+1),this[this._front+m&this._capacity-1]=_,this._length=m+1},f.prototype.push=function(_,m,v){var y=this.length()+3;if(this._willBeOverCapacity(y))return this._pushOne(_),this._pushOne(m),void this._pushOne(v);var k=this._front+y-3;this._checkCapacity(y);var x=this._capacity-1;this[k+0&x]=_,this[k+1&x]=m,this[k+2&x]=v,this._length=y},f.prototype.shift=function(){var _=this._front,m=this[_];return this[_]=void 0,this._front=_+1&this._capacity-1,this._length--,m},f.prototype.length=function(){return this._length},f.prototype._checkCapacity=function(_){this._capacity<_&&this._resizeTo(this._capacity<<1)},f.prototype._resizeTo=function(_){var m=this._capacity;this._capacity=_,function(v,y,k,x,w){for(var b=0;b<w;++b)k[b+x]=v[b+y],v[b+y]=void 0}(this,0,this,m,this._front+this._length&m-1)},o.exports=f},{}],27:[function(n,o,d){o.exports=function(f,_,m,v){var y=n("./util"),k=function(w){return w.then(function(b){return x(b,w)})};function x(w,b){var S=m(w);if(S instanceof f)return k(S);if((w=y.asArray(w))===null)return v("expecting an array or an iterable object but got "+y.classString(w));var T=new f(_);b!==void 0&&T._propagateFrom(b,3);for(var N=T._fulfill,$=T._reject,E=0,D=w.length;E<D;++E){var P=w[E];(P!==void 0||E in w)&&f.cast(P)._then(N,$,void 0,T,null)}return T}f.race=function(w){return x(w,void 0)},f.prototype.race=function(){return x(this,void 0)}}},{"./util":36}],28:[function(n,o,d){o.exports=function(f,_,m,v,y,k){var x=f._getDomain,w=n("./util"),b=w.tryCatch;function S(D,P,I,O){this.constructor$(D);var B=x();this._fn=B===null?P:w.domainBind(B,P),I!==void 0&&(I=f.resolve(I))._attachCancellationCallback(this),this._initialValue=I,this._currentCancellable=null,this._eachValues=O===y?Array(this._length):O===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function T(D,P){this.isFulfilled()?P._resolve(D):P._reject(D)}function N(D,P,I,O){return typeof P!="function"?m("expecting a function but got "+w.classString(P)):new S(D,P,I,O).promise()}function $(D){this.accum=D,this.array._gotAccum(D);var P=v(this.value,this.array._promise);return P instanceof f?(this.array._currentCancellable=P,P._then(E,void 0,void 0,this,void 0)):E.call(this,P)}function E(D){var P,I=this.array,O=I._promise,B=b(I._fn);O._pushContext(),(P=I._eachValues!==void 0?B.call(O._boundValue(),D,this.index,this.length):B.call(O._boundValue(),this.accum,D,this.index,this.length))instanceof f&&(I._currentCancellable=P);var R=O._popContext();return k.checkForgottenReturns(P,R,I._eachValues!==void 0?"Promise.each":"Promise.reduce",O),P}w.inherits(S,_),S.prototype._gotAccum=function(D){this._eachValues!==void 0&&this._eachValues!==null&&D!==y&&this._eachValues.push(D)},S.prototype._eachComplete=function(D){return this._eachValues!==null&&this._eachValues.push(D),this._eachValues},S.prototype._init=function(){},S.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},S.prototype.shouldCopyValues=function(){return!1},S.prototype._resolve=function(D){this._promise._resolveCallback(D),this._values=null},S.prototype._resultCancelled=function(D){if(D===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof f&&this._currentCancellable.cancel(),this._initialValue instanceof f&&this._initialValue.cancel())},S.prototype._iterate=function(D){var P,I;this._values=D;var O=D.length;if(this._initialValue!==void 0?(P=this._initialValue,I=0):(P=f.resolve(D[0]),I=1),this._currentCancellable=P,!P.isRejected())for(;I<O;++I){var B={accum:null,value:D[I],index:I,length:O,array:this};P=P._then($,void 0,void 0,B,void 0)}this._eachValues!==void 0&&(P=P._then(this._eachComplete,void 0,void 0,this,void 0)),P._then(T,T,void 0,P,this)},f.prototype.reduce=function(D,P){return N(this,D,P,null)},f.reduce=function(D,P,I,O){return N(D,P,I,O)}}},{"./util":36}],29:[function(n,o,d){var f,_=n("./util"),m=_.getNativePromise();if(_.isNode&&typeof MutationObserver>"u"){var v=c.setImmediate,y=p.nextTick;f=_.isRecentNode?function(x){v.call(c,x)}:function(x){y.call(p,x)}}else if(typeof m=="function"&&typeof m.resolve=="function"){var k=m.resolve();f=function(x){k.then(x)}}else f=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?u!==void 0?function(x){u(x)}:typeof setTimeout<"u"?function(x){setTimeout(x,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var x=document.createElement("div"),w={attributes:!0},b=!1,S=document.createElement("div");return new MutationObserver(function(){x.classList.toggle("foo"),b=!1}).observe(S,w),function(T){var N=new MutationObserver(function(){N.disconnect(),T()});N.observe(x,w),b||(b=!0,S.classList.toggle("foo"))}}();o.exports=f},{"./util":36}],30:[function(n,o,d){o.exports=function(f,_,m){var v=f.PromiseInspection;function y(k){this.constructor$(k)}n("./util").inherits(y,_),y.prototype._promiseResolved=function(k,x){return this._values[k]=x,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},y.prototype._promiseFulfilled=function(k,x){var w=new v;return w._bitField=33554432,w._settledValueField=k,this._promiseResolved(x,w)},y.prototype._promiseRejected=function(k,x){var w=new v;return w._bitField=16777216,w._settledValueField=k,this._promiseResolved(x,w)},f.settle=function(k){return m.deprecated(".settle()",".reflect()"),new y(k).promise()},f.prototype.settle=function(){return f.settle(this)}}},{"./util":36}],31:[function(n,o,d){o.exports=function(f,_,m){var v=n("./util"),y=n("./errors").RangeError,k=n("./errors").AggregateError,x=v.isArray,w={};function b(T){this.constructor$(T),this._howMany=0,this._unwrap=!1,this._initialized=!1}function S(T,N){if((0|N)!==N||N<0)return m(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var $=new b(T),E=$.promise();return $.setHowMany(N),$.init(),E}v.inherits(b,_),b.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var T=x(this._values);!this._isResolved()&&T&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},b.prototype.init=function(){this._initialized=!0,this._init()},b.prototype.setUnwrap=function(){this._unwrap=!0},b.prototype.howMany=function(){return this._howMany},b.prototype.setHowMany=function(T){this._howMany=T},b.prototype._promiseFulfilled=function(T){return this._addFulfilled(T),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},b.prototype._promiseRejected=function(T){return this._addRejected(T),this._checkOutcome()},b.prototype._promiseCancelled=function(){return this._values instanceof f||this._values==null?this._cancel():(this._addRejected(w),this._checkOutcome())},b.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var T=new k,N=this.length();N<this._values.length;++N)this._values[N]!==w&&T.push(this._values[N]);return T.length>0?this._reject(T):this._cancel(),!0}return!1},b.prototype._fulfilled=function(){return this._totalResolved},b.prototype._rejected=function(){return this._values.length-this.length()},b.prototype._addRejected=function(T){this._values.push(T)},b.prototype._addFulfilled=function(T){this._values[this._totalResolved++]=T},b.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},b.prototype._getRangeError=function(T){var N="Input array must contain at least "+this._howMany+" items but contains only "+T+" items";return new y(N)},b.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},f.some=function(T,N){return S(T,N)},f.prototype.some=function(T){return S(this,T)},f._SomePromiseArray=b}},{"./errors":12,"./util":36}],32:[function(n,o,d){o.exports=function(f){function _(b){b!==void 0?(b=b._target(),this._bitField=b._bitField,this._settledValueField=b._isFateSealed()?b._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}_.prototype._settledValue=function(){return this._settledValueField};var m=_.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},v=_.prototype.error=_.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},y=_.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},k=_.prototype.isRejected=function(){return(16777216&this._bitField)!=0},x=_.prototype.isPending=function(){return(50397184&this._bitField)==0},w=_.prototype.isResolved=function(){return(50331648&this._bitField)!=0};_.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},f.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},f.prototype._isCancelled=function(){return this._target().__isCancelled()},f.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},f.prototype.isPending=function(){return x.call(this._target())},f.prototype.isRejected=function(){return k.call(this._target())},f.prototype.isFulfilled=function(){return y.call(this._target())},f.prototype.isResolved=function(){return w.call(this._target())},f.prototype.value=function(){return m.call(this._target())},f.prototype.reason=function(){var b=this._target();return b._unsetRejectionIsUnhandled(),v.call(b)},f.prototype._value=function(){return this._settledValue()},f.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},f.PromiseInspection=_}},{}],33:[function(n,o,d){o.exports=function(f,_){var m=n("./util"),v=m.errorObj,y=m.isObject,k={}.hasOwnProperty;return function(x,w){if(y(x)){if(x instanceof f)return x;var b=function(T){try{return function(N){return N.then}(T)}catch(N){return v.e=N,v}}(x);if(b===v){w&&w._pushContext();var S=f.reject(b.e);return w&&w._popContext(),S}if(typeof b=="function")return function(T){try{return k.call(T,"_promise0")}catch{return!1}}(x)?(S=new f(_),x._then(S._fulfill,S._reject,void 0,S,null),S):function(T,N,$){var E=new f(_),D=E;$&&$._pushContext(),E._captureStackTrace(),$&&$._popContext();var P=!0,I=m.tryCatch(N).call(T,function(O){E&&(E._resolveCallback(O),E=null)},function(O){E&&(E._rejectCallback(O,P,!0),E=null)});return P=!1,E&&I===v&&(E._rejectCallback(I.e,!0,!0),E=null),D}(x,b,w)}return x}}},{"./util":36}],34:[function(n,o,d){o.exports=function(f,_,m){var v=n("./util"),y=f.TimeoutError;function k(T){this.handle=T}k.prototype._resultCancelled=function(){clearTimeout(this.handle)};var x=function(T){return w(+this).thenReturn(T)},w=f.delay=function(T,N){var $,E;return N!==void 0?($=f.resolve(N)._then(x,null,null,T,void 0),m.cancellation()&&N instanceof f&&$._setOnCancel(N)):($=new f(_),E=setTimeout(function(){$._fulfill()},+T),m.cancellation()&&$._setOnCancel(new k(E)),$._captureStackTrace()),$._setAsyncGuaranteed(),$};f.prototype.delay=function(T){return w(T,this)};function b(T){return clearTimeout(this.handle),T}function S(T){throw clearTimeout(this.handle),T}f.prototype.timeout=function(T,N){var $,E;T=+T;var D=new k(setTimeout(function(){$.isPending()&&function(P,I,O){var B;B=typeof I!="string"?I instanceof Error?I:new y("operation timed out"):new y(I),v.markAsOriginatingFromRejection(B),P._attachExtraTrace(B),P._reject(B),O!=null&&O.cancel()}($,N,E)},T));return m.cancellation()?(E=this.then(),($=E._then(b,S,void 0,D,void 0))._setOnCancel(D)):$=this._then(b,S,void 0,D,void 0),$}}},{"./util":36}],35:[function(n,o,d){o.exports=function(f,_,m,v,y,k){var x=n("./util"),w=n("./errors").TypeError,b=n("./util").inherits,S=x.errorObj,T=x.tryCatch,N={};function $(B){setTimeout(function(){throw B},0)}function E(B,R){var H=0,q=B.length,G=new f(y);return function L(){if(H>=q)return G._fulfill();var F=function(J){var z=m(J);return z!==J&&typeof J._isDisposable=="function"&&typeof J._getDisposer=="function"&&J._isDisposable()&&z._setDisposable(J._getDisposer()),z}(B[H++]);if(F instanceof f&&F._isDisposable()){try{F=m(F._getDisposer().tryDispose(R),B.promise)}catch(J){return $(J)}if(F instanceof f)return F._then(L,$,null,null,null)}L()}(),G}function D(B,R,H){this._data=B,this._promise=R,this._context=H}function P(B,R,H){this.constructor$(B,R,H)}function I(B){return D.isDisposer(B)?(this.resources[this.index]._setDisposable(B),B.promise()):B}function O(B){this.length=B,this.promise=null,this[B-1]=null}D.prototype.data=function(){return this._data},D.prototype.promise=function(){return this._promise},D.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():N},D.prototype.tryDispose=function(B){var R=this.resource(),H=this._context;H!==void 0&&H._pushContext();var q=R!==N?this.doDispose(R,B):null;return H!==void 0&&H._popContext(),this._promise._unsetDisposable(),this._data=null,q},D.isDisposer=function(B){return B!=null&&typeof B.resource=="function"&&typeof B.tryDispose=="function"},b(P,D),P.prototype.doDispose=function(B,R){return this.data().call(B,B,R)},O.prototype._resultCancelled=function(){for(var B=this.length,R=0;R<B;++R){var H=this[R];H instanceof f&&H.cancel()}},f.using=function(){var B=arguments.length;if(B<2)return _("you must pass at least 2 arguments to Promise.using");var R,H=arguments[B-1];if(typeof H!="function")return _("expecting a function but got "+x.classString(H));var q=!0;B===2&&Array.isArray(arguments[0])?(B=(R=arguments[0]).length,q=!1):(R=arguments,B--);for(var G=new O(B),L=0;L<B;++L){var F=R[L];if(D.isDisposer(F)){var J=F;(F=F.promise())._setDisposable(J)}else{var z=m(F);z instanceof f&&(F=z._then(I,null,null,{resources:G,index:L},void 0))}G[L]=F}var X=new Array(G.length);for(L=0;L<X.length;++L)X[L]=f.resolve(G[L]).reflect();var ne=f.all(X).then(function(V){for(var j=0;j<V.length;++j){var M=V[j];if(M.isRejected())return S.e=M.error(),S;if(!M.isFulfilled())return void ne.cancel();V[j]=M.value()}ee._pushContext(),H=T(H);var A=q?H.apply(void 0,V):H(V),U=ee._popContext();return k.checkForgottenReturns(A,U,"Promise.using",ee),A}),ee=ne.lastly(function(){var V=new f.PromiseInspection(ne);return E(G,V)});return G.promise=ee,ee._setOnCancel(G),ee},f.prototype._setDisposable=function(B){this._bitField=131072|this._bitField,this._disposer=B},f.prototype._isDisposable=function(){return(131072&this._bitField)>0},f.prototype._getDisposer=function(){return this._disposer},f.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},f.prototype.disposer=function(B){if(typeof B=="function")return new P(B,this,v());throw new w}}},{"./errors":12,"./util":36}],36:[function(n,o,d){var f=n("./es5"),_=typeof navigator>"u",m={e:{}},v,y=typeof self<"u"?self:typeof window<"u"?window:c!==void 0?c:this!==void 0?this:null;function k(){try{var Q=v;return v=null,Q.apply(this,arguments)}catch(ie){return m.e=ie,m}}function x(Q){return v=Q,k}var w=function(Q,ie){var fe={}.hasOwnProperty;function le(){for(var ge in this.constructor=Q,this.constructor$=ie,ie.prototype)fe.call(ie.prototype,ge)&&ge.charAt(ge.length-1)!=="$"&&(this[ge+"$"]=ie.prototype[ge])}return le.prototype=ie.prototype,Q.prototype=new le,Q.prototype};function b(Q){return Q==null||Q===!0||Q===!1||typeof Q=="string"||typeof Q=="number"}function S(Q){return typeof Q=="function"||r(Q)==="object"&&Q!==null}function T(Q){return b(Q)?new Error(G(Q)):Q}function N(Q,ie){var fe,le=Q.length,ge=new Array(le+1);for(fe=0;fe<le;++fe)ge[fe]=Q[fe];return ge[fe]=ie,ge}function $(Q,ie,fe){if(!f.isES5)return{}.hasOwnProperty.call(Q,ie)?Q[ie]:void 0;var le=Object.getOwnPropertyDescriptor(Q,ie);return le!=null?le.get==null&&le.set==null?le.value:fe:void 0}function E(Q,ie,fe){if(b(Q))return Q;var le={value:fe,configurable:!0,enumerable:!1,writable:!0};return f.defineProperty(Q,ie,le),Q}function D(Q){throw Q}var P=function(){var Q=[Array.prototype,Object.prototype,Function.prototype],ie=function(ge){for(var Se=0;Se<Q.length;++Se)if(Q[Se]===ge)return!0;return!1};if(f.isES5){var fe=Object.getOwnPropertyNames;return function(ge){for(var Se=[],We=Object.create(null);ge!=null&&!ie(ge);){var Ve;try{Ve=fe(ge)}catch{return Se}for(var mt=0;mt<Ve.length;++mt){var dn=Ve[mt];if(!We[dn]){We[dn]=!0;var St=Object.getOwnPropertyDescriptor(ge,dn);St!=null&&St.get==null&&St.set==null&&Se.push(dn)}}ge=f.getPrototypeOf(ge)}return Se}}var le={}.hasOwnProperty;return function(ge){if(ie(ge))return[];var Se=[];e:for(var We in ge)if(le.call(ge,We))Se.push(We);else{for(var Ve=0;Ve<Q.length;++Ve)if(le.call(Q[Ve],We))continue e;Se.push(We)}return Se}}(),I=/this\s*\.\s*\S+\s*=/;function O(Q){try{if(typeof Q=="function"){var ie=f.names(Q.prototype),fe=f.isES5&&ie.length>1,le=ie.length>0&&!(ie.length===1&&ie[0]==="constructor"),ge=I.test(Q+"")&&f.names(Q).length>0;if(fe||le||ge)return!0}return!1}catch{return!1}}function B(Q){function ie(){}ie.prototype=Q;var fe=new ie;function le(){return r(fe.foo)}return le(),le(),Q}var R=/^[a-z$_][a-z$_0-9]*$/i;function H(Q){return R.test(Q)}function q(Q,ie,fe){for(var le=new Array(Q),ge=0;ge<Q;++ge)le[ge]=ie+ge+fe;return le}function G(Q){try{return Q+""}catch{return"[no string representation]"}}function L(Q){return Q instanceof Error||Q!==null&&r(Q)==="object"&&typeof Q.message=="string"&&typeof Q.name=="string"}function F(Q){try{E(Q,"isOperational",!0)}catch{}}function J(Q){return Q!=null&&(Q instanceof Error.__BluebirdErrorTypes__.OperationalError||Q.isOperational===!0)}function z(Q){return L(Q)&&f.propertyIsWritable(Q,"stack")}var X="stack"in new Error?function(Q){return z(Q)?Q:new Error(G(Q))}:function(Q){if(z(Q))return Q;try{throw new Error(G(Q))}catch(ie){return ie}};function ne(Q){return{}.toString.call(Q)}function ee(Q,ie,fe){for(var le=f.names(Q),ge=0;ge<le.length;++ge){var Se=le[ge];if(fe(Se))try{f.defineProperty(ie,Se,f.getDescriptor(Q,Se))}catch{}}}var V=function(Q){return f.isArray(Q)?Q:null};if(typeof Symbol<"u"&&Symbol.iterator){var j=typeof Array.from=="function"?function(Q){return Array.from(Q)}:function(Q){for(var ie,fe=[],le=Q[Symbol.iterator]();!(ie=le.next()).done;)fe.push(ie.value);return fe};V=function(Q){return f.isArray(Q)?Q:Q!=null&&typeof Q[Symbol.iterator]=="function"?j(Q):null}}var M=p!==void 0&&ne(p).toLowerCase()==="[object process]",A=p!==void 0&&p.env!==void 0;function U(Q){return A?p.env[Q]:void 0}function W(){if(typeof Promise=="function")try{var Q=new Promise(function(){});if({}.toString.call(Q)==="[object Promise]")return Promise}catch{}}function K(Q,ie){return Q.bind(ie)}var ae={isClass:O,isIdentifier:H,inheritedDataKeys:P,getDataPropertyOrDefault:$,thrower:D,isArray:f.isArray,asArray:V,notEnumerableProp:E,isPrimitive:b,isObject:S,isError:L,canEvaluate:_,errorObj:m,tryCatch:x,inherits:w,withAppended:N,maybeWrapAsError:T,toFastProperties:B,filledRange:q,toString:G,canAttachTrace:z,ensureErrorObject:X,originatesFromRejection:J,markAsOriginatingFromRejection:F,classString:ne,copyDescriptors:ee,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:M,hasEnvVariables:A,env:U,global:y,getNativePromise:W,domainBind:K};ae.isRecentNode=ae.isNode&&function(){var Q;return p.versions&&p.versions.node?Q=p.versions.node.split(".").map(Number):p.version&&(Q=p.version.split(".").map(Number)),Q[0]===0&&Q[1]>10||Q[0]>0}(),ae.isNode&&ae.toFastProperties(p);try{throw new Error}catch(Q){ae.lastLineError=Q}o.exports=ae},{"./es5":13}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,i(9),i(4),i(57).setImmediate)},function(s,g,i){s.exports=i(235)},function(s,g,i){var p=i(0);s.exports=function(){var c={};return{getState:function(u){if(c[u])return c[u].method();var h={};for(var a in c)c[a].internal||p.mixin(h,c[a].method(),!0);return h},registerProvider:function(u,h,a){c[u]={method:h,internal:a}},unregisterProvider:function(u){delete c[u]}}}},function(s,g){s.exports=function(i){var p={};function c(u,h,a){a=a||u;var l=i.config,r=i.templates;i.config[u]&&p[a]!=l[u]&&(h&&r[a]||(r[a]=i.date.date_to_str(l[u]),p[a]=l[u]))}return{initTemplates:function(){var u=i.locale.labels;u.gantt_save_btn=u.icon_save,u.gantt_cancel_btn=u.icon_cancel,u.gantt_delete_btn=u.icon_delete;var h=i.date,a=h.date_to_str,l=i.config,r=a(l.xml_date||l.date_format,l.server_utc),n=h.str_to_date(l.xml_date||l.date_format,l.server_utc);c("date_scale",!0,void 0,i.config,i.templates),c("date_grid",!0,"grid_date_format",i.config,i.templates),c("task_date",!0,void 0,i.config,i.templates),i.mixin(i.templates,{xml_format:void 0,format_date:r,xml_date:void 0,parse_date:n,progress_text:function(o,d,f){return""},grid_header_class:function(o,d){return""},task_text:function(o,d,f){return f.text},task_class:function(o,d,f){return""},task_end_date:function(o){return i.templates.task_date(o)},grid_row_class:function(o,d,f){return""},task_row_class:function(o,d,f){return""},timeline_cell_class:function(o,d){return""},timeline_cell_content:function(o,d){return""},scale_cell_class:function(o){return""},scale_row_class:function(o){return""},grid_indent:function(o){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(o){return"<div class='gantt_tree_icon gantt_folder_"+(o.$open?"open":"closed")+"'></div>"},grid_file:function(o){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(o){return"<div class='gantt_tree_icon gantt_"+(o.$open?"close":"open")+"'></div>"},grid_blank:function(o){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(o,d,f){return d&&i.isUnscheduledTask(d)&&i.config.show_unscheduled?i.templates.task_unscheduled_time(d):i.templates.grid_date_format(o,f)},task_time:function(o,d,f){return i.isUnscheduledTask(f)&&i.config.show_unscheduled?i.templates.task_unscheduled_time(f):i.templates.task_date(o)+" - "+i.templates.task_end_date(d)},task_unscheduled_time:function(o){return""},time_picker:a(l.time_picker),link_class:function(o){return""},link_description:function(o){var d=i.getTask(o.source),f=i.getTask(o.target);return"<b>"+d.text+"</b> &ndash;  <b>"+f.text+"</b>"},drag_link:function(o,d,f,_){o=i.getTask(o);var m=i.locale.labels,v="<b>"+o.text+"</b> "+(d?m.link_start:m.link_end)+"<br/>";return f&&(v+="<b> "+(f=i.getTask(f)).text+"</b> "+(_?m.link_start:m.link_end)+"<br/>"),v},drag_link_class:function(o,d,f,_){var m="";return o&&f&&(m=" "+(i.isLinkAllowed(o,f,d,_)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+m},tooltip_date_format:h.date_to_str("%Y-%m-%d"),tooltip_text:function(o,d,f){return"<b>Task:</b> "+f.text+"<br/><b>Start date:</b> "+i.templates.tooltip_date_format(o)+"<br/><b>End date:</b> "+i.templates.tooltip_date_format(d)}})},initTemplate:c}}},function(s,g,i){var p=i(5),c=i(0),u=i(50),h=i(21),a=i(1);s.exports=function(l){function r(o){return{target:o.target||o.srcElement,pageX:o.pageX,pageY:o.pageY,clientX:o.clientX,clientY:o.clientY,metaKey:o.metaKey,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,altKey:o.altKey}}function n(o,d){this._obj=o,this._settings=d||{},p(this);var f=this.getInputMethods();this._drag_start_timer=null,l.attachEvent("onGanttScroll",c.bind(function(v,y){this.clearDragTimer()},this));for(var _={passive:!1},m=0;m<f.length;m++)c.bind(function(v){l.event(o,v.down,c.bind(function(k){v.accessor(k)&&(d.preventDefault&&d.selector&&a.closest(k.target,d.selector)&&k.preventDefault(),l.config.touch&&k.timeStamp&&k.timeStamp-0<300||(this._settings.original_target=r(k),l.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(c.bind(function(){l.getState().lightbox||this.dragStart(o,k,v)},this),l.config.touch_drag)):this.dragStart(o,k,v)))},this),_);var y=document.body;l.event(y,v.up,c.bind(function(k){v.accessor(k)&&this.clearDragTimer()},this),_)},this)(f[m])}return n.prototype={traceDragEvents:function(o,d){var f=c.bind(function(x){return this.dragMove(o,x,d.accessor)},this);c.bind(function(x){return this.dragScroll(o,x)},this);var _=c.bind(function(x){if(!this.config.started||!c.defined(this.config.updates_per_second)||u(this,this.config.updates_per_second)){var w=f(x);if(w)try{x&&x.preventDefault&&x.cancelable&&x.preventDefault()}catch{}return w}},this),m=a.getRootNode(l.$root),v=this.config.mousemoveContainer||a.getRootNode(l.$root),y={passive:!1},k=c.bind(function(x){return l.eventRemove(v,d.move,_),l.eventRemove(m,d.up,k,y),this.dragEnd(o)},this);l.event(v,d.move,_,y),l.event(m,d.up,k,y)},checkPositionChange:function(o){var d=o.x-this.config.pos.x,f=o.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(d),2)+Math.pow(Math.abs(f),2))>this.config.sensitivity},initDnDMarker:function(){var o=this.config.marker=document.createElement("div");o.className="gantt_drag_marker",o.innerHTML="",document.body.appendChild(o)},backupEventTarget:function(o,d){if(l.config.touch){var f=d(o),_=f.target||f.srcElement,m=_.cloneNode(!0);this.config.original_target=r(f),this.config.original_target.target=m,this.config.backup_element=_,_.parentNode.appendChild(m),_.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(_)}},getInputMethods:function(){var o=[];if(o.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(f){return f}}),l.config.touch){var d=!0;try{document.createEvent("TouchEvent")}catch{d=!1}d?o.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(f){return f.touches&&f.touches.length>1?null:f.touches[0]?{target:document.elementFromPoint(f.touches[0].clientX,f.touches[0].clientY),pageX:f.touches[0].pageX,pageY:f.touches[0].pageY,clientX:f.touches[0].clientX,clientY:f.touches[0].clientY}:f}}):h.navigator.pointerEnabled?o.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(f){return f.pointerType=="mouse"?null:f}}):h.navigator.msPointerEnabled&&o.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(f){return f.pointerType==f.MSPOINTER_TYPE_MOUSE?null:f}})}return o},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(o,d,f){this.config&&this.config.started||(this.config={obj:o,marker:null,started:!1,pos:this.getPosition(d),sensitivity:4},this._settings&&c.mixin(this.config,this._settings,!0),this.traceDragEvents(o,f),l._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",l.config.touch&&this.dragMove(o,d,f.accessor))},dragMove:function(o,d,f){var _=f(d);if(!_)return!1;if(!this.config.marker&&!this.config.started){var m=this.getPosition(_);if(l.config.touch||this.checkPositionChange(m)){if(this.config.started=!0,this.config.ignore=!1,l._touch_drag=!0,this.callEvent("onBeforeDragStart",[o,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(d,f),this.initDnDMarker(),l._touch_feedback(),this.callEvent("onAfterDragStart",[o,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:d.targetTouches&&!_.target?void 0:(_.pos=this.getPosition(_),this.config.marker.style.left=_.pos.x+"px",this.config.marker.style.top=_.pos.y+"px",this.callEvent("onDragMove",[o,_]),!0)},dragEnd:function(o){var d=this.config.backup_element;d&&d.parentNode&&d.parentNode.removeChild(d),l._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,l._touch_drag=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(o){var d=0,f=0;return o.pageX||o.pageY?(d=o.pageX,f=o.pageY):(o.clientX||o.clientY)&&(d=o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,f=o.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:d,y:f}}},n}},function(s,g,i){function p(u,h){for(var a=0;a<h.length;a++){var l=h[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}i.r(g),i.d(g,"Client",function(){return c});var c=function(){function u(h){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,u);var a=h.url,l=h.token;this._url=a,this._token=l,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}return function(h,a,l){a&&p(h.prototype,a)}(u,[{key:"headers",value:function(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}},{key:"fetch",value:function(h){function a(l,r){return h.apply(this,arguments)}return a.toString=function(){return h.toString()},a}(function(h,a){var l={credentials:"include",headers:this.headers()};return a&&(l.method="POST",l.body=a),fetch(h,l).then(function(r){return r.json()})})},{key:"load",value:function(h){var a=this;return h&&(this._url=h),this.fetch(this._url).then(function(l){return a.parse(l)})}},{key:"parse",value:function(h){var a=h.key,l=h.websocket;for(var r in a&&(this._token=h.key),h.data)this.data[r]=h.data[r];for(var n in h.api){var o=this.api[n]={},d=h.api[n];for(var f in d)o[f]=this._wrapper(n+"."+f)}return l&&this.connect(),this}},{key:"connect",value:function(){var h=this,a=this._socket;a&&(this._socket=null,a.onclose=function(){},a.close()),this._mode=2,this._socket=function(l,r,n,o){var d=r;d[0]==="/"&&(d=document.location.protocol+"//"+document.location.host+r);var f=(d=d.replace(/^http(s|):/,"ws$1:")).indexOf("?")!=-1?"&":"?";d="".concat(d).concat(f,"token=").concat(n,"&ws=1");var _=new WebSocket(d);return _.onclose=function(){return setTimeout(function(){return l.connect()},2e3)},_.onmessage=function(m){var v=JSON.parse(m.data);switch(v.action){case"result":l.result(v.body,[]);break;case"event":l.fire(v.body.name,v.body.value);break;case"start":h._mode=3,h._send(),h._resubscribe();break;default:l.onError(v.data)}},_}(this,this._url,this._token)}},{key:"_wrapper",value:function(h){return(function(){var a=this,l=[].slice.call(arguments),r=null,n=new Promise(function(o,d){r={data:{id:a._uid(),name:h,args:l},status:1,resolve:o,reject:d},a._queue.push(r)});return this.onCall(r,n),this._mode===3?this._send(r):setTimeout(function(){return a._send()},1),n}).bind(this)}},{key:"_uid",value:function(){return(this._seed++).toString()}},{key:"_send",value:function(h){var a=this;if(this._mode!=2){var l=h?[h]:this._queue.filter(function(n){return n.status===1});if(l.length){var r=l.map(function(n){return n.status=2,n.data});this._mode!==3?this.fetch(this._url,JSON.stringify(r)).catch(function(n){return a.onError(n)}).then(function(n){return a.result(n,r)}):this._socket.send(JSON.stringify({action:"call",body:r}))}}else setTimeout(function(){return a._send()},100)}},{key:"result",value:function(h,a){var l={};if(h)for(var r=0;r<h.length;r++)l[h[r].id]=h[r];else for(var n=0;n<a.length;n++)l[a[n].id]={id:a[n].id,error:"Network Error",data:null};for(var o=this._queue.length-1;o>=0;o--){var d=this._queue[o],f=l[d.data.id];f&&(this.onResponse(d,f),f.error?d.reject(f.error):d.resolve(f.data),this._queue.splice(o,1))}}},{key:"on",value:function(h,a){var l=this._uid(),r=this._events[h],n=!!r;return n||(r=this._events[h]=[]),r.push({id:l,handler:a}),n||this._mode!=3||this._socket.send(JSON.stringify({action:"subscribe",name:h})),{name:h,id:l}}},{key:"_resubscribe",value:function(){if(this._mode==3)for(var h in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:h}))}},{key:"detach",value:function(h){if(h){var a=h.id,l=h.name,r=this._events[l];if(r){var n=r.filter(function(d){return d.id!=a});n.length?this._events[l]=n:(delete this._events[l],this._mode==3&&this._socket.send(JSON.stringify({action:"unsubscribe",name:l})))}}else{if(this._mode==3)for(var o in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:o}));this._events={}}}},{key:"fire",value:function(h,a){var l=this._events[h];if(l)for(var r=0;r<l.length;r++)l[r].handler(a)}},{key:"onError",value:function(h){return null}},{key:"onCall",value:function(h,a){}},{key:"onResponse",value:function(h,a){}}]),u}()},function(s,g,i){var p=i(240);s.exports={remoteEvents:function(c,u){var h=this,a=new p.Client({url:c,token:u});a.fetch=function(l,r){var n={headers:this.headers()};return r&&(n.method="POST",n.body=r),fetch(l,n).then(function(o){return o.json()})},this._ready=a.load().then(function(l){return h._remote=l}),this.ready=function(){return this._ready},this.on=function(l,r){this.ready().then(function(n){if(typeof l=="string")n.on(l,r);else for(var o in l)n.on(o,l[o])})}}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p={date_to_str:function(c,u,h){return function(a){return c.replace(/%[a-zA-Z]/g,function(l){switch(l){case"%d":return u?h.date.to_fixed(a.getUTCDate()):h.date.to_fixed(a.getDate());case"%m":return u?h.date.to_fixed(a.getUTCMonth()+1):h.date.to_fixed(a.getMonth()+1);case"%j":return u?a.getUTCDate():a.getDate();case"%n":return u?a.getUTCMonth()+1:a.getMonth()+1;case"%y":return u?h.date.to_fixed(a.getUTCFullYear()%100):h.date.to_fixed(a.getFullYear()%100);case"%Y":return u?a.getUTCFullYear():a.getFullYear();case"%D":return u?h.locale.date.day_short[a.getUTCDay()]:h.locale.date.day_short[a.getDay()];case"%l":return u?h.locale.date.day_full[a.getUTCDay()]:h.locale.date.day_full[a.getDay()];case"%M":return u?h.locale.date.month_short[a.getUTCMonth()]:h.locale.date.month_short[a.getMonth()];case"%F":return u?h.locale.date.month_full[a.getUTCMonth()]:h.locale.date.month_full[a.getMonth()];case"%h":return u?h.date.to_fixed((a.getUTCHours()+11)%12+1):h.date.to_fixed((a.getHours()+11)%12+1);case"%g":return u?(a.getUTCHours()+11)%12+1:(a.getHours()+11)%12+1;case"%G":return u?a.getUTCHours():a.getHours();case"%H":return u?h.date.to_fixed(a.getUTCHours()):h.date.to_fixed(a.getHours());case"%i":return u?h.date.to_fixed(a.getUTCMinutes()):h.date.to_fixed(a.getMinutes());case"%a":return u?a.getUTCHours()>11?"pm":"am":a.getHours()>11?"pm":"am";case"%A":return u?a.getUTCHours()>11?"PM":"AM":a.getHours()>11?"PM":"AM";case"%s":return u?h.date.to_fixed(a.getUTCSeconds()):h.date.to_fixed(a.getSeconds());case"%W":return u?h.date.to_fixed(h.date.getUTCISOWeek(a)):h.date.to_fixed(h.date.getISOWeek(a));default:return l}})}},str_to_date:function(c,u,h){return function(a){for(var l=[0,0,1,0,0,0],r=a.match(/[a-zA-Z]+|[0-9]+/g),n=c.match(/%[a-zA-Z]/g),o=0;o<n.length;o++)switch(n[o]){case"%j":case"%d":l[2]=r[o]||1;break;case"%n":case"%m":l[1]=(r[o]||1)-1;break;case"%y":l[0]=1*r[o]+(r[o]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":l[3]=r[o]||0;break;case"%i":l[4]=r[o]||0;break;case"%Y":l[0]=r[o]||0;break;case"%a":case"%A":l[3]=l[3]%12+((r[o]||"").toLowerCase()==="am"?0:12);break;case"%s":l[5]=r[o]||0;break;case"%M":l[1]=h.locale.date.month_short_hash[r[o]]||0;break;case"%F":l[1]=h.locale.date.month_full_hash[r[o]]||0}return u?new Date(Date.UTC(l[0],l[1],l[2],l[3],l[4],l[5])):new Date(l[0],l[1],l[2],l[3],l[4],l[5])}}};g.default=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p={date_to_str:function(c,u,h){c=c.replace(/%[a-zA-Z]/g,function(l){switch(l){case"%d":return'"+to_fixed(date.get'+(u?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(u?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(u?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(u?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(u?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(u?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(u?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(u?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(u?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(u?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(u?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(u?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(u?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(u?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(u?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(u?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(u?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(u?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return l}});var a=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+c+'";');return function(l){return a(l,h.date.to_fixed,h.locale,h.date.getISOWeek,h.date.getWeek)}},str_to_date:function(c,u,h){for(var a="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",l=c.match(/%[a-zA-Z]/g),r=0;r<l.length;r++)switch(l[r]){case"%j":case"%d":a+="set[2]=temp["+r+"]||1;";break;case"%n":case"%m":a+="set[1]=(temp["+r+"]||1)-1;";break;case"%y":a+="set[0]=temp["+r+"]*1+(temp["+r+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":a+="set[3]=temp["+r+"]||0;";break;case"%i":a+="set[4]=temp["+r+"]||0;";break;case"%Y":a+="set[0]=temp["+r+"]||0;";break;case"%a":case"%A":a+="set[3]=set[3]%12+((temp["+r+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":a+="set[5]=temp["+r+"]||0;";break;case"%M":a+="set[1]=locale.date.month_short_hash[temp["+r+"]]||0;";break;case"%F":a+="set[1]=locale.date.month_full_hash[temp["+r+"]]||0;"}var n="set[0],set[1],set[2],set[3],set[4],set[5]";u&&(n=" Date.UTC("+n+")");var o=new Function("date","locale","var set=[0,0,1,0,0,0]; "+a+" return new Date("+n+");");return function(d){return o(d,h.locale)}}};g.default=p},function(s,g,i){var p=i(243).default,c=i(242).default;s.exports=function(u){var h=null;function a(){var l=!1;return u.config.csp==="auto"?(h===null&&function(){try{new Function("canUseCsp = false;")}catch{h=!0}}(),l=h):l=u.config.csp,l}return{init:function(){for(var l=u.locale,r=l.date.month_short,n=l.date.month_short_hash={},o=0;o<r.length;o++)n[r[o]]=o;for(r=l.date.month_full,n=l.date.month_full_hash={},o=0;o<r.length;o++)n[r[o]]=o},date_part:function(l){var r=new Date(l);return l.setHours(0),this.hour_start(l),l.getHours()&&(l.getDate()<r.getDate()||l.getMonth()<r.getMonth()||l.getFullYear()<r.getFullYear())&&l.setTime(l.getTime()+36e5*(24-l.getHours())),l},time_part:function(l){return(l.valueOf()/1e3-60*l.getTimezoneOffset())%86400},week_start:function(l){var r=l.getDay();return u.config.start_on_monday&&(r===0?r=6:r--),this.date_part(this.add(l,-1*r,"day"))},month_start:function(l){return l.setDate(1),this.date_part(l)},quarter_start:function(l){this.month_start(l);var r,n=l.getMonth();return r=n>=9?9:n>=6?6:n>=3?3:0,l.setMonth(r),l},year_start:function(l){return l.setMonth(0),this.month_start(l)},day_start:function(l){return this.date_part(l)},hour_start:function(l){return l.getMinutes()&&l.setMinutes(0),this.minute_start(l),l},minute_start:function(l){return l.getSeconds()&&l.setSeconds(0),l.getMilliseconds()&&l.setMilliseconds(0),l},_add_days:function(l,r,n){l.setDate(l.getDate()+r);var o=r>=0,d=!n.getHours()&&l.getHours(),f=l.getDate()<=n.getDate()||l.getMonth()<n.getMonth()||l.getFullYear()<n.getFullYear();return o&&d&&f&&l.setTime(l.getTime()+36e5*(24-l.getHours())),r>1&&d&&l.setHours(0),l},add:function(l,r,n){var o=new Date(l.valueOf());switch(n){case"day":o=this._add_days(o,r,l);break;case"week":o=this._add_days(o,7*r,l);break;case"month":o.setMonth(o.getMonth()+r);break;case"year":o.setYear(o.getFullYear()+r);break;case"hour":o.setTime(o.getTime()+60*r*60*1e3);break;case"minute":o.setTime(o.getTime()+60*r*1e3);break;default:return this["add_"+n](l,r,n)}return o},add_quarter:function(l,r){return this.add(l,3*r,"month")},to_fixed:function(l){return l<10?"0"+l:l},copy:function(l){return new Date(l.valueOf())},date_to_str:function(l,r){var n=p;return a()&&(n=c),n.date_to_str(l,r,u)},str_to_date:function(l,r){var n=p;return a()&&(n=c),n.str_to_date(l,r,u)},getISOWeek:function(l){return u.date._getWeekNumber(l,!0)},_getWeekNumber:function(l,r){if(!l)return!1;var n=l.getDay();r&&n===0&&(n=7);var o=new Date(l.valueOf());o.setDate(l.getDate()+(4-n));var d=o.getFullYear(),f=Math.round((o.getTime()-new Date(d,0,1).getTime())/864e5);return 1+Math.floor(f/7)},getWeek:function(l){return u.date._getWeekNumber(l,u.config.start_on_monday)},getUTCISOWeek:function(l){return u.date.getISOWeek(l)},convert_to_utc:function(l){return new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds())},parseDate:function(l,r){return l&&!l.getFullYear&&(typeof r!="function"&&(r=typeof r=="string"?r==="parse_date"||r==="xml_date"?u.defined(u.templates.xml_date)?u.templates.xml_date:u.templates.parse_date:u.defined(u.templates[r])?u.templates[r]:u.date.str_to_date(r):u.defined(u.templates.xml_date)?u.templates.xml_date:u.templates.parse_date),l=l?r(l):null),l}}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(p){if(typeof p=="string"||typeof p=="number")return p;var c="";for(var u in p){var h="";p.hasOwnProperty(u)&&(h=u+"="+(h=typeof p[u]=="string"?encodeURIComponent(p[u]):typeof p[u]=="number"?p[u]:encodeURIComponent(JSON.stringify(p[u]))),c.length&&(h="&"+h),c+=h)}return c}},function(s,g,i){function p(l){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(l)}var c=i(11),u=i(21),h=i(245).default;function a(l,r){var n={method:l};if(r.length===0)throw new Error("Arguments list of query is wrong.");if(r.length===1)return typeof r[0]=="string"?(n.url=r[0],n.async=!0):(n.url=r[0].url,n.async=r[0].async||!0,n.callback=r[0].callback,n.headers=r[0].headers),r[0].data?typeof r[0].data!="string"?n.data=h(r[0].data):n.data=r[0].data:n.data="",n;switch(n.url=r[0],l){case"GET":case"DELETE":n.callback=r[1],n.headers=r[2];break;case"POST":case"PUT":r[1]?typeof r[1]!="string"?n.data=h(r[1]):n.data=r[1]:n.data="",n.callback=r[2],n.headers=r[3]}return n}s.exports=function(l){return{cache:!0,method:"get",parse:function(r){return typeof r!="string"?r:(r=r.replace(/^[\s]+/,""),typeof DOMParser>"u"||c.isIE?u.ActiveXObject!==void 0&&((n=new u.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(r)):n=new DOMParser().parseFromString(r,"text/xml"),n);var n},xmltop:function(r,n,o){if(n.status===void 0||n.status<400){var d=n.responseXML?n.responseXML||n:this.parse(n.responseText||n);if(d&&d.documentElement!==null&&!d.getElementsByTagName("parsererror").length)return d.getElementsByTagName(r)[0]}return o!==-1&&l.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],o]),document.createElement("DIV")},xpath:function(r,n){if(n.nodeName||(n=n.responseXML||n),c.isIE)return n.selectNodes(r)||[];for(var o,d=[],f=(n.ownerDocument||n).evaluate(r,n,null,XPathResult.ANY_TYPE,null);o=f.iterateNext();)d.push(o);return d},query:function(r){return this._call(r.method||"GET",r.url,r.data||"",r.async||!0,r.callback,r.headers)},get:function(r,n,o){var d=a("GET",arguments);return this.query(d)},getSync:function(r,n){var o=a("GET",arguments);return o.async=!1,this.query(o)},put:function(r,n,o,d){var f=a("PUT",arguments);return this.query(f)},del:function(r,n,o){var d=a("DELETE",arguments);return this.query(d)},post:function(r,n,o,d){(arguments.length==1||arguments.length==2&&typeof n=="function")&&(n="");var f=a("POST",arguments);return this.query(f)},postSync:function(r,n,o){n=n===null?"":String(n);var d=a("POST",arguments);return d.async=!1,this.query(d)},_call:function(r,n,o,d,f,_){return new l.Promise(function(m,v){var y=(typeof XMLHttpRequest>"u"?"undefined":p(XMLHttpRequest))!==void 0?new XMLHttpRequest:new u.ActiveXObject("Microsoft.XMLHTTP"),k=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;d&&(y.onreadystatechange=function(){if(y.readyState==4||k&&y.readyState==3){if((y.status!=200||y.responseText==="")&&!l.callEvent("onAjaxError",[y]))return;setTimeout(function(){typeof f=="function"&&f.apply(u,[{xmlDoc:y,filePath:n}]),m(y),typeof f=="function"&&(f=null,y=null)},0)}});var x=!this||!this.cache;if(r=="GET"&&x&&(n+=(n.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),y.open(r,n,d),_)for(var w in _)y.setRequestHeader(w,_[w]);else r.toUpperCase()=="POST"||r=="PUT"||r=="DELETE"?y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):r=="GET"&&(o=null);if(y.setRequestHeader("X-Requested-With","XMLHttpRequest"),y.send(o),!d)return{xmlDoc:y,filePath:n}})},urlSeparator:function(r){return r.indexOf("?")!=-1?"&":"?"}}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),s.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(s,g){s.exports=function(){var i={};return{services:{},setService:function(p,c){i[p]=c},getService:function(p){return i[p]?i[p]():null},dropService:function(p){i[p]&&delete i[p]},destructor:function(){for(var p in i)if(i[p]){var c=i[p];c&&c.destructor&&c.destructor()}i=null}}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){return function(c){var u=this;for(var h in this.addExtension=function(a,l){u._extensions[a]=l},this.getExtension=function(a){return u._extensions[a]},this._extensions={},c)this._extensions[h]=c[h]}}();g.default=p},function(s,g){s.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(s,g,i){function p(c){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}s.exports=function(c){var u=new function(){this.constants=i(250),this.version="8.0.11",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},h=new(i(249)).default(c),a={};u.plugins=function(_){for(var m in _)if(_[m]&&!a[m]){var v=h.getExtension(m);v&&(v(u),a[m]=!0)}return a},u.$services=i(248)(),u.config=i(247)(),u.ajax=i(246)(u),u.date=i(244)(u),u.RemoteEvents=i(241).remoteEvents;var l=i(239)(u);u.$services.setService("dnd",function(){return l});var r=i(238)(u);u.$services.setService("templateLoader",function(){return r}),i(5)(u);var n=new(i(237));n.registerProvider("global",function(){var _={min_date:u._min_date,max_date:u._max_date,selected_task:null};return u.$data&&u.$data.tasksStore&&(_.selected_task=u.$data.tasksStore.getSelectedId()),_}),u.getState=n.getState,u.$services.setService("state",function(){return n});var o=i(0);o.mixin(u,o),u.Promise=i(236),u.env=i(11),i(234)(u);var d=i(228);u.dataProcessor=d.DEPRECATED_api,u.createDataProcessor=d.createDataProcessor,i(223)(u),i(213)(u),i(205)(u),i(204)(u),i(203)(u),i(190)(u),i(189).default(u),i(188)(u),i(187)(u),i(186)(u),i(183)(u),i(182).default(u);var f=i(181).default();return u.i18n={addLocale:f.addLocale,setLocale:function(_){if(typeof _=="string"){var m=f.getLocale(_);m||(m=f.getLocale("en")),u.locale=m}else if(_)if(u.locale)for(var v in _)_[v]&&p(_[v])==="object"?(u.locale[v]||(u.locale[v]={}),u.mixin(u.locale[v],_[v],!0)):u.locale[v]=_[v];else u.locale=_},getLocale:f.getLocale},u.i18n.setLocale("en"),u}},function(s,g,i){i(35);var p=i(251);s.exports=function(c){var u=p(c);return u.env.isNode||(i(147)(u),i(69)(u),i(68)(u)),u}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=100,c=function(){function u(h){var a=this;this.maxSteps=p,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(l){return{commands:l?l.slice():[]}},invert:function(l){for(var r,n=a._gantt.copy(l),o=a.command,d=0;d<l.commands.length;d++){var f=n.commands[d]=o.invert(n.commands[d]);f.type!==o.type.update&&f.type!==o.type.move||(r=[f.oldValue,f.value],f.value=r[0],f.oldValue=r[1])}return n}},this.command={entity:null,type:null,create:function(l,r,n,o){var d=a._gantt;return{entity:o,type:n,value:d.copy(l),oldValue:d.copy(r||l)}},invert:function(l){var r=a._gantt.copy(l);return r.type=a.command.inverseCommands(l.type),r},inverseCommands:function(l){var r=a._gantt,n=a.command.type;switch(l){case n.update:return n.update;case n.remove:return n.add;case n.add:return n.remove;case n.move:return n.move;default:return r.assert(!1,"Invalid command "+l),null}}},this._undoStack=[],this._redoStack=[],this._gantt=h}return u.prototype.getUndoStack=function(){return this._undoStack},u.prototype.setUndoStack=function(h){this._undoStack=h},u.prototype.getRedoStack=function(){return this._redoStack},u.prototype.setRedoStack=function(h){this._redoStack=h},u.prototype.clearUndoStack=function(){this._undoStack=[]},u.prototype.clearRedoStack=function(){this._redoStack=[]},u.prototype.updateConfigs=function(){var h=this._gantt;this.maxSteps=h.config.undo_steps||p,this.command.entity=h.config.undo_types,this.command.type=h.config.undo_actions,this.undoEnabled=!!h.config.undo,this.redoEnabled=!!h.config.redo},u.prototype.undo=function(){var h=this._gantt;if(this.updateConfigs(),this.undoEnabled){var a=this._pop(this._undoStack);if(a&&this._reorderCommands(a),h.callEvent("onBeforeUndo",[a])!==!1&&a)return this._applyAction(this.action.invert(a)),this._push(this._redoStack,h.copy(a)),void h.callEvent("onAfterUndo",[a]);h.callEvent("onAfterUndo",[null])}},u.prototype.redo=function(){var h=this._gantt;if(this.updateConfigs(),this.redoEnabled){var a=this._pop(this._redoStack);if(a&&this._reorderCommands(a),h.callEvent("onBeforeRedo",[a])!==!1&&a)return this._applyAction(a),this._push(this._undoStack,h.copy(a)),void h.callEvent("onAfterRedo",[a]);h.callEvent("onAfterRedo",[null])}},u.prototype.logAction=function(h){this._push(this._undoStack,h),this._redoStack=[]},u.prototype._push=function(h,a){var l=this._gantt;if(a.commands.length){var r=h===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(l.callEvent(r,[a])!==!1&&a.commands.length){for(h.push(a);h.length>this.maxSteps;)h.shift();return a}}},u.prototype._pop=function(h){return h.pop()},u.prototype._reorderCommands=function(h){var a={any:0,link:1,task:2},l={move:1,any:0};h.commands.sort(function(r,n){if(r.entity==="task"&&n.entity==="task")return r.type!==n.type?(l[n.type]||0)-(l[r.type]||0):r.type==="move"&&r.oldValue&&n.oldValue&&n.oldValue.parent===r.oldValue.parent?r.oldValue.$index-n.oldValue.$index:0;var o=a[r.entity]||a.any;return(a[n.entity]||a.any)-o})},u.prototype._applyAction=function(h){var a=null,l=this.command.entity,r=this.command.type,n=this._gantt,o={};o[l.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},o[l.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},n.batchUpdate(function(){for(var d=0;d<h.commands.length;d++){a=h.commands[d];var f=o[a.entity][a.type],_=o[a.entity].get,m=o[a.entity].isExists;if(a.type===r.add)n[f](a.oldValue,a.oldValue.parent,a.oldValue.$local_index);else if(a.type===r.remove)n[m](a.value.id)&&n[f](a.value.id);else if(a.type===r.update){var v=n[_](a.value.id);for(var y in a.value)y.startsWith("$")||y.startsWith("_")||(v[y]=a.value[y]);n[f](a.value.id)}else a.type===r.move&&(n[f](a.value.id,a.value.$local_index,a.value.parent),n.callEvent("onRowDragEnd",[a.value.id]))}})},u}();g.Undo=c},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},c=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],u=function(){function h(a,l){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=a,this._gantt=l,this._attachEvents()}return h.prototype.store=function(a,l,r){return r===void 0&&(r=!1),l===this._gantt.config.undo_types.task?this._storeTask(a,r):l===this._gantt.config.undo_types.link&&this._storeLink(a,r)},h.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},h.prototype.toggleIgnoreMoveEvents=function(a){this._ignoreMoveEvents=a||!1},h.prototype.startIgnore=function(){this._ignore=!0},h.prototype.stopIgnore=function(){this._ignore=!1},h.prototype.startBatchAction=function(){var a=this;this._timeout||(this._timeout=setTimeout(function(){a.stopBatchAction(),a._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},h.prototype.stopBatchAction=function(){if(!this._ignore){var a=this._undo;this._batchAction&&a.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},h.prototype.onTaskAdded=function(a){this._ignore||this._storeTaskCommand(a,this._undo.command.type.add)},h.prototype.onTaskUpdated=function(a){this._ignore||this._storeTaskCommand(a,this._undo.command.type.update)},h.prototype.onTaskMoved=function(a){if(!this._ignore){a.$local_index=this._gantt.getTaskIndex(a.id);var l=this.getInitialTask(a.id);if(a.$local_index===l.$local_index&&this._gantt.getParent(a)===this._gantt.getParent(l))return;this._storeEntityCommand(a,this.getInitialTask(a.id),this._undo.command.type.move,this._undo.command.entity.task)}},h.prototype.onTaskDeleted=function(a){if(!this._ignore){if(this._storeTaskCommand(a,this._undo.command.type.remove),this._nestedTasks[a.id])for(var l=this._nestedTasks[a.id],r=0;r<l.length;r++)this._storeTaskCommand(l[r],this._undo.command.type.remove);if(this._nestedLinks[a.id]){var n=this._nestedLinks[a.id];for(r=0;r<n.length;r++)this._storeLinkCommand(n[r],this._undo.command.type.remove)}}},h.prototype.onLinkAdded=function(a){this._ignore||this._storeLinkCommand(a,this._undo.command.type.add)},h.prototype.onLinkUpdated=function(a){this._ignore||this._storeLinkCommand(a,this._undo.command.type.update)},h.prototype.onLinkDeleted=function(a){this._ignore||this._storeLinkCommand(a,this._undo.command.type.remove)},h.prototype.setNestedTasks=function(a,l){for(var r=this._gantt,n=null,o=[],d=this._getLinks(r.getTask(a)),f=0;f<l.length;f++)n=this.setInitialTask(l[f]),d=d.concat(this._getLinks(n)),o.push(n);var _={};for(f=0;f<d.length;f++)_[d[f]]=!0;var m=[];for(var f in _)m.push(this.setInitialLink(f));this._nestedTasks[a]=o,this._nestedLinks[a]=m},h.prototype.setInitialTask=function(a,l){var r=this._gantt;if(l||!this._initialTasks[a]||!this._batchMode){var n=r.copy(r.getTask(a));n.$index=r.getGlobalTaskIndex(a),n.$local_index=r.getTaskIndex(a),this.setInitialTaskObject(a,n)}return this._initialTasks[a]},h.prototype.getInitialTask=function(a){return this._initialTasks[a]},h.prototype.clearInitialTasks=function(){this._initialTasks={}},h.prototype.setInitialTaskObject=function(a,l){this._initialTasks[a]=l},h.prototype.setInitialLink=function(a,l){return this._initialLinks[a]&&this._batchMode||(this._initialLinks[a]=this._gantt.copy(this._gantt.getLink(a))),this._initialLinks[a]},h.prototype.getInitialLink=function(a){return this._initialLinks[a]},h.prototype.clearInitialLinks=function(){this._initialLinks={}},h.prototype._attachEvents=function(){var a=this,l=null,r=this._gantt,n=function(){l||(l=setTimeout(function(){l=null}),a.clearInitialTasks(),r.eachTask(function(k){a.setInitialTask(k.id)}),a.clearInitialLinks(),r.getLinks().forEach(function(k){a.setInitialLink(k.id)}))},o=function(k){return r.copy(r.getTask(k))};for(var d in p)r.attachEvent(d,function(){return a.startIgnore(),!0}),r.attachEvent(p[d],function(){return a.stopIgnore(),!0});for(d=0;d<c.length;d++)r.attachEvent(c[d],function(){return a.startBatchAction(),!0});r.attachEvent("onParse",function(){a._undo.clearUndoStack(),a._undo.clearRedoStack(),n()}),r.attachEvent("onAfterTaskAdd",function(k,x){a.setInitialTask(k,!0),a.onTaskAdded(x)}),r.attachEvent("onAfterTaskUpdate",function(k,x){a.onTaskUpdated(x)}),r.attachEvent("onAfterTaskDelete",function(k,x){a.onTaskDeleted(x)}),r.attachEvent("onAfterLinkAdd",function(k,x){a.setInitialLink(k,!0),a.onLinkAdded(x)}),r.attachEvent("onAfterLinkUpdate",function(k,x){a.onLinkUpdated(x)}),r.attachEvent("onAfterLinkDelete",function(k,x){a.onLinkDeleted(x)}),r.attachEvent("onRowDragEnd",function(k,x){return a.onTaskMoved(o(k)),a.toggleIgnoreMoveEvents(),!0}),r.attachEvent("onBeforeTaskDelete",function(k){a.store(k,r.config.undo_types.task);var x=[];return n(),r.eachTask(function(w){x.push(w.id)},k),a.setNestedTasks(k,x),!0});var f=r.getDatastore("task");f.attachEvent("onBeforeItemMove",function(k,x,w){return a.isMoveEventsIgnored()||n(),!0}),f.attachEvent("onAfterItemMove",function(k,x,w){return a.isMoveEventsIgnored()||a.onTaskMoved(o(k)),!0}),r.attachEvent("onRowDragStart",function(k,x,w){return a.toggleIgnoreMoveEvents(!0),n(),!0});var _=null,m=!1;if(r.attachEvent("onBeforeTaskDrag",function(k){if((_=r.getState().drag_id)===k){var x=r.getTask(k);r.isSummaryTask(x)&&r.config.drag_project&&(m=!0)}if(r.plugins().multiselect){var w=r.getSelectedTasks();w.length>1&&w.forEach(function(b){a.store(b,r.config.undo_types.task,!0)})}return a.store(k,r.config.undo_types.task)}),r.attachEvent("onAfterTaskDrag",function(k){(m||r.plugins().multiselect&&r.getSelectedTasks().length>1)&&_===k&&(m=!1,_=null,a.stopBatchAction()),a.store(k,r.config.undo_types.task,!0)}),r.attachEvent("onLightbox",function(k){return a.store(k,r.config.undo_types.task)}),r.attachEvent("onBeforeTaskAutoSchedule",function(k){return a.store(k.id,r.config.undo_types.task,!0),!0}),r.ext.inlineEditors){var v=null,y=null;r.attachEvent("onGanttLayoutReady",function(){v&&r.ext.inlineEditors.detachEvent(v),y&&r.ext.inlineEditors.detachEvent(y),y=r.ext.inlineEditors.attachEvent("onEditStart",function(k){a.store(k.id,r.config.undo_types.task)}),v=r.ext.inlineEditors.attachEvent("onBeforeEditStart",function(k){return a.stopBatchAction(),!0})})}},h.prototype._storeCommand=function(a){var l=this._undo;if(l.updateConfigs(),l.undoEnabled)if(this._batchMode)this._batchAction.commands.push(a);else{var r=l.action.create([a]);l.logAction(r)}},h.prototype._storeEntityCommand=function(a,l,r,n){var o=this._undo.command.create(a,l,r,n);this._storeCommand(o)},h.prototype._storeTaskCommand=function(a,l){this._gantt.isTaskExists(a.id)&&(a.$local_index=this._gantt.getTaskIndex(a.id)),this._storeEntityCommand(a,this.getInitialTask(a.id),l,this._undo.command.entity.task)},h.prototype._storeLinkCommand=function(a,l){this._storeEntityCommand(a,this.getInitialLink(a.id),l,this._undo.command.entity.link)},h.prototype._getLinks=function(a){return a.$source.concat(a.$target)},h.prototype._storeTask=function(a,l){var r=this;l===void 0&&(l=!1);var n=this._gantt;return this.setInitialTask(a,l),n.eachTask(function(o){r.setInitialTask(o.id)},a),!0},h.prototype._storeLink=function(a,l){return l===void 0&&(l=!1),this.setInitialLink(a,l),!0},h}();g.Monitor=u},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(254),c=i(253);g.default=function(u){var h=new c.Undo(u),a=new p.Monitor(h,u);function l(_,m,v){_&&(_.id===m&&(_.id=v),_.parent===m&&(_.parent=v))}function r(_,m,v){l(_.value,m,v),l(_.oldValue,m,v)}function n(_,m,v){_&&(_.source===m&&(_.source=v),_.target===m&&(_.target=v))}function o(_,m,v){n(_.value,m,v),n(_.oldValue,m,v)}function d(_,m,v){for(var y=h,k=0;k<_.length;k++)for(var x=_[k],w=0;w<x.commands.length;w++)x.commands[w].entity===y.command.entity.task?r(x.commands[w],m,v):x.commands[w].entity===y.command.entity.link&&o(x.commands[w],m,v)}function f(_,m,v){for(var y=h,k=0;k<_.length;k++)for(var x=_[k],w=0;w<x.commands.length;w++){var b=x.commands[w];b.entity===y.command.entity.link&&(b.value&&b.value.id===m&&(b.value.id=v),b.oldValue&&b.oldValue.id===m&&(b.oldValue.id=v))}}u.config.undo=!0,u.config.redo=!0,u.config.undo_types={link:"link",task:"task"},u.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},u.ext||(u.ext={}),u.ext.undo={undo:function(){return h.undo()},redo:function(){return h.redo()},getUndoStack:function(){return h.getUndoStack()},setUndoStack:function(_){return h.setUndoStack(_)},getRedoStack:function(){return h.getRedoStack()},setRedoStack:function(_){return h.setRedoStack(_)},clearUndoStack:function(){return h.clearUndoStack()},clearRedoStack:function(){return h.clearRedoStack()},saveState:function(_,m){return a.store(_,m,!0)},getInitialState:function(_,m){return m===u.config.undo_types.link?a.getInitialLink(_):a.getInitialTask(_)}},u.undo=u.ext.undo.undo,u.redo=u.ext.undo.redo,u.getUndoStack=u.ext.undo.getUndoStack,u.getRedoStack=u.ext.undo.getRedoStack,u.clearUndoStack=u.ext.undo.clearUndoStack,u.clearRedoStack=u.ext.undo.clearRedoStack,u.attachEvent("onTaskIdChange",function(_,m){var v=h;d(v.getUndoStack(),_,m),d(v.getRedoStack(),_,m)}),u.attachEvent("onLinkIdChange",function(_,m){var v=h;f(v.getUndoStack(),_,m),f(v.getRedoStack(),_,m)}),u.attachEvent("onGanttReady",function(){h.updateConfigs()})}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(1),c=function(){function u(h){this._gantt=h}return u.prototype.getNode=function(){var h=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",h._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},u.prototype.setViewport=function(h){return this._root=h,this},u.prototype.show=function(h,a){var l=this._gantt,r=document.body,n=this.getNode();if(p.isChildOf(n,r)||(this.hide(),n.style.top=n.style.top||"0px",n.style.left=n.style.left||"0px",r.appendChild(n)),this._isLikeMouseEvent(h)){var o=this._calculateTooltipPosition(h);a=o.top,h=o.left}return n.style.top=a+"px",n.style.left=h+"px",l._waiAria.tooltipVisibleAttr(n),this},u.prototype.hide=function(){var h=this._gantt,a=this.getNode();return a&&a.parentNode&&a.parentNode.removeChild(a),h._waiAria.tooltipHiddenAttr(a),this},u.prototype.setContent=function(h){return this.getNode().innerHTML=h,this},u.prototype._isLikeMouseEvent=function(h){return!(!h||typeof h!="object")&&"clientX"in h&&"clientY"in h},u.prototype._getViewPort=function(){return this._root||document.body},u.prototype._calculateTooltipPosition=function(h){var a=this._gantt,l=this._getViewPortSize(),r=this.getNode(),n={top:0,left:0,width:r.offsetWidth,height:r.offsetHeight,bottom:0,right:0},o=a.config.tooltip_offset_x,d=a.config.tooltip_offset_y,f=document.body,_=p.getRelativeEventPosition(h,f),m=p.getNodePosition(f);_.y+=m.y,n.top=_.y,n.left=_.x,n.top+=d,n.left+=o,n.bottom=n.top+n.height,n.right=n.left+n.width;var v=window.scrollY+f.scrollTop;return n.top<l.top-v?(n.top=l.top,n.bottom=n.top+n.height):n.bottom>l.bottom&&(n.bottom=l.bottom,n.top=n.bottom-n.height),n.left<l.left?(n.left=l.left,n.right=l.left+n.width):n.right>l.right&&(n.right=l.right,n.left=n.right-n.width),_.x>=n.left&&_.x<=n.right&&(n.left=_.x-n.width-o,n.right=n.left+n.width),_.y>=n.top&&_.y<=n.bottom&&(n.top=_.y-n.height-d,n.bottom=n.top+n.height),n},u.prototype._getViewPortSize=function(){var h,a=this._gantt,l=this._getViewPort(),r=l,n=window.scrollY+document.body.scrollTop,o=window.scrollX+document.body.scrollLeft;return l===a.$task_data?(r=a.$task,n=0,o=0,h=p.getNodePosition(a.$task)):h=p.getNodePosition(r),{left:h.x+o,top:h.y+n,width:h.width,height:h.height,bottom:h.y+h.height+n,right:h.x+h.width+o}},u}();g.Tooltip=c},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(51),c=i(1),u=i(2),h=i(256),a=function(){function l(r){this._listeners={},this.tooltip=new h.Tooltip(r),this._gantt=r,this._domEvents=p(),this._initDelayedFunctions()}return l.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},l.prototype.hideTooltip=function(){this.delayHide()},l.prototype.attach=function(r){var n=this,o=document.body,d=this._gantt;r.global||(o=d.$root);var f=null,_=function(m){var v=c.getTargetNode(m),y=c.closest(v,r.selector);if(!c.isChildOf(v,n.tooltip.getNode())){var k=function(){f=y,r.onmouseenter(m,y)};f?y&&y===f?r.onmousemove(m,y):(r.onmouseleave(m,f),f=null,y&&y!==f&&k()):y&&k()}};this.detach(r.selector),this._domEvents.attach(o,"mousemove",_),this._listeners[r.selector]={node:o,handler:_}},l.prototype.detach=function(r){var n=this._listeners[r];n&&this._domEvents.detach(n.node,"mousemove",n.handler)},l.prototype.tooltipFor=function(r){var n=this,o=function(d){var f=d;return document.createEventObject&&!document.createEvent&&(f=document.createEventObject(d)),f};this._initDelayedFunctions(),this.attach({selector:r.selector,global:r.global,onmouseenter:function(d,f){var _=r.html(d,f);_&&n.delayShow(o(d),_)},onmousemove:function(d,f){var _=r.html(d,f);_?n.delayShow(o(d),_):(n.delayShow.$cancelTimeout(),n.delayHide())},onmouseleave:function(){n.delayShow.$cancelTimeout(),n.delayHide()}})},l.prototype._initDelayedFunctions=function(){var r=this,n=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=u.delay(function(o,d){n.callEvent("onBeforeTooltip",[o])===!1?r.tooltip.hide():(r.tooltip.setContent(d),r.tooltip.show(o))},n.config.tooltip_timeout||1),this.delayHide=u.delay(function(){r.delayShow.$cancelTimeout(),r.tooltip.hide()},n.config.tooltip_hide_timeout||1)},l}();g.TooltipManager=a},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(257);g.default=function(c){c.config.tooltip_timeout=30,c.config.tooltip_offset_y=20,c.config.tooltip_offset_x=10,c.config.tooltip_hide_timeout=30;var u=new p.TooltipManager(c);c.ext.tooltips=u,c.attachEvent("onGanttReady",function(){u.tooltipFor({selector:"["+c.config.task_attribute+"]:not(.gantt_task_row)",html:function(h){if(!c.config.touch||c.config.touch_tooltip){var a=c.locate(h);if(c.isTaskExists(a)){var l=c.getTask(a);return c.templates.tooltip_text(l.start_date,l.end_date,l)}return null}},global:!1})}),c.attachEvent("onDestroy",function(){u.destructor()}),c.attachEvent("onLightbox",function(){u.hideTooltip()}),c.attachEvent("onBeforeTooltip",function(){if(c.getState().link_source_id)return!1}),c.attachEvent("onGanttScroll",function(){u.hideTooltip()})}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(u){var h=this;this.show=function(a,l){l===void 0?h._showForTask(a):h._showAtCoordinates(a,l)},this.hide=function(a){var l=h._gantt,r=h._quickInfoBox;h._quickInfoBoxId=0;var n=h._quickInfoTask;if(h._quickInfoTask=null,r&&r.parentNode){if(l.config.quick_info_detached)return l.callEvent("onAfterQuickInfo",[n]),r.parentNode.removeChild(r);r.className+=" gantt_qi_hidden",r.style.right==="auto"?r.style.left="-350px":r.style.right="-350px",a&&(r.style.left=r.style.right="",r.parentNode.removeChild(r)),l.callEvent("onAfterQuickInfo",[n])}},this.getNode=function(){return h._quickInfoBox?h._quickInfoBox:null},this.setContainer=function(a){a&&(h._container=typeof a=="string"?document.getElementById(a):a)},this.setContent=function(a){var l=h._gantt,r={taskId:null,header:{title:"",date:""},content:"",buttons:l.config.quickinfo_buttons};a||(a=r),a.taskId||(a.taskId=r.taskId),a.header||(a.header=r.header),a.header.title||(a.header.title=r.header.title),a.header.date||(a.header.date=r.header.date),a.content||(a.content=r.content),a.buttons||(a.buttons=r.buttons);var n=h.getNode();n||(n=h._createQuickInfoElement()),a.taskId&&(h._quickInfoBoxId=a.taskId);var o=n.querySelector(".gantt_cal_qi_title"),d=o.querySelector(".gantt_cal_qi_tcontent"),f=o.querySelector(".gantt_cal_qi_tdate"),_=n.querySelector(".gantt_cal_qi_content"),m=n.querySelector(".gantt_cal_qi_controls");l._waiAria.quickInfoHeader(n,[a.header.title,a.header.date].join(" ")),d.innerHTML=a.header.title,f.innerHTML=a.header.date,a.header.title||a.header.date?o.style.display="":o.style.display="none",_.innerHTML=a.content;var v=a.buttons;v.length?m.style.display="":m.style.display="none";for(var y="",k=0;k<v.length;k++){var x=l._waiAria.quickInfoButtonAttrString(l.locale.labels[v[k]]);y+='<div class="gantt_qi_big_icon '+v[k]+'" title="'+l.locale.labels[v[k]]+'" '+x+"><div class='gantt_menu_icon "+v[k]+"'></div><div>"+l.locale.labels[v[k]]+"</div></div>"}m.innerHTML=y,l.eventRemove(n,"click",h._qiButtonClickHandler),l.eventRemove(n,"keypress",h._qiKeyPressHandler),l.event(n,"click",h._qiButtonClickHandler),l.event(n,"keypress",h._qiKeyPressHandler)},this._qiButtonClickHandler=function(a){a=a||event,h._qi_button_click(a.target||a.srcElement)},this._qiKeyPressHandler=function(a){var l=(a=a||event).which||event.keyCode;l!==13&&l!==32||setTimeout(function(){h._qi_button_click(a.target||a.srcElement)},1)},this._gantt=u}return c.prototype._showAtCoordinates=function(u,h){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(u,h),this._gantt.callEvent("onQuickInfo",[null])},c.prototype._showForTask=function(u){var h=this._gantt;if((u!==this._quickInfoBoxId||!h.utils.dom.isChildOf(this._quickInfoBox,document.body))&&h.config.show_quick_info){this.hide(!0);var a=this._getContainer(),l=this._get_event_counter_part(u,6,a.xViewport,a.yViewport);l&&(this._quickInfoBox=this._init_quick_info(u),this._quickInfoTask=u,this._quickInfoBox.className=this._prepare_quick_info_classname(u),this._fill_quick_data(u),this._show_quick_info(l,6),h.callEvent("onQuickInfo",[u]))}},c.prototype._get_event_counter_part=function(u,h,a,l){var r=this._gantt,n=r.getTaskNode(u);if(!n&&!(n=r.getTaskRowNode(u)))return null;var o=0,d=h+n.offsetTop+n.offsetHeight,f=n;if(r.utils.dom.isChildOf(f,a))for(;f&&f!==a;)o+=f.offsetLeft,f=f.offsetParent;var _=r.getScrollState();return f?{left:o,top:d,dx:o+n.offsetWidth/2-_.x>a.offsetWidth/2?1:0,dy:d+n.offsetHeight/2-_.y>l.offsetHeight/2?1:0,width:n.offsetWidth,height:n.offsetHeight}:null},c.prototype._createQuickInfoElement=function(){var u=this,h=this._gantt,a=document.createElement("div");a.className+="gantt_cal_quick_info",h._waiAria.quickInfoAttr(a);var l='<div class="gantt_cal_qi_title" '+h._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(l+='<div class="gantt_cal_qi_controls">',l+="</div>",a.innerHTML=l,h.config.quick_info_detached){var r=this._getContainer();h.event(r.parent,"scroll",function(){u.hide()})}return this._quickInfoBox=a,a},c.prototype._init_quick_info=function(u){var h=this._gantt,a=h.getTask(u);return typeof this._quickInfoReadonly=="boolean"&&h.isReadonly(a)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=h.isReadonly(a),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},c.prototype._prepare_quick_info_classname=function(u){var h=this._gantt,a=h.getTask(u),l="gantt_cal_quick_info",r=h.templates.quick_info_class(a.start_date,a.end_date,a);return r&&(l+=" "+r),l},c.prototype._fill_quick_data=function(u){var h=this._gantt,a=h.getTask(u);this._quickInfoBoxId=u;var l=[];if(this._quickInfoReadonly)for(var r=h.config.quickinfo_buttons,n={icon_delete:!0,icon_edit:!0},o=0;o<r.length;o++)this._quickInfoReadonly&&n[r[o]]||l.push(r[o]);else l=h.config.quickinfo_buttons;this.setContent({header:{title:h.templates.quick_info_title(a.start_date,a.end_date,a),date:h.templates.quick_info_date(a.start_date,a.end_date,a)},content:h.templates.quick_info_content(a.start_date,a.end_date,a),buttons:l})},c.prototype._appendAtCoordinates=function(u,h){var a=this._quickInfoBox,l=this._getContainer();a.parentNode&&a.parentNode.nodeName.toLowerCase()!=="#document-fragment"||l.parent.appendChild(a),a.style.left=u+"px",a.style.top=h+"px"},c.prototype._show_quick_info=function(u,h){var a=this._gantt,l=this._quickInfoBox;if(a.config.quick_info_detached){var r=this._getContainer();l.parentNode&&l.parentNode.nodeName.toLowerCase()!=="#document-fragment"||r.parent.appendChild(l);var n=l.offsetWidth,o=l.offsetHeight,d=a.getScrollState(),f=r.xViewport,_=r.yViewport,m=f.offsetWidth+d.x-n,v=u.top-d.y+o,y=u.top;v>_.offsetHeight/2&&(y=u.top-(o+u.height+2*h))<d.y&&v<=_.offsetHeight&&(y=u.top),y<d.y&&(y=d.y);var k=Math.min(Math.max(d.x,u.left-u.dx*(n-u.width)),m),x=y;this._appendAtCoordinates(k,x)}else l.style.top="20px",u.dx===1?(l.style.right="auto",l.style.left="-300px",setTimeout(function(){l.style.left="10px"},1)):(l.style.left="auto",l.style.right="-300px",setTimeout(function(){l.style.right="10px"},1)),l.className+=" gantt_qi_"+(u.dx===1?"left":"right"),a.$root.appendChild(l)},c.prototype._qi_button_click=function(u){var h=this._gantt,a=this._quickInfoBox;if(u&&u!==a){var l=u.className;if(l.indexOf("_icon")!==-1){var r=this._quickInfoBoxId;h.$click.buttons[l.split(" ")[1].replace("icon_","")](r)}else this._qi_button_click(u.parentNode)}},c.prototype._getContainer=function(){var u=this._gantt,h=this._container?this._container:u.$task_data;return h&&h.offsetHeight&&h.offsetWidth?{parent:h,xViewport:u.$task,yViewport:u.$task_data}:(h=this._container?this._container:u.$grid_data)&&h.offsetHeight&&h.offsetWidth?{parent:h,xViewport:u.$grid,yViewport:u.$grid_data}:{parent:this._container?this._container:u.$layout,xViewport:u.$layout,yViewport:u.$layout}},c}();g.QuickInfo=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(259);g.default=function(c){c.ext||(c.ext={}),c.ext.quickInfo=new p.QuickInfo(c),c.config.quickinfo_buttons=["icon_delete","icon_edit"],c.config.quick_info_detached=!0,c.config.show_quick_info=!0,c.templates.quick_info_title=function(r,n,o){return o.text.substr(0,50)},c.templates.quick_info_content=function(r,n,o){return o.details||o.text},c.templates.quick_info_date=function(r,n,o){return c.templates.task_time(r,n,o)},c.templates.quick_info_class=function(r,n,o){return""},c.attachEvent("onTaskClick",function(r,n){return c.utils.dom.closest(n.target,".gantt_add")||setTimeout(function(){c.ext.quickInfo.show(r)},0),!0});for(var u=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],h=function(){return c.ext.quickInfo.hide(),!0},a=0;a<u.length;a++)c.attachEvent(u[a],h);function l(){return c.ext.quickInfo.hide(),c.ext.quickInfo._quickInfoBox=null,!0}c.attachEvent("onEmptyClick",function(r){var n=!0,o=document.querySelector(".gantt_cal_quick_info");o&&c.utils.dom.isChildOf(r.target,o)&&(n=!1),n&&h()}),c.attachEvent("onGanttReady",l),c.attachEvent("onDestroy",l),c.event(window,"keydown",function(r){r.keyCode===27&&c.ext.quickInfo.hide()})}},function(s,g,i){var p=i(2).replaceValidZeroId;s.exports=function(c){c.config.multiselect=!0,c.config.multiselect_one_level=!1,c._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var u=this.getSelected();return u.length?u[u.length-1]:null},setFirstSelected:function(u){this._first_selected_when_shift=u},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=c.config.multiselect_one_level;var u=this._active;this._active=c.config.select_task,this._active!=u&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(u){c.$data.tasksStore.silent(function(){var h=c.$data.tasksStore;u?h.select(u+""):h.unselect(null)})},getLastSelected:function(){var u=c.$data.tasksStore.getSelectedId();return u&&c.isTaskExists(u)?u:null},select:function(u,h){return!!(u&&c.callEvent("onBeforeTaskMultiSelect",[u,!0,h])&&c.callEvent("onBeforeTaskSelected",[u]))&&(this._selected[u]=!0,this.setLastSelected(u),this.afterSelect(u),c.callEvent("onTaskMultiSelect",[u,!0,h]),c.callEvent("onTaskSelected",[u]),!0)},toggle:function(u,h){this._selected[u]?this.unselect(u,h):this.select(u,h)},unselect:function(u,h){u&&c.callEvent("onBeforeTaskMultiSelect",[u,!1,h])&&(this._selected[u]=!1,this.getLastSelected()==u&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(u),c.callEvent("onTaskMultiSelect",[u,!1,h]),c.callEvent("onTaskUnselected",[u]))},isSelected:function(u){return!(!c.isTaskExists(u)||!this._selected[u])},getSelected:function(){var u=[];for(var h in this._selected)this._selected[h]&&c.isTaskExists(h)?u.push(h):this._selected[h]=!1;return u.sort(function(a,l){return c.getGlobalTaskIndex(a)>c.getGlobalTaskIndex(l)?1:-1}),u},forSelected:function(u){for(var h=this.getSelected(),a=0;a<h.length;a++)u(h[a])},isSameLevel:function(u){if(!this._one_level)return!0;var h=this.getLastSelected();return!h||!c.isTaskExists(h)||!c.isTaskExists(u)||c.calculateTaskLevel(c.getTask(h))==c.calculateTaskLevel(c.getTask(u))},afterSelect:function(u){c.isTaskExists(u)&&c._quickRefresh(function(){c.refreshTask(u)})},doSelection:function(u){if(!this.isActive()||c._is_icon_open_click(u))return!1;var h=c.locate(u);if(!h||!c.callEvent("onBeforeMultiSelect",[u]))return!1;var a=this.getSelected(),l=this.getFirstSelected(),r=!1,n=this.getLastSelected(),o=c.config.multiselect,d=(function(){var _=c.ext.inlineEditors,m=_.getState(),v=_.locateCell(u.target);c.config.inline_editors_multiselect_open&&v&&_.getEditorConfig(v.columnName)&&(_.isVisible()&&m.id==v.id&&m.columnName==v.columnName||_.startEdit(v.id,v.columnName)),this.setFirstSelected(h),this.isSelected(h)||this.select(h,u),a=this.getSelected();for(var y=0;y<a.length;y++)a[y]!==h&&this.unselect(a[y],u)}).bind(this),f=(function(){if(n){if(h){for(var _=c.getGlobalTaskIndex(this.getFirstSelected()),m=c.getGlobalTaskIndex(h),v=c.getGlobalTaskIndex(n),y=n;c.getGlobalTaskIndex(y)!==_;)this.unselect(y,u),y=_>v?c.getNext(y):c.getPrev(y);for(y=h;c.getGlobalTaskIndex(y)!==_;)this.select(y,u)&&!r&&(r=!0,l=y),y=_>m?c.getNext(y):c.getPrev(y)}}else n=h}).bind(this);return o&&(u.ctrlKey||u.metaKey)?(this.isSelected(h)||this.setFirstSelected(h),h&&this.toggle(h,u)):o&&u.shiftKey?(c.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(h),a.length?f():d()):d(),this.isSelected(h)?this.setLastSelected(h):l?h==n&&this.setLastSelected(u.shiftKey?l:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var u=c.selectTask;c.selectTask=function(a){if(!(a=p(a,this.config.root_id)))return!1;var l=c._multiselect,r=a;return l.isActive()?(l.select(a,null)&&l.setLastSelected(a),l.setFirstSelected(l.getLastSelected())):r=u.call(this,a),r};var h=c.unselectTask;c.unselectTask=function(a){var l=c._multiselect,r=l.isActive();(a=a||l.getLastSelected())&&r&&(l.unselect(a,null),a==l.getLastSelected()&&l.setLastSelected(null),c.refreshTask(a),l.setFirstSelected(l.getLastSelected()));var n=a;return r||(n=h.call(this,a)),n},c.toggleTaskSelection=function(a){var l=c._multiselect;a&&l.isActive()&&(l.toggle(a),l.setFirstSelected(l.getLastSelected()))},c.getSelectedTasks=function(){var a=c._multiselect;return a.isActive(),a.getSelected()},c.eachSelectedTask=function(a){return this._multiselect.forSelected(a)},c.isSelectedTask=function(a){return this._multiselect.isSelected(a)},c.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},c.attachEvent("onGanttReady",function(){var a=c.$data.tasksStore.isSelected;c.$data.tasksStore.isSelected=function(l){return c._multiselect.isActive()?c._multiselect.isSelected(l):a.call(this,l)}})}(),c.attachEvent("onTaskIdChange",function(u,h){var a=c._multiselect;if(!a.isActive())return!0;c.isSelectedTask(u)&&(a.unselect(u,null),a.select(h,null))}),c.attachEvent("onAfterTaskDelete",function(u,h){var a=c._multiselect;if(!a.isActive())return!0;a._selected[u]&&(a._selected[u]=!1,a.setLastSelected(a.getDefaultSelected())),a.forSelected(function(l){c.isTaskExists(l)||a.unselect(l,null)})}),c.attachEvent("onBeforeTaskMultiSelect",function(u,h,a){var l=c._multiselect;return!(h&&l.isActive()&&l._one_level)||l.isSameLevel(u)}),c.attachEvent("onTaskClick",function(u,h){return c._multiselect.doSelection(h)&&c.callEvent("onMultiSelect",[h]),!0})}},function(s,g){s.exports=function(i){function p(u){if(!i.config.show_markers||!u.start_date)return!1;var h=i.getState();if(!(+u.start_date>+h.max_date||(!u.end_date||+u.end_date<+h.min_date)&&+u.start_date<+h.min_date)){var a=document.createElement("div");a.setAttribute("data-marker-id",u.id);var l="gantt_marker";i.templates.marker_class&&(l+=" "+i.templates.marker_class(u)),u.css&&(l+=" "+u.css),u.title&&(a.title=u.title),a.className=l;var r=i.posFromDate(u.start_date);a.style.left=r+"px";var n=Math.max(i.getRowTop(i.getVisibleTaskCount()),0)+"px";if(i.config.timeline_placeholder&&i.$task_data&&(n=i.$task_data.scrollHeight+"px"),a.style.height=n,u.end_date){var o=i.posFromDate(u.end_date);a.style.width=Math.max(o-r,0)+"px"}return u.text&&(a.innerHTML="<div class='gantt_marker_content' >"+u.text+"</div>"),a}}function c(){if(i.$task_data){var u=document.createElement("div");u.className="gantt_marker_area",i.$task_data.appendChild(u),i.$marker_area=u}}i._markers||(i._markers=i.createDatastore({name:"marker",initItem:function(u){return u.id=u.id||i.uid(),u}})),i.config.show_markers=!0,i.attachEvent("onBeforeGanttRender",function(){i.$marker_area||c()}),i.attachEvent("onDataRender",function(){i.$marker_area||(c(),i.renderMarkers())}),i.attachEvent("onGanttLayoutReady",function(){i.attachEvent("onBeforeGanttRender",function(){c(),i.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return i.$marker_area}}).addLayer(p)},{once:!0})}),i.getMarker=function(u){return this._markers?this._markers.getItem(u):null},i.addMarker=function(u){return this._markers.addItem(u)},i.deleteMarker=function(u){return!!this._markers.exists(u)&&(this._markers.removeItem(u),!0)},i.updateMarker=function(u){this._markers.refresh(u)},i._getMarkers=function(){return this._markers.getItems()},i.renderMarkers=function(){this._markers.refresh()}}},function(s,g){s.exports=function(i){i.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new i.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var p;return(p=i.config.keyboard_navigation_cells?new i.$keyboardNavigation.TaskCell:new i.$keyboardNavigation.TaskRow).isValid()||(p=p.fallback()),p},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var p=this.activeNode;return p&&!p.isValid()&&(p=p.fallback()),p},fromDomElement:function(p){for(var c=[i.$keyboardNavigation.TaskRow,i.$keyboardNavigation.TaskCell,i.$keyboardNavigation.HeaderCell],u=0;u<c.length;u++)if(c[u].prototype.fromDomElement){var h=c[u].prototype.fromDomElement(p);if(h)return h}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(p){var c=!0;this.activeNode&&this.activeNode.compareTo(p)&&(c=!1),this.isEnabled()&&(c&&this.blurNode(this.activeNode),this.activeNode=p,this.focusNode(this.activeNode,!c))},focusNode:function(p,c){p&&p.focus&&p.focus(c)},blurNode:function(p){p&&p.blur&&p.blur()},keyDownHandler:function(p){if(!i.$keyboardNavigation.isModal()&&this.isEnabled()&&!p.defaultPrevented){var c=this.globalNode,u=i.$keyboardNavigation.shortcuts.getCommandFromEvent(p),h=this.getActiveNode();i.$keyboardNavigation.facade.callEvent("onKeyDown",[u,p])!==!1&&(h?h.findHandler(u)?h.doAction(u,p):c.findHandler(u)&&c.doAction(u,p):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(p,c){clearTimeout(this._timeout),this._timeout=setTimeout(i.bind(function(){this._timeout=null,p()},this),c||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(s,g){s.exports=function(i){(function(){var p=[];function c(){return!!p.length}function u(o){setTimeout(function(){c()||i.$destroyed||i.focus()},1)}function h(o){i.eventRemove(o,"keydown",l),i.event(o,"keydown",l),p.push(o)}function a(){var o=p.pop();o&&i.eventRemove(o,"keydown",l),u()}function l(o){var d=o.currentTarget;(function(f){return f==p[p.length-1]})(d)&&i.$keyboardNavigation.trapFocus(d,o)}function r(){h(i.getLightbox())}i.attachEvent("onLightbox",r),i.attachEvent("onAfterLightbox",a),i.attachEvent("onLightboxChange",function(){a(),r()}),i.attachEvent("onAfterQuickInfo",function(){u()}),i.attachEvent("onMessagePopup",function(o){n=i.utils.dom.getActiveElement(),h(o)}),i.attachEvent("onAfterMessagePopup",function(){a(),setTimeout(function(){n&&(n.focus(),n=null)},1)});var n=null;i.$keyboardNavigation.isModal=c})()}},function(s,g,i){s.exports=function(p){var c=i(1),u=i(2).replaceValidZeroId;p.$keyboardNavigation.TaskCell=function(h,a){if(!(h=u(h,p.config.root_id))){var l=p.getChildren(p.config.root_id);l[0]&&(h=l[0])}this.taskId=h,this.columnIndex=a||0,p.isTaskExists(this.taskId)&&(this.index=p.getTaskIndex(this.taskId),this.globalIndex=p.getGlobalTaskIndex(this.taskId))},p.$keyboardNavigation.TaskCell.prototype=p._compose(p.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return p.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!p.getGridColumns()[this.columnIndex]},fallback:function(){var h=p.$keyboardNavigation.TaskRow.prototype.fallback.call(this),a=h;if(h instanceof p.$keyboardNavigation.TaskRow){for(var l=p.getGridColumns(),r=this.columnIndex;r>=0&&!l[r];)r--;l[r]&&(a=new p.$keyboardNavigation.TaskCell(h.taskId,r))}return a},fromDomElement:function(h){if(!p.config.keyboard_navigation_cells)return null;var a=p.locate(h);if(p.isTaskExists(a)){var l=0,r=c.locateAttribute(h,"data-column-index");return r&&(l=1*r.getAttribute("data-column-index")),new p.$keyboardNavigation.TaskCell(a,l)}return null},getNode:function(){if(p.isTaskExists(this.taskId)&&p.isTaskVisible(this.taskId)){if(p.config.show_grid){var h=p.$grid.querySelector(".gantt_row["+p.config.task_attribute+"='"+this.taskId+"']");return h?h.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return p.getTaskNode(this.taskId)}},keys:{up:function(){var h=null,a=p.getPrev(this.taskId);h=p.isTaskExists(a)?new p.$keyboardNavigation.TaskCell(a,this.columnIndex):new p.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(h)},down:function(){var h=p.getNext(this.taskId);p.isTaskExists(h)&&this.moveTo(new p.$keyboardNavigation.TaskCell(h,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new p.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var h=p.getGridColumns();this.columnIndex<h.length-1&&this.moveTo(new p.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var h=p.getGridColumns();this.moveTo(new p.$keyboardNavigation.TaskCell(this.taskId,h.length-1))},home:function(){this.moveTo(new p.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){p.getVisibleTaskCount()&&this.moveTo(new p.$keyboardNavigation.TaskCell(p.getTaskByIndex(p.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){p.getVisibleTaskCount()&&this.moveTo(new p.$keyboardNavigation.TaskCell(p.getTaskByIndex(0).id,this.columnIndex))}}}),p.$keyboardNavigation.TaskCell.prototype.bindAll(p.$keyboardNavigation.TaskRow.prototype.keys),p.$keyboardNavigation.TaskCell.prototype.bindAll(p.$keyboardNavigation.TaskCell.prototype.keys)}},function(s,g){s.exports=function(i){i.$keyboardNavigation.TaskRow=function(p){if(!p){var c=i.getChildren(i.config.root_id);c[0]&&(p=c[0])}this.taskId=p,i.isTaskExists(this.taskId)&&(this.index=i.getTaskIndex(this.taskId),this.globalIndex=i.getGlobalTaskIndex(this.taskId))},i.$keyboardNavigation.TaskRow.prototype=i._compose(i.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return i.isTaskExists(this.taskId)&&i.getTaskIndex(this.taskId)>-1},fallback:function(){if(!i.getVisibleTaskCount()){var p=new i.$keyboardNavigation.HeaderCell;return p.isValid()?p:null}var c=-1;if(i.getTaskByIndex(this.globalIndex-1))c=this.globalIndex-1;else if(i.getTaskByIndex(this.globalIndex+1))c=this.globalIndex+1;else for(var u=this.globalIndex;u>=0;){if(i.getTaskByIndex(u)){c=u;break}u--}if(c>-1)return new i.$keyboardNavigation.TaskRow(i.getTaskByIndex(c).id)},fromDomElement:function(p){if(i.config.keyboard_navigation_cells)return null;var c=i.locate(p);return i.isTaskExists(c)?new i.$keyboardNavigation.TaskRow(c):null},getNode:function(){if(i.isTaskExists(this.taskId)&&i.isTaskVisible(this.taskId))return i.config.show_grid?i.$grid.querySelector(".gantt_row["+i.config.task_attribute+"='"+this.taskId+"']"):i.getTaskNode(this.taskId)},focus:function(p){if(!p){var c,u,h=i.getTaskPosition(i.getTask(this.taskId)),a=i.getTaskHeight(this.taskId),l=i.getScrollState();c=i.$task?i.$task.offsetWidth:l.inner_width,u=i.$grid_data||i.$task_data?(i.$grid_data||i.$task_data).offsetHeight:l.inner_height,h.top<l.y||h.top+a>l.y+u?i.scrollTo(null,h.top-20):i.config.scroll_on_click&&i.config.show_chart&&(h.left>l.x+c?i.scrollTo(h.left-i.config.task_scroll_offset):h.left+h.width<l.x&&i.scrollTo(h.left+h.width-i.config.task_scroll_offset))}i.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[p]),function(){var r=i.$ui.getView("grid"),n=parseInt(r.$grid.scrollLeft),o=parseInt(r.$grid_data.scrollTop),d=r.$config.scrollX;if(d&&r.$config.scrollable){var f=i.$ui.getView(d);f&&f.scrollTo(n,o)}var _=r.$config.scrollY;if(_){var m=i.$ui.getView(_);m&&m.scrollTo(n,o)}}()},keys:{pagedown:function(){i.getVisibleTaskCount()&&this.moveTo(new i.$keyboardNavigation.TaskRow(i.getTaskByIndex(i.getVisibleTaskCount()-1).id))},pageup:function(){i.getVisibleTaskCount()&&this.moveTo(new i.$keyboardNavigation.TaskRow(i.getTaskByIndex(0).id))},up:function(){var p=null,c=i.getPrev(this.taskId);p=i.isTaskExists(c)?new i.$keyboardNavigation.TaskRow(c):new i.$keyboardNavigation.HeaderCell,this.moveTo(p)},down:function(){var p=i.getNext(this.taskId);i.isTaskExists(p)&&this.moveTo(new i.$keyboardNavigation.TaskRow(p))},"shift+down":function(){i.hasChild(this.taskId)&&!i.getTask(this.taskId).$open&&i.open(this.taskId)},"shift+up":function(){i.hasChild(this.taskId)&&i.getTask(this.taskId).$open&&i.close(this.taskId)},"shift+right":function(){if(!i.isReadonly(this)){var p=i.getPrevSibling(this.taskId);i.isTaskExists(p)&&!i.isChildOf(this.taskId,p)&&(i.getTask(p).$open=!0,i.moveTask(this.taskId,-1,p)!==!1&&i.updateTask(this.taskId))}},"shift+left":function(){if(!i.isReadonly(this)){var p=i.getParent(this.taskId);i.isTaskExists(p)&&i.moveTask(this.taskId,i.getTaskIndex(p)+1,i.getParent(p))!==!1&&i.updateTask(this.taskId)}},space:function(p){i.isSelectedTask(this.taskId)?i.unselectTask(this.taskId):i.selectTask(this.taskId)},"ctrl+left":function(p){i.close(this.taskId)},"ctrl+right":function(p){i.open(this.taskId)},delete:function(p){i.isReadonly(this)||i.$click.buttons.delete(this.taskId)},enter:function(){i.isReadonly(this)||i.showLightbox(this.taskId)},"ctrl+enter":function(){i.isReadonly(this)||i.createTask({},this.taskId)}}}),i.$keyboardNavigation.TaskRow.prototype.bindAll(i.$keyboardNavigation.TaskRow.prototype.keys)}},function(s,g,i){s.exports=function(p){var c=i(1);p.$keyboardNavigation.HeaderCell=function(u){this.index=u||0},p.$keyboardNavigation.HeaderCell.prototype=p._compose(p.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!p.config.show_grid&&p.getVisibleTaskCount())&&(!!p.getGridColumns()[this.index]||!p.getVisibleTaskCount())},fallback:function(){if(!p.config.show_grid)return p.getVisibleTaskCount()?new p.$keyboardNavigation.TaskRow:null;for(var u=p.getGridColumns(),h=this.index;h>=0&&!u[h];)h--;return u[h]?new p.$keyboardNavigation.HeaderCell(h):null},fromDomElement:function(u){var h=c.locateClassName(u,"gantt_grid_head_cell");if(h){for(var a=0;h&&h.previousSibling;)h=h.previousSibling,a+=1;return new p.$keyboardNavigation.HeaderCell(a)}return null},getNode:function(){return p.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new p.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var u=p.getGridColumns();this.index<u.length-1&&this.moveTo(new p.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var u,h=p.getChildren(p.config.root_id);p.isTaskExists(h[0])&&(u=h[0]),u&&(p.config.keyboard_navigation_cells?this.moveTo(new p.$keyboardNavigation.TaskCell(u,this.index)):this.moveTo(new p.$keyboardNavigation.TaskRow(u)))},end:function(){var u=p.getGridColumns();this.moveTo(new p.$keyboardNavigation.HeaderCell(u.length-1))},home:function(){this.moveTo(new p.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){c.getActiveElement().click()},"ctrl+enter":function(){p.isReadonly(this)||p.createTask({},this.taskId)}}}),p.$keyboardNavigation.HeaderCell.prototype.bindAll(p.$keyboardNavigation.HeaderCell.prototype.keys)}},function(s,g){s.exports=function(i){i.$keyboardNavigation.KeyNavNode=function(){},i.$keyboardNavigation.KeyNavNode.prototype=i._compose(i.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(p){i.$keyboardNavigation.dispatcher.setActiveNode(p)},compareTo:function(p){if(!p)return!1;for(var c in this){if(!!this[c]!=!!p[c])return!1;var u=!(!this[c]||!this[c].toString),h=!(!p[c]||!p[c].toString);if(h!=u)return!1;if(h&&u){if(p[c].toString()!=this[c].toString())return!1}else if(p[c]!=this[c])return!1}return!0},getNode:function(){},focus:function(){var p=this.getNode();if(p){var c=i.$keyboardNavigation.facade;c.callEvent("onBeforeFocus",[p])!==!1&&p&&(p.setAttribute("tabindex","-1"),p.$eventAttached||(p.$eventAttached=!0,i.event(p,"focus",function(u){return u.preventDefault(),!1},!1)),i.utils.dom.isChildOf(document.activeElement,p)&&(p=document.activeElement),p.focus&&p.focus(),c.callEvent("onFocus",[this.getNode()]))}},blur:function(){var p=this.getNode();p&&(i.$keyboardNavigation.facade.callEvent("onBlur",[p]),p.setAttribute("tabindex","-1"))}})}},function(s,g){s.exports=function(i){i.$keyboardNavigation.GanttNode=function(){},i.$keyboardNavigation.GanttNode.prototype=i._compose(i.$keyboardNavigation.EventHandler,{focus:function(){i.focus()},blur:function(){},isEnabled:function(){return i.$container.hasAttribute("tabindex")},scrollHorizontal:function(p){var c=i.dateFromPos(i.getScrollState().x),u=i.getScale(),h=p<0?-u.step:u.step;c=i.date.add(c,h,u.unit),i.scrollTo(i.posFromDate(c))},scrollVertical:function(p){var c=i.getScrollState().y,u=i.config.row_height;i.scrollTo(null,c+(p<0?-1:1)*u)},keys:{"alt+left":function(p){this.scrollHorizontal(-1)},"alt+right":function(p){this.scrollHorizontal(1)},"alt+up":function(p){this.scrollVertical(-1)},"alt+down":function(p){this.scrollVertical(1)},"ctrl+z":function(){i.undo&&i.undo()},"ctrl+r":function(){i.redo&&i.redo()}}}),i.$keyboardNavigation.GanttNode.prototype.bindAll(i.$keyboardNavigation.GanttNode.prototype.keys)}},function(s,g,i){s.exports=function(p){(function(){var c=i(1);p.$keyboardNavigation.getFocusableNodes=c.getFocusableNodes,p.$keyboardNavigation.trapFocus=function(u,h){if(h.keyCode!=9)return!1;for(var a=p.$keyboardNavigation.getFocusableNodes(u),l=c.getActiveElement(),r=-1,n=0;n<a.length;n++)if(a[n]==l){r=n;break}if(h.shiftKey){if(r<=0){var o=a[a.length-1];if(o)return o.focus(),h.preventDefault(),!0}}else if(r>=a.length-1){var d=a[0];if(d)return d.focus(),h.preventDefault(),!0}return!1}})()}},function(s,g){s.exports=function(i){i.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(p){this._handlers||(this._handlers={});var c=i.$keyboardNavigation.shortcuts.getHash(p);return this._handlers[c]},doAction:function(p,c){var u=this.findHandler(p);if(u){if(i.$keyboardNavigation.facade.callEvent("onBeforeAction",[p,c])===!1)return;u.call(this,c),c.preventDefault?c.preventDefault():c.returnValue=!1}},bind:function(p,c){this._handlers||(this._handlers={});for(var u=i.$keyboardNavigation.shortcuts,h=u.parse(p),a=0;a<h.length;a++)this._handlers[u.getHash(h[a])]=c},unbind:function(p){for(var c=i.$keyboardNavigation.shortcuts,u=c.parse(p),h=0;h<u.length;h++)this._handlers[c.getHash(u[h])]&&delete this._handlers[c.getHash(u[h])]},bindAll:function(p){for(var c in p)this.bind(c,p[c])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(s,g){s.exports=function(i){i.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(p){for(var c=[],u=this.getExpressions(this.trim(p)),h=0;h<u.length;h++){for(var a=this.getWords(u[h]),l=this.createCommand(),r=0;r<a.length;r++)this.commandKeys[a[r]]?l.modifiers[a[r]]=!0:this.specialKeys[a[r]]?l.keyCode=this.specialKeys[a[r]]:l.keyCode=a[r].charCodeAt(0);c.push(l)}return c},getCommandFromEvent:function(p){var c=this.createCommand();c.modifiers.shift=!!p.shiftKey,c.modifiers.alt=!!p.altKey,c.modifiers.ctrl=!!p.ctrlKey,c.modifiers.meta=!!p.metaKey,c.keyCode=p.which||p.keyCode,c.keyCode>=96&&c.keyCode<=105&&(c.keyCode-=48);var u=String.fromCharCode(c.keyCode);return u&&(c.keyCode=u.toLowerCase().charCodeAt(0)),c},getHashFromEvent:function(p){return this.getHash(this.getCommandFromEvent(p))},getHash:function(p){var c=[];for(var u in p.modifiers)p.modifiers[u]&&c.push(u);return c.push(p.keyCode),c.join(this.junctionChar)},getExpressions:function(p){return p.split(this.junctionChar)},getWords:function(p){return p.split(this.combinationChar)},trim:function(p){return p.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(s,g,i){s.exports=function(p){var c=i(5);(function(u){u.config.keyboard_navigation=!0,u.config.keyboard_navigation_cells=!1,u.$keyboardNavigation={},u._compose=function(){for(var a=Array.prototype.slice.call(arguments,0),l={},r=0;r<a.length;r++){var n=a[r];for(var o in typeof n=="function"&&(n=new n),n)l[o]=n[o]}return l},i(272)(u),i(271)(u),i(270)(u),i(269)(u),i(268)(u),i(267)(u),i(266)(u),i(265)(u),i(264)(u),i(263)(u);var h=i(1);(function(){var a=u.$keyboardNavigation.dispatcher;a.isTaskFocused=function(b){var S=a.activeNode;return(S instanceof u.$keyboardNavigation.TaskRow||S instanceof u.$keyboardNavigation.TaskCell)&&S.taskId==b};var l=function(b){if(u.config.keyboard_navigation&&(u.config.keyboard_navigation_cells||!o(b))&&!d(b)&&!function(S){return!!h.closest(S.target,".gantt_cal_light")}(b))return a.keyDownHandler(b)},r=function(b){if(a.$preventDefault)return b.preventDefault(),u.$container.blur(),!1;a.awaitsFocus()||a.focusGlobalNode()},n=function(){if(a.isEnabled()){var b=!h.isChildOf(document.activeElement,u.$container)&&document.activeElement.localName!="body",S=a.getActiveNode();if(S&&!b){var T,N,$=S.getNode();$&&$.parentNode&&(T=$.parentNode.scrollTop,N=$.parentNode.scrollLeft),S.focus(!0),$&&$.parentNode&&($.parentNode.scrollTop=T,$.parentNode.scrollLeft=N)}}};function o(b){return!!h.closest(b.target,".gantt_grid_editor_placeholder")}function d(b){return!!h.closest(b.target,".no_keyboard_navigation")}function f(b){if(!u.config.keyboard_navigation||!u.config.keyboard_navigation_cells&&o(b))return!0;if(!d(b)){var S,T=a.fromDomElement(b);T&&(a.activeNode instanceof u.$keyboardNavigation.TaskCell&&h.isChildOf(b.target,u.$task)&&(T=new u.$keyboardNavigation.TaskCell(T.taskId,a.activeNode.columnIndex)),S=T),S?a.isEnabled()?a.delay(function(){a.setActiveNode(S)}):a.activeNode=S:(a.$preventDefault=!0,setTimeout(function(){a.$preventDefault=!1},300))}}u.attachEvent("onDataRender",function(){u.config.keyboard_navigation&&n()}),u.attachEvent("onGanttRender",function(){u.eventRemove(u.$root,"keydown",l),u.eventRemove(u.$container,"focus",r),u.eventRemove(u.$container,"mousedown",f),u.config.keyboard_navigation?(u.event(u.$root,"keydown",l),u.event(u.$container,"focus",r),u.event(u.$container,"mousedown",f),u.$container.setAttribute("tabindex","0")):u.$container.removeAttribute("tabindex")});var _=u.attachEvent("onGanttReady",function(){if(u.detachEvent(_),u.$data.tasksStore.attachEvent("onStoreUpdated",function(S){if(u.config.keyboard_navigation&&a.isEnabled()){var T=a.getActiveNode(),N=u.$ui.getView("grid"),$=N.getItemTop(S),E=N.$grid_data.scrollTop,D=E+N.$grid_data.getBoundingClientRect().height;T&&T.taskId==S&&E<=$&&D>=$&&n()}}),u._smart_render){var b=u._smart_render._redrawTasks;u._smart_render._redrawTasks=function(S,T){if(u.config.keyboard_navigation&&a.isEnabled()){var N=a.getActiveNode();if(N&&N.taskId!==void 0){for(var $=!1,E=0;E<T.length;E++)if(T[E].id==N.taskId&&T[E].start_date){$=!0;break}$||T.push(u.getTask(N.taskId))}}return b.apply(this,arguments)}}}),m=null,v=!1;u.attachEvent("onTaskCreated",function(b){return m=b.id,!0}),u.attachEvent("onAfterTaskAdd",function(b,S){if(!u.config.keyboard_navigation)return!0;if(a.isEnabled()){if(b==m&&(v=!0,setTimeout(function(){v=!1,m=null})),v&&S.type==u.config.types.placeholder)return;var T=0,N=a.activeNode;N instanceof u.$keyboardNavigation.TaskCell&&(T=N.columnIndex);var $=u.config.keyboard_navigation_cells?u.$keyboardNavigation.TaskCell:u.$keyboardNavigation.TaskRow;S.type==u.config.types.placeholder&&u.config.placeholder_task.focusOnCreate===!1||a.setActiveNode(new $(b,T))}}),u.attachEvent("onTaskIdChange",function(b,S){if(!u.config.keyboard_navigation)return!0;var T=a.activeNode;return a.isTaskFocused(b)&&(T.taskId=S),!0});var y=setInterval(function(){u.config.keyboard_navigation&&(a.isEnabled()||a.enable())},500);function k(b){var S={gantt:u.$keyboardNavigation.GanttNode,headerCell:u.$keyboardNavigation.HeaderCell,taskRow:u.$keyboardNavigation.TaskRow,taskCell:u.$keyboardNavigation.TaskCell};return S[b]||S.gantt}function x(b){for(var S=u.getGridColumns(),T=0;T<S.length;T++)if(S[T].name==b)return T;return 0}u.attachEvent("onDestroy",function(){clearInterval(y)});var w={};c(w),u.mixin(w,{addShortcut:function(b,S,T){var N=k(T);N&&N.prototype.bind(b,S)},getShortcutHandler:function(b,S){var T=u.$keyboardNavigation.shortcuts.parse(b);if(T.length)return w.getCommandHandler(T[0],S)},getCommandHandler:function(b,S){var T=k(S);if(T&&b)return T.prototype.findHandler(b)},removeShortcut:function(b,S){var T=k(S);T&&T.prototype.unbind(b)},focus:function(b){var S,T=b?b.type:null,N=k(T);switch(T){case"taskCell":S=new N(b.id,x(b.column));break;case"taskRow":S=new N(b.id);break;case"headerCell":S=new N(x(b.column))}a.delay(function(){S?a.setActiveNode(S):(a.enable(),a.getActiveNode()?a.awaitsFocus()||a.enable():a.setDefaultNode())})},getActiveNode:function(){if(a.isEnabled()){var b=a.getActiveNode(),S=function(N){return N instanceof u.$keyboardNavigation.GanttNode?"gantt":N instanceof u.$keyboardNavigation.HeaderCell?"headerCell":N instanceof u.$keyboardNavigation.TaskRow?"taskRow":N instanceof u.$keyboardNavigation.TaskCell?"taskCell":null}(b),T=u.getGridColumns();switch(S){case"taskCell":return{type:"taskCell",id:b.taskId,column:T[b.columnIndex].name};case"taskRow":return{type:"taskRow",id:b.taskId};case"headerCell":return{type:"headerCell",column:T[b.index].name}}}return null}}),u.$keyboardNavigation.facade=w,u.ext.keyboardNavigation=w,u.focus=function(){w.focus()},u.addShortcut=w.addShortcut,u.getShortcutHandler=w.getShortcutHandler,u.removeShortcut=w.removeShortcut})()})(p)}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(p){function c(){var f=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!f||f!==document.body)}function u(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(f){console.error("Fullscreen is not available:",f)}}p.$services.getService("state").registerProvider("fullscreen",function(){return u()?{fullscreen:c()}:void 0});var h={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},a={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},l=null;function r(f,_){_.width=f.width,_.height=f.height,_.top=f.top,_.left=f.left,_.position=f.position,_.zIndex=f.zIndex}var n=!1;function o(){var f;p.$container&&(c()?n&&(f="onExpand",function(){var _=p.ext.fullscreen.getFullscreenElement(),m=document.body;r(_.style,a),h={overflow:m.style.overflow,padding:m.style.padding?m.style.padding:null,paddingTop:m.style.paddingTop?m.style.paddingTop:null,paddingRight:m.style.paddingRight?m.style.paddingRight:null,paddingBottom:m.style.paddingBottom?m.style.paddingBottom:null,paddingLeft:m.style.paddingLeft?m.style.paddingLeft:null},m.style.padding&&(m.style.padding="0"),m.style.paddingTop&&(m.style.paddingTop="0"),m.style.paddingRight&&(m.style.paddingRight="0"),m.style.paddingBottom&&(m.style.paddingBottom="0"),m.style.paddingLeft&&(m.style.paddingLeft="0"),m.style.overflow="hidden",_.style.width="100vw",_.style.height="100vh",_.style.top="0px",_.style.left="0px",_.style.position="absolute",_.style.zIndex=1,a.modified=!0,l=function(v){for(var y=v.parentNode,k=[];y&&y.style;)k.push({element:y,originalPositioning:y.style.position}),y.style.position="static",y=y.parentNode;return k}(_)}()):n&&(n=!1,f="onCollapse",function(){var _=p.ext.fullscreen.getFullscreenElement(),m=document.body;a.modified&&(h.padding&&(m.style.padding=h.padding),h.paddingTop&&(m.style.paddingTop=h.paddingTop),h.paddingRight&&(m.style.paddingRight=h.paddingRight),h.paddingBottom&&(m.style.paddingBottom=h.paddingBottom),h.paddingLeft&&(m.style.paddingLeft=h.paddingLeft),m.style.overflow=h.overflow,h={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},r(a,_.style),a.modified=!1),function(v){v.forEach(function(y){y.element.style.position=y.originalPositioning})}(l),l=null}()),setTimeout(function(){p.render()}),setTimeout(function(){p.callEvent(f,[p.ext.fullscreen.getFullscreenElement()])}))}function d(){return!p.$container||!p.ext.fullscreen.getFullscreenElement()||!u()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}p.ext.fullscreen={expand:function(){if(!d()&&!c()&&p.callEvent("onBeforeExpand",[this.getFullscreenElement()])){n=!0;var f=document.body,_=f.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],m=f.msRequestFullscreen||f.mozRequestFullScreen||f.webkitRequestFullscreen||f.requestFullscreen;m&&m.apply(f,_)}},collapse:function(){if(!d()&&c()&&p.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var f=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;f&&f.apply(document)}},toggle:function(){d()||(c()?this.collapse():this.expand())},getFullscreenElement:function(){return p.$root}},p.expand=function(){p.ext.fullscreen.expand()},p.collapse=function(){p.ext.fullscreen.collapse()},p.attachEvent("onGanttReady",function(){p.event(document,"webkitfullscreenchange",o),p.event(document,"mozfullscreenchange",o),p.event(document,"MSFullscreenChange",o),p.event(document,"fullscreenChange",o),p.event(document,"fullscreenchange",o)})}},function(s,g,i){function p(l){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(l)}var c=function(l){switch(p(l)){case"string":return l;case"boolean":return l?"true":"false";case"number":return isFinite(l)?l:"";default:return""}};s.exports=function(l,r,n,o){return r=r||"&",n=n||"=",l===null&&(l=void 0),p(l)==="object"?h(a(l),function(d){var f=encodeURIComponent(c(d))+n;return u(l[d])?h(l[d],function(_){return f+encodeURIComponent(c(_))}).join(r):f+encodeURIComponent(c(l[d]))}).join(r):o?encodeURIComponent(c(o))+n+encodeURIComponent(c(l)):""};var u=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function h(l,r){if(l.map)return l.map(r);for(var n=[],o=0;o<l.length;o++)n.push(r(l[o],o));return n}var a=Object.keys||function(l){var r=[];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&r.push(n);return r}},function(s,g,i){function p(u,h){return Object.prototype.hasOwnProperty.call(u,h)}s.exports=function(u,h,a,l){h=h||"&",a=a||"=";var r={};if(typeof u!="string"||u.length===0)return r;var n=/\+/g;u=u.split(h);var o=1e3;l&&typeof l.maxKeys=="number"&&(o=l.maxKeys);var d=u.length;o>0&&d>o&&(d=o);for(var f=0;f<d;++f){var _,m,v,y,k=u[f].replace(n,"%20"),x=k.indexOf(a);x>=0?(_=k.substr(0,x),m=k.substr(x+1)):(_=k,m=""),v=decodeURIComponent(_),y=decodeURIComponent(m),p(r,v)?c(r[v])?r[v].push(y):r[v]=[r[v],y]:r[v]=y}return r};var c=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"}},function(s,g,i){g.decode=g.parse=i(276),g.encode=g.stringify=i(275)},function(s,g,i){function p(c){"@babel/helpers - typeof";return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}s.exports={isString:function(c){return typeof c=="string"},isObject:function(c){return p(c)==="object"&&c!==null},isNull:function(c){return c===null},isNullOrUndefined:function(c){return c==null}}},function(s,g){s.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(s,g,i){(function(p,c){var u;function h(a){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}/*! https://mths.be/punycode v1.4.1 by @mathias */(function(a){var l=h(g)=="object"&&g&&!g.nodeType&&g,r=h(p)=="object"&&p&&!p.nodeType&&p,n=(c===void 0?"undefined":h(c))=="object"&&c;n.global!==n&&n.window!==n&&n.self!==n||(a=n);var o,d,f=2147483647,_=36,m=1,v=26,y=38,k=700,x=72,w=128,b="-",S=/^xn--/,T=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=_-m,D=Math.floor,P=String.fromCharCode;function I(z){throw new RangeError($[z])}function O(z,X){for(var ne=z.length,ee=[];ne--;)ee[ne]=X(z[ne]);return ee}function B(z,X){var ne=z.split("@"),ee="";return ne.length>1&&(ee=ne[0]+"@",z=ne[1]),ee+O((z=z.replace(N,".")).split("."),X).join(".")}function R(z){for(var X,ne,ee=[],V=0,j=z.length;V<j;)(X=z.charCodeAt(V++))>=55296&&X<=56319&&V<j?(64512&(ne=z.charCodeAt(V++)))==56320?ee.push(((1023&X)<<10)+(1023&ne)+65536):(ee.push(X),V--):ee.push(X);return ee}function H(z){return O(z,function(X){var ne="";return X>65535&&(ne+=P((X-=65536)>>>10&1023|55296),X=56320|1023&X),ne+=P(X)}).join("")}function q(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:_}function G(z,X){return z+22+75*(z<26)-((X!=0)<<5)}function L(z,X,ne){var ee=0;for(z=ne?D(z/k):z>>1,z+=D(z/X);z>E*v>>1;ee+=_)z=D(z/E);return D(ee+(E+1)*z/(z+y))}function F(z){var X,ne,ee,V,j,M,A,U,W,K,ae=[],Q=z.length,ie=0,fe=w,le=x;for((ne=z.lastIndexOf(b))<0&&(ne=0),ee=0;ee<ne;++ee)z.charCodeAt(ee)>=128&&I("not-basic"),ae.push(z.charCodeAt(ee));for(V=ne>0?ne+1:0;V<Q;){for(j=ie,M=1,A=_;V>=Q&&I("invalid-input"),((U=q(z.charCodeAt(V++)))>=_||U>D((f-ie)/M))&&I("overflow"),ie+=U*M,!(U<(W=A<=le?m:A>=le+v?v:A-le));A+=_)M>D(f/(K=_-W))&&I("overflow"),M*=K;le=L(ie-j,X=ae.length+1,j==0),D(ie/X)>f-fe&&I("overflow"),fe+=D(ie/X),ie%=X,ae.splice(ie++,0,fe)}return H(ae)}function J(z){var X,ne,ee,V,j,M,A,U,W,K,ae,Q,ie,fe,le,ge=[];for(Q=(z=R(z)).length,X=w,ne=0,j=x,M=0;M<Q;++M)(ae=z[M])<128&&ge.push(P(ae));for(ee=V=ge.length,V&&ge.push(b);ee<Q;){for(A=f,M=0;M<Q;++M)(ae=z[M])>=X&&ae<A&&(A=ae);for(A-X>D((f-ne)/(ie=ee+1))&&I("overflow"),ne+=(A-X)*ie,X=A,M=0;M<Q;++M)if((ae=z[M])<X&&++ne>f&&I("overflow"),ae==X){for(U=ne,W=_;!(U<(K=W<=j?m:W>=j+v?v:W-j));W+=_)le=U-K,fe=_-K,ge.push(P(G(K+le%fe,0))),U=D(le/fe);ge.push(P(G(U,0))),j=L(ne,ie,ee==V),ne=0,++ee}++ne,++X}return ge.join("")}if(o={version:"1.4.1",ucs2:{decode:R,encode:H},decode:F,encode:J,toASCII:function(z){return B(z,function(X){return T.test(X)?"xn--"+J(X):X})},toUnicode:function(z){return B(z,function(X){return S.test(X)?F(X.slice(4).toLowerCase()):X})}},h(i(53))=="object"&&i(53))(u=(function(){return o}).call(g,i,g,p))===void 0||(p.exports=u);else if(l&&r)if(p.exports==l)r.exports=o;else for(d in o)o.hasOwnProperty(d)&&(l[d]=o[d]);else a.punycode=o})(this)}).call(this,i(279)(s),i(4))},function(s,g){s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(s,g){s.exports=function(){for(var p={},c=0;c<arguments.length;c++){var u=arguments[c];for(var h in u)i.call(u,h)&&(p[h]=u[h])}return p};var i=Object.prototype.hasOwnProperty},function(s,g,i){var p=i(13).Buffer;s.exports=function(c){if(c instanceof Uint8Array){if(c.byteOffset===0&&c.byteLength===c.buffer.byteLength)return c.buffer;if(typeof c.buffer.slice=="function")return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}if(p.isBuffer(c)){for(var u=new Uint8Array(c.length),h=c.length,a=0;a<h;a++)u[a]=c[a];return u.buffer}throw new Error("Argument must be a Buffer")}},function(s,g,i){s.exports=u;var p=i(55),c=i(17);function u(h){if(!(this instanceof u))return new u(h);p.call(this,h)}c.inherits=i(8),c.inherits(u,p),u.prototype._transform=function(h,a,l){l(null,h)}},function(s,g,i){(function(p){function c(u){try{if(!p.localStorage)return!1}catch{return!1}var h=p.localStorage[u];return h!=null&&String(h).toLowerCase()==="true"}s.exports=function(u,h){if(c("noDeprecation"))return u;var a=!1;return function(){if(!a){if(c("throwDeprecation"))throw new Error(h);c("traceDeprecation")?console.trace(h):console.warn(h),a=!0}return u.apply(this,arguments)}}}).call(this,i(4))},function(s,g,i){(function(p,c){(function(u,h){if(!u.setImmediate){var a,l=1,r={},n=!1,o=u.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(u);d=d&&d.setTimeout?d:u,{}.toString.call(u.process)==="[object process]"?a=function(m){c.nextTick(function(){_(m)})}:function(){if(u.postMessage&&!u.importScripts){var m=!0,v=u.onmessage;return u.onmessage=function(){m=!1},u.postMessage("","*"),u.onmessage=v,m}}()?function(){var m="setImmediate$"+Math.random()+"$",v=function(y){y.source===u&&typeof y.data=="string"&&y.data.indexOf(m)===0&&_(+y.data.slice(m.length))};u.addEventListener?u.addEventListener("message",v,!1):u.attachEvent("onmessage",v),a=function(y){u.postMessage(m+y,"*")}}():u.MessageChannel?function(){var m=new MessageChannel;m.port1.onmessage=function(v){_(v.data)},a=function(v){m.port2.postMessage(v)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var m=o.documentElement;a=function(v){var y=o.createElement("script");y.onreadystatechange=function(){_(v),y.onreadystatechange=null,m.removeChild(y),y=null},m.appendChild(y)}}():a=function(m){setTimeout(_,0,m)},d.setImmediate=function(m){typeof m!="function"&&(m=new Function(""+m));for(var v=new Array(arguments.length-1),y=0;y<v.length;y++)v[y]=arguments[y+1];var k={callback:m,args:v};return r[l]=k,a(l),l++},d.clearImmediate=f}function f(m){delete r[m]}function _(m){if(n)setTimeout(_,0,m);else{var v=r[m];if(v){n=!0;try{(function(y){var k=y.callback,x=y.args;switch(x.length){case 0:k();break;case 1:k(x[0]);break;case 2:k(x[0],x[1]);break;case 3:k(x[0],x[1],x[2]);break;default:k.apply(h,x)}})(v)}finally{f(m),n=!1}}}}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,i(4),i(9))},function(s,g){},function(s,g,i){var p=i(22).Buffer,c=i(287);function u(h,a,l){h.copy(a,l)}s.exports=function(){function h(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}return h.prototype.push=function(a){var l={data:a,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},h.prototype.unshift=function(a){var l={data:a,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},h.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},h.prototype.clear=function(){this.head=this.tail=null,this.length=0},h.prototype.join=function(a){if(this.length===0)return"";for(var l=this.head,r=""+l.data;l=l.next;)r+=a+l.data;return r},h.prototype.concat=function(a){if(this.length===0)return p.alloc(0);if(this.length===1)return this.head.data;for(var l=p.allocUnsafe(a>>>0),r=this.head,n=0;r;)u(r.data,l,n),n+=r.data.length,r=r.next;return l},h}(),c&&c.inspect&&c.inspect.custom&&(s.exports.prototype[c.inspect.custom]=function(){var h=c.inspect({length:this.length});return this.constructor.name+" "+h})},function(s,g){},function(s,g,i){(function(p,c,u){var h=i(65),a=i(8),l=i(64),r=i(63),n=i(283),o=l.IncomingMessage,d=l.readyStates,f=s.exports=function(m){var v,y=this;r.Writable.call(y),y._opts=m,y._body=[],y._headers={},m.auth&&y.setHeader("Authorization","Basic "+new p(m.auth).toString("base64")),Object.keys(m.headers).forEach(function(x){y.setHeader(x,m.headers[x])});var k=!0;if(m.mode==="disable-fetch"||"requestTimeout"in m&&!h.abortController)k=!1,v=!0;else if(m.mode==="prefer-streaming")v=!1;else if(m.mode==="allow-wrong-content-type")v=!h.overrideMimeType;else{if(m.mode&&m.mode!=="default"&&m.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");v=!0}y._mode=function(x,w){return h.fetch&&w?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&x?"arraybuffer":h.vbArray&&x?"text:vbarray":"text"}(v,k),y._fetchTimer=null,y.on("finish",function(){y._onFinish()})};a(f,r.Writable),f.prototype.setHeader=function(m,v){var y=m.toLowerCase();_.indexOf(y)===-1&&(this._headers[y]={name:m,value:v})},f.prototype.getHeader=function(m){var v=this._headers[m.toLowerCase()];return v?v.value:null},f.prototype.removeHeader=function(m){delete this._headers[m.toLowerCase()]},f.prototype._onFinish=function(){var m=this;if(!m._destroyed){var v=m._opts,y=m._headers,k=null;v.method!=="GET"&&v.method!=="HEAD"&&(k=h.arraybuffer?n(p.concat(m._body)):h.blobConstructor?new c.Blob(m._body.map(function(T){return n(T)}),{type:(y["content-type"]||{}).value||""}):p.concat(m._body).toString());var x=[];if(Object.keys(y).forEach(function(T){var N=y[T].name,$=y[T].value;Array.isArray($)?$.forEach(function(E){x.push([N,E])}):x.push([N,$])}),m._mode==="fetch"){var w=null;if(h.abortController){var b=new AbortController;w=b.signal,m._fetchAbortController=b,"requestTimeout"in v&&v.requestTimeout!==0&&(m._fetchTimer=c.setTimeout(function(){m.emit("requestTimeout"),m._fetchAbortController&&m._fetchAbortController.abort()},v.requestTimeout))}c.fetch(m._opts.url,{method:m._opts.method,headers:x,body:k||void 0,mode:"cors",credentials:v.withCredentials?"include":"same-origin",signal:w}).then(function(T){m._fetchResponse=T,m._connect()},function(T){c.clearTimeout(m._fetchTimer),m._destroyed||m.emit("error",T)})}else{var S=m._xhr=new c.XMLHttpRequest;try{S.open(m._opts.method,m._opts.url,!0)}catch(T){return void u.nextTick(function(){m.emit("error",T)})}"responseType"in S&&(S.responseType=m._mode.split(":")[0]),"withCredentials"in S&&(S.withCredentials=!!v.withCredentials),m._mode==="text"&&"overrideMimeType"in S&&S.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in v&&(S.timeout=v.requestTimeout,S.ontimeout=function(){m.emit("requestTimeout")}),x.forEach(function(T){S.setRequestHeader(T[0],T[1])}),m._response=null,S.onreadystatechange=function(){switch(S.readyState){case d.LOADING:case d.DONE:m._onXHRProgress()}},m._mode==="moz-chunked-arraybuffer"&&(S.onprogress=function(){m._onXHRProgress()}),S.onerror=function(){m._destroyed||m.emit("error",new Error("XHR error"))};try{S.send(k)}catch(T){return void u.nextTick(function(){m.emit("error",T)})}}}},f.prototype._onXHRProgress=function(){(function(m){try{var v=m.status;return v!==null&&v!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var m=this;m._destroyed||(m._response=new o(m._xhr,m._fetchResponse,m._mode,m._fetchTimer),m._response.on("error",function(v){m.emit("error",v)}),m.emit("response",m._response))},f.prototype._write=function(m,v,y){this._body.push(m),y()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,c.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(m,v,y){typeof m=="function"&&(y=m,m=void 0),r.Writable.prototype.end.call(this,m,v,y)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var _=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,i(13).Buffer,i(4),i(9))},function(s,g,i){var p=i(66),c=i(54),u=s.exports;for(var h in p)p.hasOwnProperty(h)&&(u[h]=p[h]);function a(l){if(typeof l=="string"&&(l=c.parse(l)),l.protocol||(l.protocol="https:"),l.protocol!=="https:")throw new Error('Protocol "'+l.protocol+'" not supported. Expected "https:"');return l}u.request=function(l,r){return l=a(l),p.request.call(this,l,r)},u.get=function(l,r){return l=a(l),p.get.call(this,l,r)}},function(s,g){g.read=function(i,p,c,u,h){var a,l,r=8*h-u-1,n=(1<<r)-1,o=n>>1,d=-7,f=c?h-1:0,_=c?-1:1,m=i[p+f];for(f+=_,a=m&(1<<-d)-1,m>>=-d,d+=r;d>0;a=256*a+i[p+f],f+=_,d-=8);for(l=a&(1<<-d)-1,a>>=-d,d+=u;d>0;l=256*l+i[p+f],f+=_,d-=8);if(a===0)a=1-o;else{if(a===n)return l?NaN:1/0*(m?-1:1);l+=Math.pow(2,u),a-=o}return(m?-1:1)*l*Math.pow(2,a-u)},g.write=function(i,p,c,u,h,a){var l,r,n,o=8*a-h-1,d=(1<<o)-1,f=d>>1,_=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=u?0:a-1,v=u?1:-1,y=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(r=isNaN(p)?1:0,l=d):(l=Math.floor(Math.log(p)/Math.LN2),p*(n=Math.pow(2,-l))<1&&(l--,n*=2),(p+=l+f>=1?_/n:_*Math.pow(2,1-f))*n>=2&&(l++,n/=2),l+f>=d?(r=0,l=d):l+f>=1?(r=(p*n-1)*Math.pow(2,h),l+=f):(r=p*Math.pow(2,f-1)*Math.pow(2,h),l=0));h>=8;i[c+m]=255&r,m+=v,r/=256,h-=8);for(l=l<<h|r,o+=h;o>0;i[c+m]=255&l,m+=v,l/=256,o-=8);i[c+m-v]|=128*y}},function(s,g,i){g.byteLength=function(d){var f=r(d),_=f[0],m=f[1];return 3*(_+m)/4-m},g.toByteArray=function(d){for(var f,_=r(d),m=_[0],v=_[1],y=new u(function(b,S,T){return 3*(S+T)/4-T}(0,m,v)),k=0,x=v>0?m-4:m,w=0;w<x;w+=4)f=c[d.charCodeAt(w)]<<18|c[d.charCodeAt(w+1)]<<12|c[d.charCodeAt(w+2)]<<6|c[d.charCodeAt(w+3)],y[k++]=f>>16&255,y[k++]=f>>8&255,y[k++]=255&f;return v===2&&(f=c[d.charCodeAt(w)]<<2|c[d.charCodeAt(w+1)]>>4,y[k++]=255&f),v===1&&(f=c[d.charCodeAt(w)]<<10|c[d.charCodeAt(w+1)]<<4|c[d.charCodeAt(w+2)]>>2,y[k++]=f>>8&255,y[k++]=255&f),y},g.fromByteArray=function(d){for(var f,_=d.length,m=_%3,v=[],y=0,k=_-m;y<k;y+=16383)v.push(o(d,y,y+16383>k?k:y+16383));return m===1?(f=d[_-1],v.push(p[f>>2]+p[f<<4&63]+"==")):m===2&&(f=(d[_-2]<<8)+d[_-1],v.push(p[f>>10]+p[f>>4&63]+p[f<<2&63]+"=")),v.join("")};for(var p=[],c=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=h.length;a<l;++a)p[a]=h[a],c[h.charCodeAt(a)]=a;function r(d){var f=d.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=d.indexOf("=");return _===-1&&(_=f),[_,_===f?0:4-_%4]}function n(d){return p[d>>18&63]+p[d>>12&63]+p[d>>6&63]+p[63&d]}function o(d,f,_){for(var m,v=[],y=f;y<_;y+=3)m=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(255&d[y+2]),v.push(n(m));return v.join("")}c[45]=62,c[95]=63},function(s,g,i){(function(p){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(c){c.ext=c.ext||{},c.ext.export_api=c.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",getNodeJSTransport:function(u){var h,a,l=u.split("://")[0];switch(l){case"https":h=i(291),a=443;break;case"http":h=i(66),a=80;break;default:throw new Error("Unsupported protocol: "+l+", url: "+u)}return{module:h,defaultPort:a}},_prepareConfigPDF:function(u,h){if(u&&u.raw){var a=null;u.start&&u.end&&(a={start_date:c.config.start_date,end_date:c.config.end_date},c.config.start_date=c.date.str_to_date(c.config.date_format)(u.start),c.config.end_date=c.date.str_to_date(c.config.date_format)(u.end)),u=c.mixin(u,{name:"gantt."+h,data:c.ext.export_api._serializeHtml()}),a&&(c.config.start_date=a.start_date,c.config.end_date=a.end_date)}else u=c.mixin(u||{},{name:"gantt."+h,data:c.ext.export_api._serializeAll(),config:c.config}),c.ext.export_api._fixColumns(u.config.columns);u.version=c.version,c.ext.export_api._sendToExport(u,h)},exportToPDF:function(u){c.ext.export_api._prepareConfigPDF(u,"pdf")},exportToPNG:function(u){c.ext.export_api._prepareConfigPDF(u,"png")},exportToICal:function(u){u=c.mixin(u||{},{name:"gantt.ical",data:c.ext.export_api._serializePlain().data,version:c.version}),c.ext.export_api._sendToExport(u,"ical")},exportToExcel:function(u){var h,a,l,r;u=u||{};var n=c.config.smart_rendering;if(u.visual==="base-colors"&&(c.config.smart_rendering=!1),u.start||u.end){l=c.getState(),a=[c.config.start_date,c.config.end_date],r=c.getScrollState();var o=c.date.str_to_date(c.config.date_format);h=c.eachTask,u.start&&(c.config.start_date=o(u.start)),u.end&&(c.config.end_date=o(u.end)),c.render(),c.config.smart_rendering=n,c.eachTask=c.ext.export_api._eachTaskTimed(c.config.start_date,c.config.end_date)}else u.visual==="base-colors"&&(c.render(),c.config.smart_rendering=n);c._no_progress_colors=u.visual==="base-colors";var d=null;c.env.isNode||(d=c.ext.export_api._serializeTable(u).data),(u=c.mixin(u,{name:"gantt.xlsx",title:"Tasks",data:d,columns:c.ext.export_api._serializeColumns({rawDates:!0}),version:c.version})).visual&&(u.scales=c.ext.export_api._serializeScales(u)),c.ext.export_api._sendToExport(u,"excel"),(u.start||u.end)&&(c.config.start_date=l.min_date,c.config.end_date=l.max_date,c.eachTask=h,c.render(),c.scrollTo(r.x,r.y),c.config.start_date=a[0],c.config.end_date=a[1])},exportToJSON:function(u){u=c.mixin(u||{},{name:"gantt.json",data:c.ext.export_api._serializeAll(),config:c.config,columns:c.ext.export_api._serializeColumns(),worktime:c.ext.export_api._getWorktimeSettings(),version:c.version}),c.ext.export_api._sendToExport(u,"json")},importFromExcel:function(u){try{var h=u.data;if(!(h instanceof FormData)){if(h instanceof File){var a=new FormData;a.append("file",h),u.data=a}}}catch{}c.env.isNode?c.ext.export_api._nodejsImportExcel(u):c.ext.export_api._sendImportAjaxExcel(u)},importFromMSProject:function(u){var h=u.data;try{if(!(h instanceof FormData)){if(h instanceof File){var a=new FormData;a.append("file",h),u.data=a}}}catch{}c.env.isNode?c.ext.export_api._nodejsImportMSP(u):c.ext.export_api._sendImportAjaxMSP(u)},importFromPrimaveraP6:function(u){return u.type="primaveraP6-parse",c.importFromMSProject(u)},exportToMSProject:function(u){(u=u||{}).skip_circular_links=u.skip_circular_links===void 0||!!u.skip_circular_links;var h=c.templates.xml_format,a=c.templates.format_date,l=c.config.xml_date,r=c.config.date_format;c.config.xml_date="%d-%m-%Y %H:%i:%s",c.config.date_format="%d-%m-%Y %H:%i:%s",c.templates.xml_format=c.date.date_to_str("%d-%m-%Y %H:%i:%s"),c.templates.format_date=c.date.date_to_str("%d-%m-%Y %H:%i:%s");var n=c.ext.export_api._serializeAll();c.ext.export_api._customProjectProperties(n,u),c.ext.export_api._customTaskProperties(n,u),u.skip_circular_links&&c.ext.export_api._clearRecLinks(n),u=c.ext.export_api._exportConfig(n,u),c.ext.export_api._sendToExport(u,u.type||"msproject"),c.config.xml_date=l,c.config.date_format=r,c.templates.xml_format=h,c.templates.format_date=a,c.config.$custom_data=null,c.config.custom=null},exportToPrimaveraP6:function(u){return(u=u||{}).type="primaveraP6",c.exportToMSProject(u)},_nodejsImportExcel:function(u){var h=i(52),a=u.server||c.ext.export_api._apiUrl,l=c.ext.export_api.getNodeJSTransport(a),r=a.split("://")[1],n=r.split("/")[0].split(":"),o=r.split("/"),d={hostname:n[0],port:n[1]||l.defaultPort,path:"/"+o.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},f=new h;f.append("file",u.data),f.append("type","excel-parse"),f.append("data",JSON.stringify({sheet:u.sheet||0})),d.headers["Content-Type"]=f.getHeaders()["content-type"];var _=l.module.request(d,function(m){var v="";m.on("data",function(y){v+=y}),m.on("end",function(y){u.callback(v.toString())})});_.on("error",function(m){console.error(m)}),f.pipe(_)},_nodejsImportMSP:function(u){var h=i(52),a=u.server||c.ext.export_api._apiUrl,l=c.ext.export_api.getNodeJSTransport(a),r=a.split("://")[1],n=r.split("/")[0].split(":"),o=r.split("/"),d={hostname:n[0],port:n[1]||l.defaultPort,path:"/"+o.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},f={durationUnit:u.durationUnit||void 0,projectProperties:u.projectProperties||void 0,taskProperties:u.taskProperties||void 0},_=new h;_.append("file",u.data),_.append("type",u.type||"msproject-parse"),_.append("data",JSON.stringify(f),d),d.headers["Content-Type"]=_.getHeaders()["content-type"];var m=l.module.request(d,function(v){var y="";v.on("data",function(k){y+=k}),v.on("end",function(k){u.callback(y.toString())})});m.on("error",function(v){console.error(v)}),_.pipe(m)},_fixColumns:function(u){for(var h=0;h<u.length;h++)u[h].label=u[h].label||c.locale.labels["column_"+u[h].name],typeof u[h].width=="string"&&(u[h].width=1*u[h].width)},_xdr:function(u,h,a){c.env.isNode?c.ext.export_api._nodejsPostRequest(u,h,a):c.ajax.post(u,h,a)},_nodejsPostRequest:function(u,h,a){var l=c.ext.export_api.getNodeJSTransport(u),r=u.split("://")[1],n=r.split("/")[0].split(":"),o=r.split("/"),d={hostname:n[0],port:n[1]||l.defaultPort,path:"/"+o.slice(1).join("/"),method:"POST",headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(h).length}},f=l.module.request(d,function(_){var m=[];_.on("data",function(v){m.push(v)}),_.on("end",function(v){a(p.concat(m))})});f.on("error",function(_){console.error(_)}),f.write(JSON.stringify(h)),f.end()},_markColumns:function(u){var h=u.config.columns;if(h)for(var a=0;a<h.length;a++)h[a].template&&(h[a].$template=!0)},_sendImportAjaxExcel:function(u){var h=u.server||c.ext.export_api._apiUrl,a=u.store||0,l=u.data,r=u.callback;l.append("type","excel-parse"),l.append("data",JSON.stringify({sheet:u.sheet||0})),a&&l.append("store",a);var n=new XMLHttpRequest;n.onreadystatechange=function(o){n.readyState===4&&n.status===0&&r&&r(null)},n.onload=function(){var o=null;if(!(n.status>400))try{o=JSON.parse(n.responseText)}catch{}r&&r(o)},n.open("POST",h,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(l)},_ajaxToExport:function(u,h,a){delete u.callback;var l=u.server||c.ext.export_api._apiUrl,r="type="+h+"&store=1&data="+encodeURIComponent(JSON.stringify(u));c.ext.export_api._xdr(l,r,function(n){var o=n.xmlDoc||n,d=null;if(!(o.status>400))try{d=JSON.parse(o.responseText)}catch{}a(d)})},_serializableGanttConfig:function(u){var h=c.mixin({},u);return h.columns&&(h.columns=h.columns.map(function(a){var l=c.mixin({},a);return delete l.editor,l})),delete h.editor_types,h},_sendToExport:function(u,h){var a=c.date.date_to_str(c.config.date_format||c.config.xml_date);if(u.config&&(u.config=c.copy(c.ext.export_api._serializableGanttConfig(u.config)),c.ext.export_api._markColumns(u,h),u.config.start_date&&u.config.end_date&&(u.config.start_date instanceof Date&&(u.config.start_date=a(u.config.start_date)),u.config.end_date instanceof Date&&(u.config.end_date=a(u.config.end_date)))),c.env.isNode){var l=u.server||c.ext.export_api._apiUrl,r={type:h,store:0,data:JSON.stringify(u)},n=u.callback||function(d){console.log(d)};return c.ext.export_api._xdr(l,r,n)}if(u.callback)return c.ext.export_api._ajaxToExport(u,h,u.callback);var o=c.ext.export_api._createHiddenForm();o.firstChild.action=u.server||c.ext.export_api._apiUrl,o.firstChild.childNodes[0].value=JSON.stringify(u),o.firstChild.childNodes[1].value=h,o.firstChild.submit()},_createHiddenForm:function(){if(!c.ext.export_api._hidden_export_form){var u=c.ext.export_api._hidden_export_form=document.createElement("div");u.style.display="none",u.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(u)}return c.ext.export_api._hidden_export_form},_copyObjectBase:function(u){var h={start_date:void 0,end_date:void 0};for(var a in u)a.charAt(0)!=="$"&&(h[a]=u[a]);var l=c.templates.xml_format||c.templates.format_date;return h.start_date=l(h.start_date),h.end_date&&(h.end_date=l(h.end_date)),h},_color_box:null,_color_hash:{},_getStyles:function(u){if(c.ext.export_api._color_box||(c.ext.export_api._color_box=document.createElement("DIV"),c.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(c.ext.export_api._color_box)),c.ext.export_api._color_hash[u])return c.ext.export_api._color_hash[u];c.ext.export_api._color_box.className=u;var h=c.ext.export_api._getColor(c.ext.export_api._color_box,"color"),a=c.ext.export_api._getColor(c.ext.export_api._color_box,"backgroundColor");return c.ext.export_api._color_hash[u]=h+";"+a},_getMinutesWorktimeSettings:function(u){var h=[];return u.forEach(function(a){h.push(a.startMinute),h.push(a.endMinute)}),h},_getWorktimeSettings:function(){var u,h={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};if(c.config.work_time){var a=c._working_time_helper;if(a&&a.get_calendar)u=a.get_calendar();else if(a)u={hours:a.hours,minutes:null,dates:a.dates};else if(c.config.worktimes&&c.config.worktimes.global){var l=c.config.worktimes.global;if(l.parsed){var r=c.ext.export_api._getMinutesWorktimeSettings(l.parsed.hours);for(var n in u={hours:null,minutes:r,dates:{}},l.parsed.dates)Array.isArray(l.parsed.dates[n])?u.dates[n]=c.ext.export_api._getMinutesWorktimeSettings(l.parsed.dates[n]):u.dates[n]=l.parsed.dates[n]}else u={hours:l.hours,minutes:null,dates:l.dates}}else u=h}else u=h;return u},_eachTaskTimed:function(u,h){return function(a,l,r){l=l||c.config.root_id,r=r||c;var n=c.getChildren(l);if(n)for(var o=0;o<n.length;o++){var d=c._pull[n[o]];(!u||d.end_date>u)&&(!h||d.start_date<h)&&a.call(r,d),c.hasChild(d.id)&&c.eachTask(a,d.id,r)}}},_originalCopyObject:c.json._copyObject,_copyObjectPlain:function(u){var h=c.templates.task_text(u.start_date,u.end_date,u),a=c.ext.export_api._copyObjectBase(u);return a.text=h||a.text,a},_getColor:function(u,h){var a=u.currentStyle?u.currentStyle[h]:getComputedStyle(u,null)[h],l=a.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(l&&l.length===4?("0"+parseInt(l[1],10).toString(16)).slice(-2)+("0"+parseInt(l[2],10).toString(16)).slice(-2)+("0"+parseInt(l[3],10).toString(16)).slice(-2):a).replace("#","")},_copyObjectTable:function(u){var h=c.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),a=c.ext.export_api._copyObjectColumns(u,c.ext.export_api._copyObjectPlain(u));a.start_date&&(a.start_date=h(u.start_date)),a.end_date&&(a.end_date=h(u.end_date));var l=c._day_index_by_date?c._day_index_by_date:c.columnIndexByDate;a.$start=l.call(c,u.start_date),a.$end=l.call(c,u.end_date);var r=0,n=c.getScale().width;if(n.indexOf(0)>-1){for(var o=0;o<a.$start;o++)n[o]||r++;for(a.$start-=r;o<a.$end;o++)n[o]||r++;a.$end-=r}a.$level=u.$level,a.$type=u.$rendered_type;var d=c.templates;return a.$text=d.task_text(u.start,u.end_date,u),a.$left=d.leftside_text?d.leftside_text(u.start,u.end_date,u):"",a.$right=d.rightside_text?d.rightside_text(u.start,u.end_date,u):"",a},_copyObjectColors:function(u){var h=c.ext.export_api._copyObjectTable(u),a=c.getTaskNode(u.id);if(a&&a.firstChild){var l=c.ext.export_api._getColor(c._no_progress_colors?a:a.firstChild,"backgroundColor");l==="363636"&&(l=c.ext.export_api._getColor(a,"backgroundColor")),h.$color=l}else u.color&&(h.$color=u.color);return h},_copyObjectColumns:function(u,h){for(var a=0;a<c.config.columns.length;a++){var l=c.config.columns[a].template;if(l){var r=l(u);r instanceof Date&&(r=c.templates.date_grid(r,u)),h["_"+a]=r}}return h},_copyObjectAll:function(u){for(var h=c.ext.export_api._copyObjectBase(u),a=["leftside_text","rightside_text","task_text","progress_text","task_class"],l=0;l<a.length;l++){var r=c.templates[a[l]];r&&(h["$"+l]=r(u.start_date,u.end_date,u))}return c.ext.export_api._copyObjectColumns(u,h),h.open=u.$open,h},_serializeHtml:function(){var u=c.config.smart_scales,h=c.config.smart_rendering;(u||h)&&(c.config.smart_rendering=!1,c.config.smart_scales=!1,c.render());var a=c.$container.parentNode.innerHTML;return(u||h)&&(c.config.smart_scales=u,c.config.smart_rendering=h,c.render()),a},_serializeAll:function(){c.json._copyObject=c.ext.export_api._copyObjectAll;var u=c.ext.export_api._exportSerialize();return c.json._copyObject=c.ext.export_api._originalCopyObject,u},_serializePlain:function(){var u=c.templates.xml_format,h=c.templates.format_date;c.templates.xml_format=c.date.date_to_str("%Y%m%dT%H%i%s",!0),c.templates.format_date=c.date.date_to_str("%Y%m%dT%H%i%s",!0),c.json._copyObject=c.ext.export_api._copyObjectPlain;var a=c.ext.export_api._exportSerialize();return c.templates.xml_format=u,c.templates.format_date=h,c.json._copyObject=c.ext.export_api._originalCopyObject,delete a.links,a},_getRaw:function(){if(c._scale_helpers){var u=c._get_scales(),h=c.config.min_column_width,a=c._get_resize_options().x?Math.max(c.config.autosize_min_width,0):c.config.$task.offsetWidth,l=c.config.config.scale_height-1;return c._scale_helpers.prepareConfigs(u,h,a,l)}var r=c.$ui.getView("timeline");if(r){var n=r.$config.width;c.config.autosize!=="x"&&c.config.autosize!=="xy"||(n=Math.max(c.config.autosize_min_width,0));var o=c.getState(),d=(u=r._getScales(),h=c.config.min_column_width,l=c.config.scale_height-1,c.config.rtl);return r.$scaleHelper.prepareConfigs(u,h,n,l,o.min_date,o.max_date,d)}},_serializeTable:function(u){c.json._copyObject=u.visual?c.ext.export_api._copyObjectColors:c.ext.export_api._copyObjectTable;var h=c.ext.export_api._exportSerialize();if(c.json._copyObject=c.ext.export_api._originalCopyObject,delete h.links,u.cellColors){var a=c.templates.timeline_cell_class||c.templates.task_cell_class;if(a){for(var l=c.ext.export_api._getRaw(),r=l[0].trace_x,n=1;n<l.length;n++)l[n].trace_x.length>r.length&&(r=l[n].trace_x);for(n=0;n<h.data.length;n++){h.data[n].styles=[];for(var o=c.getTask(h.data[n].id),d=0;d<r.length;d++){var f=a(o,r[d]);f&&h.data[n].styles.push({index:d,styles:c.ext.export_api._getStyles(f)})}}}}return h},_serializeScales:function(u){for(var h=[],a=c.ext.export_api._getRaw(),l=1/0,r=0,n=0;n<a.length;n++)l=Math.min(l,a[n].col_width);for(n=0;n<a.length;n++){var o=0,d=0,f=[];h.push(f);var _=a[n];r=Math.max(r,_.trace_x.length);for(var m=_.format||_.template||(_.date?c.date.date_to_str(_.date):c.config.date_scale),v=0;v<_.trace_x.length;v++){var y=_.trace_x[v];d=o+Math.round(_.width[v]/l);var k={text:m(y),start:o,end:d,styles:""};if(u.cellColors){var x=_.css||c.templates.scaleCell_class;if(x){var w=x(y);w&&(k.styles=c.ext.export_api._getStyles(w))}}f.push(k),o=d}}return{width:r,height:h.length,data:h}},_serializeColumns:function(u){c.exportMode=!0;for(var h=[],a=c.config.columns,l=0,r=0;r<a.length;r++)a[r].name!=="add"&&a[r].name!=="buttons"&&(h[l]={id:a[r].template?"_"+r:a[r].name,header:a[r].label||c.locale.labels["column_"+a[r].name],width:a[r].width?Math.floor(a[r].width/4):""},a[r].name==="duration"&&(h[l].type="number"),a[r].name!=="start_date"&&a[r].name!=="end_date"||(h[l].type="date",u&&u.rawDates&&(h[l].id=a[r].name)),l++);return c.exportMode=!1,h},_exportSerialize:function(){c.exportMode=!0;var u=c.templates.xml_format,h=c.templates.format_date;c.templates.xml_format=c.templates.format_date=c.date.date_to_str(c.config.date_format||c.config.xml_date);var a=c.serialize();return c.templates.xml_format=u,c.templates.format_date=h,c.exportMode=!1,a},_setLevel:function(u){for(var h=0;h<u.length;h++){u[h].parent==0&&(u[h]._lvl=1);for(var a=h+1;a<u.length;a++)u[h].id==u[a].parent&&(u[a]._lvl=u[h]._lvl+1)}},_clearLevel:function(u){for(var h=0;h<u.length;h++)delete u[h]._lvl},_clearRecLinks:function(u){c.ext.export_api._setLevel(u.data);for(var h={},a=0;a<u.data.length;a++)h[u.data[a].id]=u.data[a];var l={};for(a=0;a<u.links.length;a++){var r=u.links[a];c.isTaskExists(r.source)&&c.isTaskExists(r.target)&&h[r.source]&&h[r.target]&&(l[r.id]=r)}for(var n in l)c.ext.export_api._makeLinksSameLevel(l[n],h);var o={};for(var n in h)c.ext.export_api._clearCircDependencies(h[n],l,h,{},o,null);for(Object.keys(l)&&c.ext.export_api._clearLinksSameLevel(l,h),a=0;a<u.links.length;a++)l[u.links[a].id]||(u.links.splice(a,1),a--);c.ext.export_api._clearLevel(u.data)},_clearCircDependencies:function(u,h,a,l,r,n){var o=u.$_source;if(o){l[u.id]&&c.ext.export_api._onCircDependencyFind(n,h,l,r),l[u.id]=!0;for(var d={},f=0;f<o.length;f++)if(!r[o[f]]){var _=h[o[f]],m=a[_._target];d[m.id]&&c.ext.export_api._onCircDependencyFind(_,h,l,r),d[m.id]=!0,c.ext.export_api._clearCircDependencies(m,h,a,l,r,_)}l[u.id]=!1}},_onCircDependencyFind:function(u,h,a,l){u&&(c.callEvent("onExportCircularDependency",[u.id,u])&&delete h[u.id],delete a[u._source],delete a[u._target],l[u.id]=!0)},_makeLinksSameLevel:function(u,h){var a,l,r={target:h[u.target],source:h[u.source]};if(r.target._lvl!=r.source._lvl){r.target._lvl<r.source._lvl?(a="source",l=r.target._lvl):(a="target",l=r.source._lvl);do{var n=h[r[a].parent];if(!n)break;r[a]=n}while(r[a]._lvl<l);for(var o=h[r.source.parent],d=h[r.target.parent];o&&d&&o.id!=d.id;)r.source=o,r.target=d,o=h[r.source.parent],d=h[r.target.parent]}u._target=r.target.id,u._source=r.source.id,r.target.$_target||(r.target.$_target=[]),r.target.$_target.push(u.id),r.source.$_source||(r.source.$_source=[]),r.source.$_source.push(u.id)},_clearLinksSameLevel:function(u,h){for(var a in u)delete u[a]._target,delete u[a]._source;for(var l in h)delete h[l].$_source,delete h[l].$_target},_customProjectProperties:function(u,h){if(h&&h.project){for(var a in h.project)c.config.$custom_data||(c.config.$custom_data={}),c.config.$custom_data[a]=typeof h.project[a]=="function"?h.project[a](c.config):h.project[a];delete h.project}},_customTaskProperties:function(u,h){h&&h.tasks&&(u.data.forEach(function(a){for(var l in h.tasks)a.$custom_data||(a.$custom_data={}),a.$custom_data[l]=typeof h.tasks[l]=="function"?h.tasks[l](a,c.config):h.tasks[l]}),delete h.tasks)},_exportConfig:function(u,h){var a=h.name||"gantt.xml";delete h.name,c.config.custom=h;var l=c.ext.export_api._getWorktimeSettings(),r=c.getSubtaskDates();if(r.start_date&&r.end_date){var n=c.templates.format_date||c.templates.xml_format;c.config.start_end={start_date:n(r.start_date),end_date:n(r.end_date)}}var o=h.auto_scheduling!==void 0&&!!h.auto_scheduling,d={callback:h.callback||null,config:c.config,data:u,manual:o,name:a,worktime:l};for(var f in h)d[f]=h[f];return d},_sendImportAjaxMSP:function(u){var h=u.server||c.ext.export_api._apiUrl,a=u.store||0,l=u.data,r=u.callback,n={durationUnit:u.durationUnit||void 0,projectProperties:u.projectProperties||void 0,taskProperties:u.taskProperties||void 0};l.append("type",u.type||"msproject-parse"),l.append("data",JSON.stringify(n)),a&&l.append("store",a);var o=new XMLHttpRequest;o.onreadystatechange=function(d){o.readyState===4&&o.status===0&&r&&r(null)},o.onload=function(){var d=null;if(!(o.status>400))try{d=JSON.parse(o.responseText)}catch{}r&&r(d)},o.open("POST",h,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(l)}},c.exportToPDF=c.ext.export_api.exportToPDF,c.exportToPNG=c.ext.export_api.exportToPNG,c.exportToICal=c.ext.export_api.exportToICal,c.exportToExcel=c.ext.export_api.exportToExcel,c.exportToJSON=c.ext.export_api.exportToJSON,c.importFromExcel=c.ext.export_api.importFromExcel,c.importFromMSProject=c.ext.export_api.importFromMSProject,c.exportToMSProject=c.ext.export_api.exportToMSProject,c.importFromPrimaveraP6=c.ext.export_api.importFromPrimaveraP6,c.exportToPrimaveraP6=c.ext.export_api.exportToPrimaveraP6}}).call(this,i(13).Buffer)},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=function(){function c(u){var h=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(h._trace.length>=10){for(var a=h._trace.slice(h._trace.length-10),l=[],r=1;r<a.length;r++)l.push({x:a[r].x-a[r-1].x,y:a[r].y-a[r-1].y});var n={x:0,y:0};return l.forEach(function(o){n.x+=o.x,n.y+=o.y}),{magnitude:Math.sqrt(n.x*n.x+n.y*n.y),angleDegrees:180*Math.atan2(Math.abs(n.y),Math.abs(n.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){h._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){h._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(a){var l=h._gantt;return{x:l.$ui.getView(a.$config.scrollX).getScrollState().position,y:l.$ui.getView(a.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(a){var l=h._calculateDirectionVector(),r=h._startPoint.x-a.x,n=h._startPoint.y-a.y;return l&&(l.angleDegrees<15?n=0:l.angleDegrees>75&&(r=0)),{x:h._scrollState.x+r,y:h._scrollState.y+n}},this._setScrollPosition=function(a,l){var r=h._gantt;requestAnimationFrame(function(){r.scrollLayoutCell(a.$id,l.x,l.y)})},this._stopDrag=function(a){var l=h._gantt;if(h._trace=[],l.$root.classList.remove("gantt_noselect"),h._originalReadonly!==void 0&&(l.config.readonly=h._originalReadonly,h._mouseDown&&l.config.drag_timeline&&l.config.drag_timeline.render&&l.render()),h._originAutoscroll!==void 0&&(l.config.autoscroll=h._originAutoscroll),l.config.drag_timeline){var r=l.config.drag_timeline.useKey;if(r&&a[r]!==!0)return}h._mouseDown=!1},this._startDrag=function(a){var l=h._gantt;h._originAutoscroll=l.config.autoscroll,l.config.autoscroll=!1,l.$root.classList.add("gantt_noselect"),h._originalReadonly=l.config.readonly,l.config.readonly=!0,l.config.drag_timeline&&l.config.drag_timeline.render&&l.render(),h._trace=[],h._mouseDown=!0;var r=h._getScrollPosition(h._timeline),n=r.x,o=r.y;h._scrollState={x:n,y:o},h._startPoint={x:a.clientX,y:a.clientY},h._trace.push(h._startPoint)},this._gantt=u,this._domEvents=u._createDomEventScope(),this._trace=[]}return c.create=function(u){return new c(u)},c.prototype.destructor=function(){this._domEvents.detachAll()},c.prototype.attach=function(u){var h=this;this._timeline=u;var a=this._gantt;this._domEvents.attach(u.$task,"mousedown",function(l){if(a.config.drag_timeline){var r=a.config.drag_timeline,n=r.useKey,o=r.ignore;if(r.enabled!==!1){var d=".gantt_task_line, .gantt_task_link";o!==void 0&&(d=o instanceof Array?o.join(", "):o),d&&a.utils.dom.closest(l.target,d)||n&&l[n]!==!0||h._startDrag(l)}}}),this._domEvents.attach(document,"keydown",function(l){if(a.config.drag_timeline){var r=a.config.drag_timeline.useKey;r&&l[r]===!0&&h._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(l){if(a.config.drag_timeline){var r=a.config.drag_timeline.useKey;r&&l[r]===!1&&(h._clearDndReadyStyles(),h._stopDrag(l))}}),this._domEvents.attach(document,"mouseup",function(l){h._stopDrag(l)}),this._domEvents.attach(a.$root,"mouseup",function(l){h._stopDrag(l)}),this._domEvents.attach(document,"mouseleave",function(l){h._stopDrag(l)}),this._domEvents.attach(a.$root,"mouseleave",function(l){h._stopDrag(l)}),this._domEvents.attach(a.$root,"mousemove",function(l){if(a.config.drag_timeline){var r=a.config.drag_timeline.useKey;if(!r||l[r]===!0){var n=h._gantt.ext.clickDrag,o=(h._gantt.config.click_drag||{}).useKey;if((!n||!o||r||!l[o])&&h._mouseDown===!0){h._trace.push({x:l.clientX,y:l.clientY});var d=h._countNewScrollPosition({x:l.clientX,y:l.clientY});h._setScrollPosition(u,d),h._scrollState=d,h._startPoint={x:l.clientX,y:l.clientY}}}}})},c}();g.EventsManager=p},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(295);g.default=function(c){c.ext||(c.ext={}),c.ext.dragTimeline={create:function(){return p.EventsManager.create(c)}},c.config.drag_timeline={enabled:!0,render:!1}}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(5),c=i(2),u=function(){function h(a,l,r){var n=this;this._el=document.createElement("div"),this.defaultRender=function(o,d){n._el||(n._el=document.createElement("div"));var f=n._el,_=Math.min(o.relative.top,d.relative.top),m=Math.max(o.relative.top,d.relative.top),v=Math.min(o.relative.left,d.relative.left),y=Math.max(o.relative.left,d.relative.left);if(n._singleRow){var k=n._getTaskPositionByTop(n._startPoint.relative.top);f.style.height=k.height+"px",f.style.top=k.top+"px"}else f.style.height=Math.abs(m-_)+"px",f.style.top=_+"px";return f.style.width=Math.abs(y-v)+"px",f.style.left=v+"px",f},this._gantt=l,this._view=r,this._viewPort=a.viewPort,this._el.classList.add(a.className),typeof a.callback=="function"&&(this._callback=a.callback),this.render=function(){var o;(o=a.render?a.render(n._startPoint,n._endPoint):n.defaultRender(n._startPoint,n._endPoint))!==n._el&&(n._el&&n._el.parentNode&&n._el.parentNode.removeChild(n._el),n._el=o),a.className!==""&&n._el.classList.add(a.className),n.draw()},c.isEventable(this._viewPort)||p(this._viewPort),this._singleRow=a.singleRow,this._useRequestAnimationFrame=a.useRequestAnimationFrame}return h.prototype.draw=function(){var a=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){a._viewPort.appendChild(a.getElement())});this._viewPort.appendChild(this.getElement())},h.prototype.clear=function(){var a=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){a._el.parentNode&&a._viewPort.removeChild(a._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},h.prototype.getElement=function(){return this._el},h.prototype.getViewPort=function(){return this._viewPort},h.prototype.setStart=function(a){var l=this._gantt;this._startPoint=a,this._startDate=l.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},h.prototype.setEnd=function(a){var l=this._gantt;if(this._endPoint=a,this._singleRow){var r=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=r.top}this._endDate=l.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},h.prototype.setPosition=function(a){this._positionPoint=a},h.prototype.dragEnd=function(a){var l,r=this._gantt;a.relative.left<0&&(a.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,a]),this.setEnd(a),this._endDate=this._endDate||r.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(l=[this._endDate,this._startDate],this._startDate=l[0],this._endDate=l[1]),this.clear();var n=r.getTaskByTime(this._startDate,this._endDate),o=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,n,o)},h.prototype.getInBounds=function(){return this._singleRow},h.prototype._getTasksByTop=function(a,l){var r=this._gantt,n=a,o=l;a>l&&(n=l,o=a);for(var d=this._getTaskPositionByTop(n).index,f=this._getTaskPositionByTop(o).index,_=[],m=d;m<=f;m++)r.getTaskByIndex(m)&&_.push(r.getTaskByIndex(m));return _},h.prototype._getTaskPositionByTop=function(a){var l=this._gantt,r=this._view,n=r.getItemIndexByTopPosition(a),o=l.getTaskByIndex(n);if(o){var d=r.getItemHeight(o.id);return{top:r.getItemTop(o.id)||0,height:d||0,index:n}}var f=r.getTotalHeight();return{top:a>f?f:0,height:l.config.row_height,index:a>f?l.getTaskCount():0}},h}();g.SelectedRegion=u},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(1),c=function(){function u(h){this._mouseDown=!1,this._gantt=h,this._domEvents=h._createDomEventScope()}return u.prototype.attach=function(h,a,l){var r=this,n=this._gantt,o=h.getViewPort();this._originPosition=window.getComputedStyle(o).display,this._restoreOriginPosition=function(){o.style.position=r._originPosition},this._originPosition==="static"&&(o.style.position="relative");var d=n.$services.getService("state");d.registerProvider("clickDrag",function(){return{autoscroll:!1}});var f=null;this._domEvents.attach(o,"mousedown",function(m){f=null;var v=".gantt_task_line, .gantt_task_link";l!==void 0&&(v=l instanceof Array?l.join(", "):l),v&&n.utils.dom.closest(m.target,v)||(d.registerProvider("clickDrag",function(){return{autoscroll:r._mouseDown}}),a&&m[a]!==!0||(f=r._getCoordinates(m,h)))});var _=p.getRootNode(n.$root)||document.body;this._domEvents.attach(_,"mouseup",function(m){if(f=null,(!a||m[a]===!0)&&r._mouseDown===!0){r._mouseDown=!1;var v=r._getCoordinates(m,h);h.dragEnd(v)}}),this._domEvents.attach(o,"mousemove",function(m){if(!a||m[a]===!0){var v=r._gantt.ext.clickDrag,y=(r._gantt.config.drag_timeline||{}).useKey;if(!v||!y||a||!m[y]){var k=null;if(!r._mouseDown&&f)return k=r._getCoordinates(m,h),void(Math.abs(f.relative.left-k.relative.left)>5&&f&&(r._mouseDown=!0,h.setStart(n.copy(f)),h.setPosition(n.copy(f)),h.setEnd(n.copy(f)),f=null));r._mouseDown===!0&&(k=r._getCoordinates(m,h),h.setEnd(k),h.render())}}})},u.prototype.detach=function(){var h=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),h.$services.getService("state").unregisterProvider("clickDrag")},u.prototype.destructor=function(){this.detach()},u.prototype._getCoordinates=function(h,a){var l=a.getViewPort(),r=l.getBoundingClientRect(),n=h.clientX,o=h.clientY;return{absolute:{left:n,top:o},relative:{left:n-r.left+l.scrollLeft,top:o-r.top+l.scrollTop}}},u}();g.EventsManager=c},function(s,g,i){var p=this&&this.__assign||function(){return(p=Object.assign||function(h){for(var a,l=1,r=arguments.length;l<r;l++)for(var n in a=arguments[l])Object.prototype.hasOwnProperty.call(a,n)&&(h[n]=a[n]);return h}).apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var c=i(298),u=i(297);g.default=function(h){h.ext||(h.ext={});var a={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},l=new c.EventsManager(h);h.ext.clickDrag=l,h.attachEvent("onGanttReady",function(){var r=p({viewPort:h.$task_data},a);if(h.config.click_drag){var n=h.config.click_drag;r.render=n.render||a.render,r.className=n.className||a.className,r.callback=n.callback||a.callback,r.viewPort=n.viewPort||h.$task_data,r.useRequestAnimationFrame=n.useRequestAnimationFrame===void 0?a.useRequestAnimationFrame:n.useRequestAnimationFrame,r.singleRow=n.singleRow===void 0?a.singleRow:n.singleRow;var o=h.$ui.getView("timeline"),d=new u.SelectedRegion(r,h,o);h.ext.clickDrag.attach(d,n.useKey,n.ignore)}}),h.attachEvent("onDestroy",function(){l.destructor()})}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(299),c=i(296),u=i(294),h=i(274),a=i(273),l=i(262),r=i(261),n=i(260),o=i(258),d=i(255);g.default={click_drag:p.default,drag_timeline:c.default,fullscreen:h.default,keyboard_navigation:a,quick_info:n.default,tooltip:o.default,undo:d.default,marker:l,multiselect:r,export_api:u.default}},function(s,g,i){Object.defineProperty(g,"__esModule",{value:!0});var p=i(300),c=i(252),u=i(21).gantt=c(p.default);g.gantt=u,g.default=u}])})})(Pp);var _e=Pp.exports;const cx=({projectId:e,onTaskSelect:t,onTaskUpdate:s})=>{const g=Y.useRef(null),i=Y.useRef(!1);Y.useEffect(()=>{if(!g.current||i.current)return;_e.gantt.config.date_format="%Y-%m-%d %H:%i",_e.gantt.config.xml_date="%Y-%m-%d",_e.gantt.config.scale_unit="day",_e.gantt.config.date_scale="%d %M",_e.gantt.config.subscales=[{unit:"month",step:1,date:"%F %Y"}],_e.gantt.config.min_column_width=50,_e.gantt.config.scale_height=60,_e.gantt.config.row_height=44,_e.gantt.config.bar_height=28,_e.gantt.config.show_task_cells=!0,_e.gantt.config.auto_scheduling=!1,_e.gantt.config.auto_scheduling_strict=!1,_e.gantt.config.drag_links=!0,_e.gantt.config.drag_progress=!0,_e.gantt.config.drag_resize=!0,_e.gantt.config.drag_move=!0,_e.gantt.config.details_on_dblclick=!0,_e.gantt.config.order_branch=!0,_e.gantt.config.order_branch_free=!0,_e.gantt.config.fit_tasks=!0,_e.gantt.config.inline_editors_date_processing="keepDates",_e.gantt.config.open_tree_initially=!0,_e.gantt.config.columns_resize=!0,_e.gantt.config.grid_width=720,_e.gantt.config.grid_resize=!0,_e.gantt.config.keep_grid_width=!1,_e.gantt.config.min_grid_column_width=100,_e.gantt.config.columns=[{name:"wbs",label:"WBS",width:50,min_width:40,align:"center",resize:!0,template:n=>n.$index+1},{name:"text",label:"TASK NAME",tree:!0,width:220,min_width:150,resize:!0,editor:{type:"text",map_to:"text"}},{name:"start_date",label:"START DATE",align:"center",width:110,min_width:90,resize:!0,editor:{type:"date",map_to:"start_date"}},{name:"duration",label:"DURATION",align:"center",width:90,min_width:70,resize:!0,editor:{type:"number",map_to:"duration",min:0,max:365}},{name:"status",label:"STATUS",align:"center",width:120,min_width:90,resize:!0,editor:{type:"select",map_to:"status",options:[{key:"not_started",label:"Not Started"},{key:"in_progress",label:"In Progress"},{key:"completed",label:"Completed"},{key:"blocked",label:"Blocked"}]},template:n=>{const o={not_started:"#6B7280",in_progress:"#3B82F6",completed:"#10B981",blocked:"#EF4444"},d={not_started:"Not Started",in_progress:"In Progress",completed:"Completed",blocked:"Blocked"},f=o[n.status]||"#6B7280",_=d[n.status]||n.status;return`<span style="color: ${f};">${_}</span>`}},{name:"assigned_user_name",label:"ASSIGNED",align:"left",width:130,min_width:100,resize:!0,template:n=>n.assigned_user_name||"-"}],_e.gantt.templates.task_class=(n,o,d)=>{if(d.color)return"gantt-task-custom-color";const f=["blue","yellow","purple","pink","orange","cyan","green"],_=d.id?parseInt(d.id.toString())%f.length:0;return`gantt-task-color-${f[_]}`},_e.gantt.templates.task_style=(n,o,d)=>d.color?`background: ${d.color} !important; border-color: ${d.color} !important;`:"",_e.gantt.templates.task_text=(n,o,d)=>{const f=Math.round(d.progress*100),_=d.assigned_user_name?` ${d.assigned_user_name}`:"";return`${d.text} ${f}%${_}`},_e.gantt.templates.rightside_text=(n,o,d)=>d.assigned_user_name?d.assigned_user_name:"",_e.gantt.templates.progress_text=(n,o,d)=>Math.round(d.progress*100)+"%",_e.gantt.templates.link_class=n=>`gantt-link-${{0:"finish_to_start",1:"start_to_start",2:"finish_to_finish",3:"start_to_finish"}[n.type]||"finish_to_start"}`,_e.gantt.init(g.current),i.current=!0,p();const c=async(n,o)=>{try{const d=typeof o.progress=="number"?Math.round(Math.max(0,Math.min(1,o.progress))*100):0;await ot.update(Number(n),{title:o.text,startDate:_e.gantt.date.date_to_str("%Y-%m-%d")(o.start_date),endDate:_e.gantt.date.date_to_str("%Y-%m-%d")(o.end_date),duration:o.duration,progress:d,status:o.status,priority:o.priority,assignedTo:o.assigned_to?Number(o.assigned_to):null,parentTaskId:o.parent||null}),s&&s(),de.success("Task updated successfully")}catch{de.error("Failed to update task"),p()}},u=async(n,o)=>{try{const d=await ot.create(e,{title:o.text||"New Task",startDate:_e.gantt.date.date_to_str("%Y-%m-%d")(o.start_date),endDate:_e.gantt.date.date_to_str("%Y-%m-%d")(o.end_date),duration:o.duration,status:"not_started",priority:"medium",parentTaskId:o.parent||void 0});_e.gantt.changeTaskId(n,d.id.toString()),s&&s(),de.success("Task created successfully")}catch{de.error("Failed to create task"),_e.gantt.deleteTask(n)}},h=async n=>{try{await ot.delete(Number(n)),s&&s(),de.success("Task deleted successfully")}catch{de.error("Failed to delete task"),p()}},a=async(n,o)=>{try{const d=["finish_to_start","start_to_start","finish_to_finish","start_to_finish"];await ot.addDependency(Number(o.target),Number(o.source),d[o.type]||"finish_to_start",0),s&&s(),de.success("Dependency added successfully")}catch{de.error("Failed to add dependency"),_e.gantt.deleteLink(n)}},l=async(n,o)=>{try{await ot.removeDependency(Number(o.target),Number(n)),s&&s(),de.success("Dependency removed successfully")}catch{de.error("Failed to remove dependency"),p()}},r=n=>{t&&t(Number(n))};return _e.gantt.attachEvent("onAfterTaskUpdate",c),_e.gantt.attachEvent("onAfterTaskAdd",u),_e.gantt.attachEvent("onAfterTaskDelete",h),_e.gantt.attachEvent("onAfterLinkAdd",a),_e.gantt.attachEvent("onAfterLinkDelete",l),_e.gantt.attachEvent("onTaskSelected",r),()=>{_e.gantt.clearAll()}},[e]);const p=async()=>{try{const c=await ot.list(e),u=c.map(a=>{var r;const l=c.some(n=>n.parent_task_id===a.id);return{id:a.id.toString(),text:a.title,start_date:a.start_date?_e.gantt.date.parseDate(a.start_date,"xml_date"):new Date,end_date:a.end_date?_e.gantt.date.parseDate(a.end_date,"xml_date"):null,duration:a.duration||1,progress:a.progress/100,status:a.status,priority:a.priority,parent:((r=a.parent_task_id)==null?void 0:r.toString())||0,assigned_to:a.assigned_to,assigned_user_name:a.assigned_user_name,assigned_user_email:a.assigned_user_email,color:a.color,open:!0,type:l?"project":"task"}}),h=[];if(c.forEach(a=>{a.dependencies&&a.dependencies.length>0&&a.dependencies.forEach(l=>{const r={finish_to_start:0,start_to_start:1,finish_to_finish:2,start_to_finish:3};h.push({id:l.id.toString(),source:l.depends_on_task_id.toString(),target:a.id.toString(),type:r[l.dependency_type]||0,lag:l.lag_time||0})})}),_e.gantt.parse({data:u,links:h}),u.length>0){const a=u.filter(l=>l.start_date&&l.end_date).flatMap(l=>[l.start_date,l.end_date]);if(a.length>0){const l=new Date(Math.min(...a.map(n=>n.getTime()))),r=new Date(Math.max(...a.map(n=>n.getTime())));l.setDate(l.getDate()-7),r.setDate(r.getDate()+7),_e.gantt.config.start_date=l,_e.gantt.config.end_date=r,_e.gantt.render()}}}catch{de.error("Failed to load tasks")}};return C.jsx("div",{className:"gantt-container",children:C.jsx("div",{ref:g,style:{width:"100%",height:"calc(100vh - 320px)"}})})},At={list:async e=>(await ve.get(`/projects/${e}/groups`)).data.data.groups,get:async e=>(await ve.get(`/groups/${e}`)).data.data.group,create:async(e,t)=>(await ve.post(`/projects/${e}/groups`,t)).data.data.group,update:async(e,t)=>(await ve.put(`/groups/${e}`,t)).data.data.group,delete:async e=>{await ve.delete(`/groups/${e}`)},addMember:async(e,t)=>(await ve.post(`/groups/${e}/members`,{userId:t})).data.data.membership,removeMember:async(e,t)=>{await ve.delete(`/groups/${e}/members/${t}`)},getDefaultColors:()=>["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"]},Yn={list:async e=>(await ve.get(`/tasks/${e}/comments`)).data.data.comments,create:async(e,t)=>(await ve.post(`/tasks/${e}/comments`,t)).data.data.comment,update:async(e,t)=>(await ve.put(`/comments/${e}`,t)).data.data.comment,delete:async e=>{await ve.delete(`/comments/${e}`)},getProjectActivity:async(e,t=50)=>(await ve.get(`/projects/${e}/activity?limit=${t}`)).data.data.activities,getTaskActivity:async(e,t=50)=>(await ve.get(`/tasks/${e}/activity?limit=${t}`)).data.data.activities,getUserActivity:async(e=50)=>(await ve.get(`/activity?limit=${e}`)).data.data.activities},dx=({comment:e,currentUserId:t,onUpdate:s,onDelete:g})=>{const[i,p]=Y.useState(!1),[c,u]=Y.useState(e.content),[h,a]=Y.useState(!1),[l,r]=Y.useState(!1),n=e.user_id===t,o=async()=>{if(c.trim()){a(!0);try{await s(e.id,c.trim()),p(!1)}catch{}finally{a(!1)}}},d=async()=>{if(confirm("Are you sure you want to delete this comment?")){r(!0);try{await g(e.id)}catch{}finally{r(!1)}}},f=()=>{u(e.content),p(!1)},_=v=>v.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2),m=v=>{const y=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-red-500","bg-teal-500"];return y[v%y.length]};return C.jsxs("div",{className:"flex gap-3",children:[C.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full ${m(e.user_id)} flex items-center justify-center text-white text-xs font-medium`,children:_(e.user_name)}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.user_name}),C.jsx("span",{className:"text-xs text-gray-500",children:Fo(new Date(e.created_at),{addSuffix:!0})}),e.created_at!==e.updated_at&&C.jsx("span",{className:"text-xs text-gray-400",children:"(edited)"})]}),i?C.jsxs("div",{className:"space-y-2",children:[C.jsx("textarea",{value:c,onChange:v=>u(v.target.value),className:"input text-sm",rows:3,autoFocus:!0}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{onClick:o,disabled:h||!c.trim(),className:"btn btn-primary text-xs py-1 px-3 flex items-center gap-1",children:[C.jsx(D0,{size:14}),h?"Saving...":"Save"]}),C.jsxs("button",{onClick:f,disabled:h,className:"btn btn-secondary text-xs py-1 px-3 flex items-center gap-1",children:[C.jsx(lr,{size:14}),"Cancel"]})]})]}):C.jsx("div",{className:"bg-gray-50 rounded-lg px-3 py-2",children:C.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:e.content})}),n&&!i&&C.jsxs("div",{className:"flex gap-3 mt-2",children:[C.jsxs("button",{onClick:()=>p(!0),className:"text-xs text-gray-600 hover:text-primary-600 flex items-center gap-1",children:[C.jsx(Ep,{size:12}),"Edit"]}),C.jsxs("button",{onClick:d,disabled:l,className:"text-xs text-gray-600 hover:text-red-600 flex items-center gap-1",children:[C.jsx(ir,{size:12}),l?"Deleting...":"Delete"]})]})]})]})},fx=({taskId:e,currentUserId:t})=>{const[s,g]=Y.useState([]),[i,p]=Y.useState(""),[c,u]=Y.useState(!0),[h,a]=Y.useState(!1);Y.useEffect(()=>{l()},[e]);const l=async()=>{try{u(!0);const d=await Yn.list(e);g(d)}catch{de.error("Failed to load comments")}finally{u(!1)}},r=async d=>{if(i.trim()){a(!0);try{const f=await Yn.create(e,{content:i.trim()});g([f,...s]),p(""),de.success("Comment added")}catch{de.error("Failed to add comment")}finally{a(!1)}}},n=async(d,f)=>{try{const _=await Yn.update(d,{content:f});g(s.map(m=>m.id===d?_:m)),de.success("Comment updated")}catch(_){throw de.error("Failed to update comment"),_}},o=async d=>{try{await Yn.delete(d),g(s.filter(f=>f.id!==d)),de.success("Comment deleted")}catch(f){throw de.error("Failed to delete comment"),f}};return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[C.jsx($l,{size:18}),C.jsxs("h3",{className:"font-medium",children:["Comments (",s.length,")"]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("textarea",{value:i,onChange:d=>p(d.target.value),className:"input text-sm",rows:3,placeholder:"Add a comment...",onKeyDown:d=>{d.key==="Enter"&&(d.ctrlKey||d.metaKey)&&r()}}),C.jsx("div",{className:"flex justify-end",children:C.jsxs("button",{type:"button",onClick:()=>r(),disabled:h||!i.trim(),className:"btn btn-primary text-sm py-2 px-4 flex items-center gap-2",children:[C.jsx(z0,{size:16}),h?"Posting...":"Post Comment"]})})]}),C.jsx("div",{className:"space-y-4",children:c?C.jsx("div",{className:"flex items-center justify-center py-8",children:C.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.length===0?C.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[C.jsx($l,{size:32,className:"mx-auto text-gray-400 mb-2"}),C.jsx("p",{className:"text-sm text-gray-600",children:"No comments yet"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Be the first to comment!"})]}):s.map(d=>C.jsx(dx,{comment:d,currentUserId:t,onUpdate:n,onDelete:o},d.id))})]})},wr={list:async e=>(await ve.get(`/tasks/${e}/files`)).data.data.files,upload:async(e,t,s)=>{const g=new FormData;return g.append("file",t),(await ve.post(`/tasks/${e}/files`,g,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:p=>{if(s&&p.total){const c=Math.round(p.loaded*100/p.total);s(c)}}})).data.data.file},download:async e=>(await ve.get(`/files/${e}/download`,{responseType:"blob"})).data,delete:async e=>{await ve.delete(`/files/${e}`)},getStorageUsage:async()=>(await ve.get("/files/storage-usage")).data.data.usage,formatFileSize:e=>{if(e===0)return"0 Bytes";const t=1024,s=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,g)*100)/100+" "+s[g]},getFileIcon:e=>{if(!e)return"📎";const t=e.toLowerCase();return t.startsWith("image/")?"🖼️":t.startsWith("video/")?"🎥":t.startsWith("audio/")?"🎵":t.includes("pdf")?"📄":t.includes("word")||t.includes("document")?"📝":t.includes("excel")||t.includes("spreadsheet")?"📊":t.includes("powerpoint")||t.includes("presentation")?"📽️":t.includes("zip")||t.includes("compressed")?"🗜️":t.includes("text")?"📃":"📎"}},hx=({taskId:e,onUploadSuccess:t,maxSize:s=10,acceptedTypes:g=[]})=>{const[i,p]=Y.useState(!1),[c,u]=Y.useState(new Map),h=Y.useRef(null),a=_=>{_.preventDefault(),p(!0)},l=_=>{_.preventDefault(),p(!1)},r=_=>{_.preventDefault(),p(!1);const m=Array.from(_.dataTransfer.files);o(m)},n=_=>{if(_.target.files){const m=Array.from(_.target.files);o(m)}},o=async _=>{for(const m of _){if(m.size>s*1024*1024){de.error(`${m.name} is too large. Max size is ${s}MB`);continue}if(g.length>0&&!g.some(v=>m.type.includes(v))){de.error(`${m.name} is not an accepted file type`);continue}await d(m)}h.current&&(h.current.value="")},d=async _=>{var v,y;const m=`${_.name}-${Date.now()}`;try{u(k=>new Map(k).set(m,0)),await wr.upload(e,_,k=>{u(x=>new Map(x).set(m,k))}),u(k=>{const x=new Map(k);return x.delete(m),x}),de.success(`${_.name} uploaded successfully`),t()}catch(k){u(w=>{const b=new Map(w);return b.delete(m),b});const x=((y=(v=k.response)==null?void 0:v.data)==null?void 0:y.message)||`Failed to upload ${_.name}`;de.error(x)}},f=_=>{u(m=>{const v=new Map(m);return v.delete(_),v})};return C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{onDragOver:a,onDragLeave:l,onDrop:r,onClick:()=>{var _;return(_=h.current)==null?void 0:_.click()},className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${i?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50"}`,children:[C.jsx(B0,{className:"mx-auto mb-2 text-gray-400",size:32}),C.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[C.jsx("span",{className:"text-primary-600 font-medium",children:"Click to upload"})," or drag and drop"]}),C.jsxs("p",{className:"text-xs text-gray-500",children:[g.length>0?`Accepted types: ${g.join(", ")}`:"Any file type accepted"," • ","Max ",s,"MB"]}),C.jsx("input",{ref:h,type:"file",multiple:!0,className:"hidden",onChange:n,accept:g.join(",")})]}),c.size>0&&C.jsx("div",{className:"space-y-2",children:Array.from(c.entries()).map(([_,m])=>{const v=_.split("-").slice(0,-1).join("-");return C.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("span",{className:"text-sm text-gray-700 truncate flex-1",children:v}),C.jsx("button",{onClick:()=>f(_),className:"text-gray-400 hover:text-gray-600 ml-2",children:C.jsx(lr,{size:16})})]}),C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:C.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${m}%`}})}),C.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m,"%"]})]},_)})})]})},px=({files:e,currentUserId:t,onDelete:s})=>{const[g,i]=Y.useState(null),[p,c]=Y.useState(null),u=async l=>{c(l.id);try{const r=await wr.download(l.id),n=window.URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download=l.file_name,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),de.success("File downloaded")}catch{de.error("Failed to download file")}finally{c(null)}},h=async l=>{if(confirm(`Delete ${l.file_name}?`)){i(l.id);try{await wr.delete(l.id),s(l.id),de.success("File deleted")}catch{de.error("Failed to delete file")}finally{i(null)}}},a=l=>l.uploaded_by===t;return e.length===0?C.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[C.jsx(Mu,{size:32,className:"mx-auto text-gray-400 mb-2"}),C.jsx("p",{className:"text-sm text-gray-600",children:"No files attached"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload files to share with your team"})]}):C.jsx("div",{className:"space-y-2",children:e.map(l=>C.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors",children:[C.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[C.jsx("div",{className:"text-2xl flex-shrink-0",children:wr.getFileIcon(l.mime_type)}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:l.file_name}),C.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[C.jsx("span",{children:wr.formatFileSize(l.file_size)}),C.jsx("span",{children:"•"}),C.jsx("span",{children:l.uploader_name}),C.jsx("span",{children:"•"}),C.jsx("span",{children:Fo(new Date(l.uploaded_at),{addSuffix:!0})})]})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{onClick:()=>u(l),disabled:p===l.id,className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-white rounded transition-colors",title:"Download",children:p===l.id?C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}):C.jsx(Sp,{size:16})}),a(l)&&C.jsx("button",{onClick:()=>h(l),disabled:g===l.id,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-white rounded transition-colors",title:"Delete",children:g===l.id?C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):C.jsx(ir,{size:16})})]})]},l.id))})},gx=({taskId:e,currentUserId:t})=>{const[s,g]=Y.useState([]),[i,p]=Y.useState(!0);Y.useEffect(()=>{c()},[e]);const c=async()=>{try{p(!0);const a=await wr.list(e);g(a)}catch{de.error("Failed to load files")}finally{p(!1)}},u=()=>{c()},h=a=>{g(s.filter(l=>l.id!==a))};return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[C.jsx(Cp,{size:18}),C.jsxs("h3",{className:"font-medium",children:["Attachments (",s.length,")"]})]}),C.jsx(hx,{taskId:e,onUploadSuccess:u,maxSize:10}),C.jsx("div",{children:i?C.jsx("div",{className:"flex items-center justify-center py-8",children:C.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):C.jsx(px,{files:s,currentUserId:t,onDelete:h})})]})},_x=({isOpen:e,onClose:t,onSuccess:s,projectId:g,taskId:i,parentTaskId:p,onCreateSubtask:c})=>{const[u,h]=Y.useState(null),[a,l]=Y.useState(""),[r,n]=Y.useState(""),[o,d]=Y.useState(""),[f,_]=Y.useState(""),[m,v]=Y.useState(1),[y,k]=Y.useState(0),[x,w]=Y.useState("not_started"),[b,S]=Y.useState("medium"),[T,N]=Y.useState(null),[$,E]=Y.useState(null),[D,P]=Y.useState("none"),[I,O]=Y.useState(null),[B,R]=Y.useState([]),[H,q]=Y.useState([]),[G,L]=Y.useState([]),[F,J]=Y.useState([]),[z,X]=Y.useState(!1),[ne,ee]=Y.useState(""),[V,j]=Y.useState("finish_to_start"),[M,A]=Y.useState(!1),[U,W]=Y.useState(!1),[K,ae]=Y.useState(!1),{user:Q}=sr();Y.useEffect(()=>{if(o&&f){const se=new Date(o),Tt=new Date(f),je=Math.abs(Tt.getTime()-se.getTime()),Z=Math.ceil(je/(1e3*60*60*24))+1;v(Z)}},[o,f]),Y.useEffect(()=>{e&&(fe(),le(),ge(),i?ie():Se())},[e,i,g]);const ie=async()=>{if(i)try{A(!0);const se=await ot.get(i);h(se),l(se.title),n(se.description||""),d(se.start_date?se.start_date.split("T")[0]:""),_(se.end_date?se.end_date.split("T")[0]:""),v(se.duration||1),k(Math.round(se.progress)),w(se.status),S(se.priority),N(se.assigned_to),E(se.assigned_group_id),O(se.color),se.assigned_to?P("person"):se.assigned_group_id?P("group"):P("none");const Tt=await ot.getDependencies(i);L(Tt)}catch{de.error("Failed to load task details")}finally{A(!1)}},fe=async()=>{try{const se=await Yt.getMembers(g);R(se)}catch{console.error("Failed to load members")}},le=async()=>{try{const se=await At.list(g);q(se)}catch{console.error("Failed to load groups")}},ge=async()=>{try{const se=await ot.list(g);J(se.filter(Tt=>Tt.id!==i))}catch{console.error("Failed to load tasks")}},Se=()=>{h(null),l(""),n(""),d(""),_(""),v(1),k(0),w("not_started"),S("medium"),N(null),E(null),P("none"),O(null),L([])},We=async se=>{var Tt,je;se.preventDefault(),A(!0);try{if(i){const Z={title:a,description:r||void 0,startDate:o||void 0,endDate:f||void 0,duration:m,progress:y/100,status:x,priority:b,assignedTo:D==="person"?T:null,assignedGroupId:D==="group"?$:null,color:I||null};await ot.update(i,Z),de.success("Task updated successfully")}else{const Z={title:a,description:r||void 0,startDate:o||void 0,endDate:f||void 0,duration:m,status:x,priority:b,assignedTo:D==="person"&&T||void 0,assignedGroupId:D==="group"&&$||void 0,parentTaskId:p||void 0};await ot.create(g,Z),de.success("Task created successfully")}s(),St()}catch(Z){const re=((je=(Tt=Z.response)==null?void 0:Tt.data)==null?void 0:je.message)||`Failed to ${i?"update":"create"} task`;de.error(re)}finally{A(!1)}},Ve=async()=>{if(!(!i||!confirm("Are you sure you want to delete this task?"))){W(!0);try{await ot.delete(i),de.success("Task deleted successfully"),s(),St()}catch{de.error("Failed to delete task")}finally{W(!1)}}},mt=async()=>{if(!(!i||!ne))try{await ot.addDependency(i,Number(ne),V,0),de.success("Dependency added successfully"),X(!1),ee(""),ie()}catch{de.error("Failed to add dependency")}},dn=async se=>{if(!(!i||!confirm("Remove this dependency?")))try{await ot.removeDependency(i,se),de.success("Dependency removed successfully"),ie()}catch{de.error("Failed to remove dependency")}},St=()=>{Se(),X(!1),t()};return e?C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[C.jsx("h2",{className:"text-xl font-semibold",children:i?"Edit Task":"Create New Task"}),C.jsx("button",{onClick:St,className:"text-gray-400 hover:text-gray-600",children:C.jsx(lr,{size:24})})]}),C.jsxs("form",{onSubmit:We,className:"p-6 space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Title *"}),C.jsx("input",{id:"title",type:"text",required:!0,value:a,onChange:se=>l(se.target.value),className:"input",placeholder:"Enter task title"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),C.jsx("textarea",{id:"description",value:r,onChange:se=>n(se.target.value),className:"input",rows:4,placeholder:"Add task description..."})]}),C.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"startDate",className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[C.jsx(uo,{size:16}),"Start Date"]}),C.jsx("input",{id:"startDate",type:"date",value:o,onChange:se=>d(se.target.value),className:"input"})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"endDate",className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[C.jsx(uo,{size:16}),"End Date"]}),C.jsx("input",{id:"endDate",type:"date",value:f,onChange:se=>_(se.target.value),min:o,className:"input"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (days)"}),C.jsx("input",{id:"duration",type:"number",min:"1",value:m,onChange:se=>v(Number(se.target.value)),className:"input bg-gray-50",readOnly:!0,title:"Duration is automatically calculated from start and end dates"})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),C.jsxs("select",{id:"status",value:x,onChange:se=>w(se.target.value),className:"input",children:[C.jsx("option",{value:"not_started",children:"Not Started"}),C.jsx("option",{value:"in_progress",children:"In Progress"}),C.jsx("option",{value:"completed",children:"Completed"}),C.jsx("option",{value:"blocked",children:"Blocked"}),C.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"priority",className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[C.jsx(O0,{size:16}),"Priority"]}),C.jsxs("select",{id:"priority",value:b,onChange:se=>S(se.target.value),className:"input",children:[C.jsx("option",{value:"low",children:"Low"}),C.jsx("option",{value:"medium",children:"Medium"}),C.jsx("option",{value:"high",children:"High"}),C.jsx("option",{value:"critical",children:"Critical"})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeline Bar Color (optional)"}),C.jsxs("div",{className:"flex gap-3 items-center",children:[C.jsx("input",{id:"color",type:"color",value:I||"#3B82F6",onChange:se=>O(se.target.value),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),I&&C.jsx("button",{type:"button",onClick:()=>O(null),className:"text-sm text-gray-600 hover:text-gray-800",children:"Clear Color"}),C.jsx("span",{className:"text-sm text-gray-500",children:I||"Auto (random color)"})]})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[C.jsx(jr,{size:16}),"Assignment"]}),C.jsxs("div",{className:"flex gap-2 mb-3",children:[C.jsx("button",{type:"button",onClick:()=>{P("none"),N(null),E(null)},className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${D==="none"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Unassigned"}),C.jsx("button",{type:"button",onClick:()=>{P("person"),E(null)},className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${D==="person"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Person"}),C.jsx("button",{type:"button",onClick:()=>{P("group"),N(null)},className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${D==="group"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:C.jsxs("span",{className:"flex items-center gap-2 justify-center",children:[C.jsx(Fr,{size:16}),"Group"]})})]}),D==="person"&&C.jsxs("select",{value:T||"",onChange:se=>N(se.target.value?Number(se.target.value):null),className:"input",children:[C.jsx("option",{value:"",children:"Select a person..."}),B.map(se=>C.jsxs("option",{value:se.user_id,children:[se.user_name," (",se.user_email,")"]},se.user_id))]}),D==="group"&&C.jsxs("select",{value:$||"",onChange:se=>E(se.target.value?Number(se.target.value):null),className:"input",children:[C.jsx("option",{value:"",children:"Select a group..."}),H.map(se=>C.jsxs("option",{value:se.id,children:[se.name," (",se.member_count," ",se.member_count===1?"member":"members",")"]},se.id))]})]}),i&&C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"progress",className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-1",children:[C.jsx(Sl,{size:16}),"Progress: ",y,"%"]}),C.jsx("input",{id:"progress",type:"range",min:"0",max:"100",step:"5",value:y,onChange:se=>k(Number(se.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:C.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${y}%`}})})]}),i&&C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[C.jsx(Tp,{size:16}),"Dependencies"]}),C.jsxs("button",{type:"button",onClick:()=>X(!z),className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center gap-1",children:[C.jsx(Fi,{size:16}),"Add Dependency"]})]}),z&&C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-3 space-y-3",children:[C.jsxs("select",{value:ne,onChange:se=>ee(se.target.value),className:"input",children:[C.jsx("option",{value:"",children:"Select a task..."}),F.map(se=>C.jsx("option",{value:se.id,children:se.title},se.id))]}),C.jsxs("select",{value:V,onChange:se=>j(se.target.value),className:"input",children:[C.jsx("option",{value:"finish_to_start",children:"Finish to Start"}),C.jsx("option",{value:"start_to_start",children:"Start to Start"}),C.jsx("option",{value:"finish_to_finish",children:"Finish to Finish"}),C.jsx("option",{value:"start_to_finish",children:"Start to Finish"})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",onClick:mt,className:"btn btn-primary flex-1",children:"Add"}),C.jsx("button",{type:"button",onClick:()=>X(!1),className:"btn btn-secondary",children:"Cancel"})]})]}),C.jsx("div",{className:"space-y-2",children:G.length===0?C.jsx("p",{className:"text-sm text-gray-500",children:"No dependencies"}):G.map(se=>C.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-sm font-medium text-gray-900",children:se.depends_on_title||`Task #${se.depends_on_task_id}`}),C.jsx("p",{className:"text-xs text-gray-600",children:se.dependency_type.replace(/_/g," ")})]}),C.jsx("button",{type:"button",onClick:()=>dn(se.id),className:"text-red-600 hover:text-red-700",children:C.jsx(ir,{size:16})})]},se.id))})]}),i&&Q&&C.jsx("div",{className:"pt-4 border-t",children:C.jsx(gx,{taskId:i,currentUserId:Q.id})}),i&&Q&&C.jsx("div",{className:"pt-4 border-t",children:C.jsx(fx,{taskId:i,currentUserId:Q.id})}),C.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[i&&C.jsxs(C.Fragment,{children:[C.jsxs("button",{type:"button",onClick:Ve,disabled:U,className:"btn btn-danger flex items-center gap-2",children:[C.jsx(ir,{size:16}),U?"Deleting...":"Delete"]}),C.jsxs("button",{type:"button",onClick:()=>{c&&i&&c(i)},className:"btn btn-secondary flex items-center gap-2",children:[C.jsx(Fi,{size:16}),"Create Subtask"]})]}),C.jsx("div",{className:"flex-1"}),C.jsx("button",{type:"button",onClick:St,className:"btn btn-secondary",children:"Cancel"}),C.jsx("button",{type:"submit",disabled:M,className:"btn btn-primary",children:M?"Saving...":i?"Update Task":"Create Task"})]})]})]})}):null},mx=({activity:e})=>{const t=(i,p)=>{const c="flex-shrink-0";return i==="created"?p==="task"?C.jsx(Tl,{className:c,size:16}):p==="comment"?C.jsx($l,{className:c,size:16}):p==="file"?C.jsx(Cp,{className:c,size:16}):p==="project"?C.jsx(I0,{className:c,size:16}):p==="dependency"?C.jsx(Tp,{className:c,size:16}):C.jsx(Mu,{className:c,size:16}):i==="updated"?C.jsx(L0,{className:c,size:16}):i==="deleted"?C.jsx(ir,{className:c,size:16}):i==="assigned"?C.jsx(Lo,{className:c,size:16}):i==="completed"?C.jsx(Tl,{className:c,size:16}):C.jsx(wl,{className:c,size:16})},s=i=>({created:"text-green-600 bg-green-50",updated:"text-blue-600 bg-blue-50",deleted:"text-red-600 bg-red-50",assigned:"text-purple-600 bg-purple-50",completed:"text-green-600 bg-green-50",commented:"text-blue-600 bg-blue-50"})[i]||"text-gray-600 bg-gray-50",g=()=>{const{action:i,entity_type:p,details:c,user_name:u}=e,h=C.jsx("span",{className:"font-medium text-gray-900",children:u});if(i==="created"){if(p==="task")return C.jsxs(C.Fragment,{children:[h," created task"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.task_title)||"Untitled"})]});if(p==="comment")return C.jsxs(C.Fragment,{children:[h," commented on a task"]});if(p==="file")return C.jsxs(C.Fragment,{children:[h," uploaded"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.file_name)||"a file"})]});if(p==="project")return C.jsxs(C.Fragment,{children:[h," created project"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.project_name)||"Untitled"})]});if(p==="dependency")return C.jsxs(C.Fragment,{children:[h," added a task dependency"]});if(p==="member")return C.jsxs(C.Fragment,{children:[h," added"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.added_user)||"a member"})," ","to the project"]})}if(i==="updated"){if(p==="task")return(c==null?void 0:c.field)==="status"?C.jsxs(C.Fragment,{children:[h," changed task status to"," ",C.jsx("span",{className:"font-medium text-gray-900",children:c==null?void 0:c.new_value})]}):(c==null?void 0:c.field)==="progress"?C.jsxs(C.Fragment,{children:[h," updated task progress to"," ",C.jsxs("span",{className:"font-medium text-gray-900",children:[c==null?void 0:c.new_value,"%"]})]}):C.jsxs(C.Fragment,{children:[h," updated task"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.task_title)||""})]});if(p==="project")return C.jsxs(C.Fragment,{children:[h," updated project"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.project_name)||""})]});if(p==="comment")return C.jsxs(C.Fragment,{children:[h," edited a comment"]})}if(i==="deleted"){if(p==="task")return C.jsxs(C.Fragment,{children:[h," deleted a task"]});if(p==="file")return C.jsxs(C.Fragment,{children:[h," deleted"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.file_name)||"a file"})]});if(p==="comment")return C.jsxs(C.Fragment,{children:[h," deleted a comment"]});if(p==="dependency")return C.jsxs(C.Fragment,{children:[h," removed a task dependency"]})}return i==="assigned"?C.jsxs(C.Fragment,{children:[h," assigned task to"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.assigned_to)||"someone"})]}):i==="completed"?C.jsxs(C.Fragment,{children:[h," completed task"," ",C.jsx("span",{className:"font-medium text-gray-900",children:(c==null?void 0:c.task_title)||""})]}):C.jsxs(C.Fragment,{children:[h," ",i," ",p]})};return C.jsxs("div",{className:"flex gap-3 py-3",children:[C.jsx("div",{className:`p-2 rounded-full ${s(e.action)}`,children:t(e.action,e.entity_type)}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:"text-sm text-gray-700",children:g()}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Fo(new Date(e.created_at),{addSuffix:!0})})]})]})},vx=({projectId:e,taskId:t,limit:s=50})=>{const[g,i]=Y.useState([]),[p,c]=Y.useState(!0),[u,h]=Y.useState("all");Y.useEffect(()=>{a()},[e,t,s]);const a=async()=>{try{c(!0);let n;t?n=await Yn.getTaskActivity(t,s):e?n=await Yn.getProjectActivity(e,s):n=await Yn.getUserActivity(s),i(n)}catch{de.error("Failed to load activity")}finally{c(!1)}},l=g.filter(n=>u==="all"?!0:n.action===u),r=Array.from(new Set(g.map(n=>n.action)));return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[C.jsx(wl,{size:18}),C.jsx("h3",{className:"font-medium",children:"Activity"})]}),r.length>1&&C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(A0,{size:16,className:"text-gray-500"}),C.jsxs("select",{value:u,onChange:n=>h(n.target.value),className:"text-sm border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[C.jsx("option",{value:"all",children:"All Activity"}),r.map(n=>C.jsx("option",{value:n,children:n.charAt(0).toUpperCase()+n.slice(1)},n))]})]})]}),C.jsx("div",{className:"bg-white rounded-lg shadow",children:p?C.jsx("div",{className:"flex items-center justify-center py-12",children:C.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.length===0?C.jsxs("div",{className:"text-center py-12",children:[C.jsx(wl,{size:32,className:"mx-auto text-gray-400 mb-2"}),C.jsx("p",{className:"text-sm text-gray-600",children:"No activity yet"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u==="all"?"Activity will appear here as you work on tasks":`No ${u} activities found`})]}):C.jsx("div",{className:"divide-y divide-gray-100",children:l.map(n=>C.jsx(mx,{activity:n},n.id))})}),l.length>=s&&C.jsx("div",{className:"text-center",children:C.jsx("button",{onClick:a,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Load more activity"})})]})},oi={exportToExcel:async e=>(await ve.get(`/projects/${e}/export/excel`,{responseType:"blob"})).data,exportToCSV:async e=>(await ve.get(`/projects/${e}/export/csv`,{responseType:"blob"})).data,exportToPDF:async e=>(await ve.get(`/projects/${e}/export/pdf`,{responseType:"blob"})).data,exportToGoogleSheets:async e=>(await ve.get(`/projects/${e}/export/google-sheets`,{responseType:"blob"})).data,downloadBlob:(e,t)=>{const s=window.URL.createObjectURL(e),g=document.createElement("a");g.href=s,g.download=t,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(s)}},yx=({projectId:e,projectName:t})=>{const[s,g]=Y.useState(!1),[i,p]=Y.useState(null),c=async u=>{p(u);try{let h,a;switch(u){case"excel":h=await oi.exportToExcel(e),a=`${t.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_tasks.xlsx`;break;case"csv":h=await oi.exportToCSV(e),a=`${t.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_tasks.csv`;break;case"pdf":h=await oi.exportToPDF(e),a=`${t.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_tasks.pdf`;break;case"google-sheets":h=await oi.exportToGoogleSheets(e),a=`${t.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_tasks_google_sheets.xlsx`,de.success("Downloaded! Upload this file to Google Sheets to import.",{duration:5e3});break;default:throw new Error("Invalid format")}oi.downloadBlob(h,a),u!=="google-sheets"&&de.success(`Exported to ${u.toUpperCase()} successfully`),g(!1)}catch{de.error(`Failed to export to ${u==="google-sheets"?"Google Sheets":u.toUpperCase()}`)}finally{p(null)}};return C.jsxs("div",{className:"relative",children:[C.jsxs("button",{onClick:()=>g(!s),className:"btn btn-secondary flex items-center gap-2",children:[C.jsx(Sp,{size:20}),"Export"]}),s&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(!1)}),C.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:[C.jsx("div",{className:"p-2 border-b border-gray-200",children:C.jsx("p",{className:"text-xs font-medium text-gray-700 px-2 py-1",children:"Export Tasks"})}),C.jsxs("div",{className:"p-2 space-y-1",children:[C.jsxs("button",{onClick:()=>c("google-sheets"),disabled:i!==null,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:[C.jsx(H0,{size:18,className:"text-emerald-600"}),C.jsxs("div",{className:"flex-1 text-left",children:[C.jsx("div",{className:"font-medium",children:"Google Sheets"}),C.jsx("div",{className:"text-xs text-gray-500",children:"Optimized for Google"})]}),i==="google-sheets"&&C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})]}),C.jsxs("button",{onClick:()=>c("excel"),disabled:i!==null,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:[C.jsx(M0,{size:18,className:"text-green-600"}),C.jsxs("div",{className:"flex-1 text-left",children:[C.jsx("div",{className:"font-medium",children:"Excel (.xlsx)"}),C.jsx("div",{className:"text-xs text-gray-500",children:"Formatted spreadsheet"})]}),i==="excel"&&C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})]}),C.jsxs("button",{onClick:()=>c("csv"),disabled:i!==null,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:[C.jsx(Mu,{size:18,className:"text-blue-600"}),C.jsxs("div",{className:"flex-1 text-left",children:[C.jsx("div",{className:"font-medium",children:"CSV (.csv)"}),C.jsx("div",{className:"text-xs text-gray-500",children:"Comma-separated values"})]}),i==="csv"&&C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})]}),C.jsxs("button",{onClick:()=>c("pdf"),disabled:i!==null,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:[C.jsx(P0,{size:18,className:"text-red-600"}),C.jsxs("div",{className:"flex-1 text-left",children:[C.jsx("div",{className:"font-medium",children:"PDF (.pdf)"}),C.jsx("div",{className:"text-xs text-gray-500",children:"Printable document"})]}),i==="pdf"&&C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})]})]})]})]})]})},kx=({projectId:e,members:t,onClose:s})=>{const[g,i]=Y.useState([]),[p,c]=Y.useState(null),[u,h]=Y.useState(!0),[a,l]=Y.useState(!1),[r,n]=Y.useState(!1),[o,d]=Y.useState(!1);Y.useEffect(()=>{f()},[e]);const f=async()=>{try{h(!0);const w=await At.list(e);i(w)}catch{de.error("Failed to load groups")}finally{h(!1)}},_=async w=>{try{const b=await At.create(e,w);i([b,...g]),l(!1),de.success("Group created successfully")}catch{de.error("Failed to create group")}},m=async(w,b)=>{try{const S=await At.update(w,b);i(g.map(T=>T.id===w?S:T)),n(!1),c(null),de.success("Group updated successfully")}catch{de.error("Failed to update group")}},v=async w=>{if(confirm("Are you sure you want to delete this group? Tasks assigned to this group will be unassigned."))try{await At.delete(w),i(g.filter(b=>b.id!==w)),de.success("Group deleted successfully")}catch{de.error("Failed to delete group")}},y=async w=>{try{const b=await At.get(w.id);c(b),d(!0)}catch{de.error("Failed to load group members")}},k=async w=>{var b,S;if(p)try{await At.addMember(p.id,w);const T=await At.get(p.id);c(T),i(g.map(N=>N.id===T.id?{...N,member_count:T.member_count}:N)),de.success("Member added successfully")}catch(T){de.error(((S=(b=T.response)==null?void 0:b.data)==null?void 0:S.message)||"Failed to add member")}},x=async w=>{if(p)try{await At.removeMember(p.id,w);const b=await At.get(p.id);c(b),i(g.map(S=>S.id===b.id?{...S,member_count:b.member_count}:S)),de.success("Member removed successfully")}catch{de.error("Failed to remove member")}};return C.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[C.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[C.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Fr,{className:"text-primary-600",size:24}),C.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Groups"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center gap-2",children:[C.jsx(Fi,{size:16}),"New Group"]}),C.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:C.jsx(lr,{size:24})})]})]}),C.jsx("div",{className:"p-6",children:u?C.jsx("div",{className:"flex items-center justify-center py-12",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):g.length===0?C.jsxs("div",{className:"text-center py-12",children:[C.jsx(Fr,{size:48,className:"mx-auto text-gray-400 mb-4"}),C.jsx("p",{className:"text-gray-600 mb-4",children:"No groups created yet"}),C.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"Create Your First Group"})]}):C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(w=>C.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[C.jsxs("div",{className:"flex items-start justify-between mb-3",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:w.color}}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),w.description&&C.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description})]})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("button",{onClick:()=>{c(w),n(!0)},className:"p-2 text-gray-600 hover:text-primary-600 rounded",title:"Edit group",children:C.jsx(Ep,{size:16})}),C.jsx("button",{onClick:()=>v(w.id),className:"p-2 text-gray-600 hover:text-red-600 rounded",title:"Delete group",children:C.jsx(ir,{size:16})})]})]}),C.jsxs("div",{className:"flex items-center justify-between text-sm",children:[C.jsxs("span",{className:"text-gray-600",children:[w.member_count," ",w.member_count===1?"member":"members"]}),C.jsx("button",{onClick:()=>y(w),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Manage Members"})]})]},w.id))})})]}),(a||r)&&C.jsx(xx,{group:r?p:null,onSave:w=>{r&&p?m(p.id,w):_(w)},onClose:()=>{l(!1),n(!1),c(null)}}),o&&p&&C.jsx(bx,{group:p,projectMembers:t,onAddMember:k,onRemoveMember:x,onClose:()=>{d(!1),c(null)}})]})},xx=({group:e,onSave:t,onClose:s})=>{const[g,i]=Y.useState((e==null?void 0:e.name)||""),[p,c]=Y.useState((e==null?void 0:e.description)||""),[u,h]=Y.useState((e==null?void 0:e.color)||"#3B82F6"),a=At.getDefaultColors(),l=r=>{r.preventDefault(),t({name:g,description:p,color:u})};return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[C.jsx("div",{className:"p-6 border-b border-gray-200",children:C.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e?"Edit Group":"Create New Group"})}),C.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Name"}),C.jsx("input",{type:"text",value:g,onChange:r=>i(r.target.value),className:"input",placeholder:"e.g., Frontend Team",required:!0,maxLength:100})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),C.jsx("textarea",{value:p,onChange:r=>c(r.target.value),className:"input",rows:3,placeholder:"Describe the purpose of this group..."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),C.jsx("div",{className:"flex gap-2 flex-wrap",children:a.map(r=>C.jsx("button",{type:"button",onClick:()=>h(r),className:`w-10 h-10 rounded-full border-2 transition-all ${u===r?"border-gray-900 scale-110":"border-gray-200"}`,style:{backgroundColor:r}},r))})]}),C.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[C.jsx("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),C.jsxs("button",{type:"submit",className:"btn btn-primary",children:[e?"Update":"Create"," Group"]})]})]})]})})},bx=({group:e,projectMembers:t,onAddMember:s,onRemoveMember:g,onClose:i})=>{var h,a;const p=new Set(((h=e.members)==null?void 0:h.map(l=>l.user_id))||[]),c=t.filter(l=>!p.has(l.user_id)),u=l=>l?l.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"??";return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[C.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Members"}),C.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.name})]}),C.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:C.jsx(lr,{size:24})})]}),C.jsxs("div",{className:"p-6",children:[C.jsxs("div",{className:"mb-6",children:[C.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Current Members (",((a=e.members)==null?void 0:a.length)||0,")"]}),e.members&&e.members.length>0?C.jsx("div",{className:"space-y-2",children:e.members.map(l=>C.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-sm font-semibold",children:u(l.user_name)}),C.jsxs("div",{children:[C.jsx("p",{className:"font-medium text-gray-900",children:l.user_name}),C.jsx("p",{className:"text-sm text-gray-600",children:l.user_email})]})]}),C.jsx("button",{onClick:()=>g(l.id),className:"p-2 text-gray-600 hover:text-red-600 rounded",title:"Remove from group",children:C.jsx(U0,{size:16})})]},l.id))}):C.jsx("p",{className:"text-gray-600 text-sm",children:"No members in this group yet"})]}),c.length>0&&C.jsxs("div",{children:[C.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Add Members (",c.length," available)"]}),C.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:c.map(l=>C.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-700 flex items-center justify-center text-sm font-semibold",children:u(l.user_name)}),C.jsxs("div",{children:[C.jsx("p",{className:"font-medium text-gray-900",children:l.user_name}),C.jsx("p",{className:"text-sm text-gray-600",children:l.user_email})]})]}),C.jsx("button",{onClick:()=>s(l.user_id),className:"p-2 text-primary-600 hover:text-primary-700 rounded",title:"Add to group",children:C.jsx(Lo,{size:16})})]},l.user_id))})]})]})]})})},wx=()=>{const{id:e}=Fh(),t=Vr(),{user:s}=sr(),[g,i]=Y.useState(null),[p,c]=Y.useState([]),[u,h]=Y.useState(!0),[a,l]=Y.useState(null),[r,n]=Y.useState("gantt"),[o,d]=Y.useState(!1),[f,_]=Y.useState(void 0),[m,v]=Y.useState(void 0),[y,k]=Y.useState(!1),[x,w]=Y.useState([]),b=async()=>{try{if(!e)return;const R=await Yt.get(Number(e));i(R)}catch{de.error("Failed to load project"),t("/projects")}},S=async()=>{try{if(!e)return;h(!0);const R=await ot.list(Number(e));c(R)}catch{de.error("Failed to load tasks")}finally{h(!1)}},T=async()=>{try{if(!e)return;const R=await Yt.getMembers(Number(e));w(R)}catch{console.error("Failed to load members")}};Y.useEffect(()=>{b(),S(),T()},[e]);const N=()=>{S(),b()},$=R=>{l(R),_(R),d(!0)},E=()=>{_(void 0),v(void 0),d(!0)},D=R=>{_(void 0),v(R),d(!0)},P=()=>{d(!1),_(void 0),v(void 0)},I=R=>({planning:"bg-gray-100 text-gray-800",active:"bg-blue-100 text-blue-800",on_hold:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[R]||"bg-gray-100 text-gray-800",O=R=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",member:"bg-green-100 text-green-800",viewer:"bg-gray-100 text-gray-800"})[R]||"bg-gray-100 text-gray-800",B=()=>{if(p.length===0)return 0;const R=p.reduce((H,q)=>H+q.progress,0);return Math.round(R/p.length)};return g?C.jsxs("div",{className:"min-h-screen bg-gray-50",children:[C.jsx("header",{className:"bg-white shadow",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("button",{onClick:()=>t("/projects"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:C.jsx(wp,{size:20})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:g.name}),g.description&&C.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(yx,{projectId:Number(e),projectName:g.name}),C.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I(g.status)}`,children:g.status.replace("_"," ").toUpperCase()}),C.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${O(g.user_role)}`,children:g.user_role.toUpperCase()})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[C.jsx(Sl,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Progress"})]}),C.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[B(),"%"]}),C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:C.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${B()}%`}})})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[C.jsx(Sl,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Tasks"})]}),C.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.length}),C.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[p.filter(R=>R.status==="completed").length," completed"]})]}),C.jsxs("div",{className:"flex gap-4",children:[C.jsxs(jo,{to:`/projects/${e}/members`,className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors flex-1",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[C.jsx(Fr,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Team Members"})]}),C.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.member_count}),C.jsx("div",{className:"text-xs text-primary-600 mt-1",children:"View all →"})]}),C.jsxs("button",{onClick:()=>k(!0),className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors flex-1",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[C.jsx(Fr,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Groups"})]}),C.jsx("div",{className:"text-xs text-primary-600 mt-1",children:"Manage →"})]})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[C.jsx(uo,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Timeline"})]}),C.jsx("div",{className:"text-sm text-gray-900",children:g.start_date?new Date(g.start_date).toLocaleDateString():"Not set"}),C.jsxs("div",{className:"text-sm text-gray-600",children:["to ",g.end_date?new Date(g.end_date).toLocaleDateString():"Not set"]})]})]}),C.jsxs("div",{className:"flex items-center justify-between mt-6",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>n("gantt"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="gantt"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Gantt Chart"}),C.jsx("button",{onClick:()=>n("list"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="list"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"List View"}),C.jsx("button",{onClick:()=>n("activity"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="activity"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Activity"})]}),C.jsxs("button",{onClick:E,className:"btn btn-primary flex items-center gap-2",children:[C.jsx(Fi,{size:20}),"New Task"]})]})]})}),C.jsx("main",{className:r==="gantt"?"px-4 py-8":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r==="gantt"?C.jsxs("div",{className:"bg-white rounded-lg shadow",children:[C.jsxs("div",{className:"p-4 border-b border-gray-200",children:[C.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Gantt Chart"}),C.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Drag tasks to adjust dates, double-click to edit, drag between tasks to create dependencies"})]}),C.jsx("div",{className:"p-4",children:u?C.jsx("div",{className:"flex items-center justify-center py-12",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):C.jsx(cx,{projectId:Number(e),onTaskSelect:$,onTaskUpdate:N})})]}):r==="list"?C.jsxs("div",{className:"bg-white rounded-lg shadow",children:[C.jsx("div",{className:"p-4 border-b border-gray-200",children:C.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Task List"})}),C.jsx("div",{className:"divide-y divide-gray-200",children:u?C.jsx("div",{className:"flex items-center justify-center py-12",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):p.length===0?C.jsx("div",{className:"text-center py-12",children:C.jsx("p",{className:"text-gray-600",children:"No tasks yet. Add tasks using the Gantt chart."})}):p.map(R=>C.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>$(R.id),children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"font-medium text-gray-900",children:R.title}),R.description&&C.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.description}),C.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[C.jsxs("span",{children:["Assigned to: ",R.assigned_user_name||R.assigned_group_name?R.assigned_group_name?C.jsxs("span",{className:"inline-flex items-center gap-1",children:[C.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{backgroundColor:R.assigned_group_color||"#3B82F6"}}),R.assigned_group_name," (Group)"]}):R.assigned_user_name:"Unassigned"]}),C.jsx("span",{children:"•"}),C.jsx("span",{children:R.start_date?new Date(R.start_date).toLocaleDateString():"No start date"}),C.jsx("span",{children:"→"}),C.jsx("span",{children:R.end_date?new Date(R.end_date).toLocaleDateString():"No end date"})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.status==="completed"?"bg-green-100 text-green-800":R.status==="in_progress"?"bg-blue-100 text-blue-800":R.status==="blocked"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:R.status.replace("_"," ").toUpperCase()}),C.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Math.round(R.progress),"%"]})]})]})},R.id))})]}):r==="activity"?C.jsx(vx,{projectId:Number(e)}):null}),C.jsx(_x,{isOpen:o,onClose:P,onSuccess:N,projectId:Number(e),taskId:f,parentTaskId:m,onCreateSubtask:D}),y&&C.jsx(kx,{projectId:Number(e),members:x,onClose:()=>k(!1)})]}):C.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})},Sx=({isOpen:e,onClose:t,onSuccess:s,projectId:g})=>{const[i,p]=Y.useState(""),[c,u]=Y.useState("member"),[h,a]=Y.useState(!1);if(!e)return null;const l=async n=>{var d,f;if(n.preventDefault(),!i.trim()){de.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){de.error("Please enter a valid email address");return}a(!0);try{await Yt.addMember(g,i.trim(),c),de.success("Member added successfully"),s(),r()}catch(_){const m=((f=(d=_.response)==null?void 0:d.data)==null?void 0:f.message)||"Failed to add member";de.error(m)}finally{a(!1)}},r=()=>{p(""),u("member"),t()};return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[C.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[C.jsx(Lo,{size:20}),"Add Team Member"]}),C.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:C.jsx(lr,{size:24})})]}),C.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),C.jsx("input",{id:"email",type:"email",required:!0,value:i,onChange:n=>p(n.target.value),className:"input",placeholder:"colleague@company.com",autoFocus:!0}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The user must have an account with this email address"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),C.jsxs("select",{id:"role",value:c,onChange:n=>u(n.target.value),className:"input",children:[C.jsx("option",{value:"viewer",children:"Viewer - Read-only access"}),C.jsx("option",{value:"member",children:"Member - Can edit tasks"}),C.jsx("option",{value:"manager",children:"Manager - Can manage members"}),C.jsx("option",{value:"owner",children:"Owner - Full access"})]}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can change the role later"})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Role Permissions:"}),C.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[c==="owner"&&C.jsxs(C.Fragment,{children:[C.jsx("li",{children:"• Full access to project settings"}),C.jsx("li",{children:"• Can manage all members"}),C.jsx("li",{children:"• Can delete project"}),C.jsx("li",{children:"• Can create and edit tasks"})]}),c==="manager"&&C.jsxs(C.Fragment,{children:[C.jsx("li",{children:"• Can manage members"}),C.jsx("li",{children:"• Can modify project settings"}),C.jsx("li",{children:"• Can create and edit tasks"}),C.jsx("li",{children:"• Cannot delete project"})]}),c==="member"&&C.jsxs(C.Fragment,{children:[C.jsx("li",{children:"• Can create and edit tasks"}),C.jsx("li",{children:"• Can add comments and files"}),C.jsx("li",{children:"• Cannot manage members"}),C.jsx("li",{children:"• Cannot modify project settings"})]}),c==="viewer"&&C.jsxs(C.Fragment,{children:[C.jsx("li",{children:"• Read-only access"}),C.jsx("li",{children:"• Can view tasks and comments"}),C.jsx("li",{children:"• Cannot make any changes"})]})]})]}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[C.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary flex-1",children:"Cancel"}),C.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary flex-1",children:h?"Adding...":"Add Member"})]})]})]})})},Tx=({members:e,currentUserId:t,canManage:s,onUpdateRole:g,onRemove:i})=>{const[p,c]=Y.useState(null),[u,h]=Y.useState(null),a=m=>{switch(m){case"owner":return C.jsx(Cl,{size:16});case"manager":return C.jsx(Nl,{size:16});case"member":return C.jsx(jr,{size:16});case"viewer":return C.jsx(El,{size:16});default:return C.jsx(jr,{size:16})}},l=m=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",member:"bg-green-100 text-green-800",viewer:"bg-gray-100 text-gray-800"})[m]||"bg-gray-100 text-gray-800",r=m=>m?m.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):"??",n=m=>{const v=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-red-500","bg-teal-500"];return v[m%v.length]},o=async(m,v)=>{c(m.id);try{await g(m.id,v)}finally{c(null)}},d=async m=>{if(confirm(`Remove ${m.user_name||"this user"} from this project?`)){h(m.id);try{await i(m.id)}finally{h(null)}}},f=m=>!(!s||m.user_id===t||m.role==="owner"&&e.filter(y=>y.role==="owner").length<=1),_=m=>!(!s||m.user_id===t||m.role==="owner"&&e.filter(y=>y.role==="owner").length<=1);return C.jsx("div",{className:"divide-y divide-gray-200",children:e.map(m=>C.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[C.jsx("div",{className:`w-10 h-10 rounded-full ${n(m.user_id)} flex items-center justify-center text-white font-medium`,children:r(m.user_name)}),C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("h3",{className:"font-medium text-gray-900",children:m.user_name||"Unknown User"}),m.user_id===t&&C.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:"You"})]}),C.jsx("p",{className:"text-sm text-gray-600",children:m.user_email||"No email"}),C.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Joined ",Fo(new Date(m.joined_at),{addSuffix:!0})]})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[f(m)?C.jsxs("select",{value:m.role,onChange:v=>o(m,v.target.value),disabled:p===m.id,className:"text-sm border-gray-300 rounded-lg px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[C.jsx("option",{value:"owner",children:"Owner"}),C.jsx("option",{value:"manager",children:"Manager"}),C.jsx("option",{value:"member",children:"Member"}),C.jsx("option",{value:"viewer",children:"Viewer"})]}):C.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${l(m.role)}`,children:[a(m.role),C.jsx("span",{className:"text-sm font-medium capitalize",children:m.role})]}),_(m)&&C.jsx("button",{onClick:()=>d(m),disabled:u===m.id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove member",children:u===m.id?C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):C.jsx(ir,{size:16})})]})]})},m.id))})},Cx=()=>{const{id:e}=Fh(),t=Vr(),{user:s}=sr(),[g,i]=Y.useState(null),[p,c]=Y.useState([]),[u,h]=Y.useState(!0),[a,l]=Y.useState(!1);Y.useEffect(()=>{r(),n()},[e]);const r=async()=>{try{if(!e)return;const x=await Yt.get(Number(e));i(x)}catch{de.error("Failed to load project"),t("/projects")}},n=async()=>{try{if(!e)return;h(!0);const x=await Yt.getMembers(Number(e));c(x)}catch{de.error("Failed to load members")}finally{h(!1)}},o=()=>{n(),l(!1)},d=async(x,w)=>{try{if(!e)return;await Yt.updateMemberRole(Number(e),x,w),de.success("Member role updated"),n()}catch{de.error("Failed to update member role")}},f=async x=>{try{if(!e)return;await Yt.removeMember(Number(e),x),de.success("Member removed"),n()}catch{de.error("Failed to remove member")}},_=(g==null?void 0:g.user_role)==="owner"||(g==null?void 0:g.user_role)==="manager",m=x=>{switch(x){case"owner":return C.jsx(Cl,{size:16});case"manager":return C.jsx(Nl,{size:16});case"member":return C.jsx(jr,{size:16});case"viewer":return C.jsx(El,{size:16});default:return C.jsx(jr,{size:16})}},v=x=>({owner:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",member:"bg-green-100 text-green-800",viewer:"bg-gray-100 text-gray-800"})[x]||"bg-gray-100 text-gray-800",y=()=>({owner:p.filter(w=>w.role==="owner").length,manager:p.filter(w=>w.role==="manager").length,member:p.filter(w=>w.role==="member").length,viewer:p.filter(w=>w.role==="viewer").length});if(!g)return C.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const k=y();return C.jsxs("div",{className:"min-h-screen bg-gray-50",children:[C.jsx("header",{className:"bg-white shadow",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("button",{onClick:()=>t(`/projects/${e}`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:C.jsx(wp,{size:20})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Members"}),C.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.name})]})]}),_&&C.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center gap-2",children:[C.jsx(Lo,{size:20}),"Add Member"]})]}),C.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[C.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-1",children:[C.jsx(Cl,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Owners"})]}),C.jsx("div",{className:"text-2xl font-bold text-purple-900",children:k.owner})]}),C.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[C.jsx(Nl,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Managers"})]}),C.jsx("div",{className:"text-2xl font-bold text-blue-900",children:k.manager})]}),C.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-1",children:[C.jsx(jr,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Members"})]}),C.jsx("div",{className:"text-2xl font-bold text-green-900",children:k.member})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[C.jsx(El,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:"Viewers"})]}),C.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.viewer})]})]})]})}),C.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[C.jsxs("div",{className:"bg-white rounded-lg shadow",children:[C.jsxs("div",{className:"p-4 border-b border-gray-200",children:[C.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Members (",p.length,")"]}),C.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage team members and their permissions"})]}),u?C.jsx("div",{className:"flex items-center justify-center py-12",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):C.jsx(Tx,{members:p,currentUserId:(s==null?void 0:s.id)||0,canManage:_,onUpdateRole:d,onRemove:f})]}),C.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[C.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Role Permissions"}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:`p-2 rounded-lg ${v("owner")}`,children:m("owner")}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-medium text-gray-900",children:"Owner"}),C.jsx("p",{className:"text-sm text-gray-600",children:"Full access to project. Can manage members, delete project, and modify all settings."})]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:`p-2 rounded-lg ${v("manager")}`,children:m("manager")}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-medium text-gray-900",children:"Manager"}),C.jsx("p",{className:"text-sm text-gray-600",children:"Can manage tasks, add/remove members, and modify project settings. Cannot delete project."})]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:`p-2 rounded-lg ${v("member")}`,children:m("member")}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-medium text-gray-900",children:"Member"}),C.jsx("p",{className:"text-sm text-gray-600",children:"Can create and edit tasks, add comments and files. Cannot manage members or project settings."})]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:`p-2 rounded-lg ${v("viewer")}`,children:m("viewer")}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-medium text-gray-900",children:"Viewer"}),C.jsx("p",{className:"text-sm text-gray-600",children:"Read-only access. Can view tasks, comments, and files but cannot make changes."})]})]})]})]})]}),C.jsx(Sx,{isOpen:a,onClose:()=>l(!1),onSuccess:o,projectId:Number(e)})]})};function Ex(){return C.jsx(ov,{children:C.jsxs(C0,{children:[C.jsx(Jv,{position:"top-right"}),C.jsxs(Zm,{children:[C.jsx(pn,{path:"/login",element:C.jsx(E0,{})}),C.jsx(pn,{path:"/register",element:C.jsx($0,{})}),C.jsx(pn,{path:"/projects",element:C.jsx(ms,{children:C.jsx(ux,{})})}),C.jsx(pn,{path:"/projects/:id",element:C.jsx(ms,{children:C.jsx(wx,{})})}),C.jsx(pn,{path:"/projects/:id/members",element:C.jsx(ms,{children:C.jsx(Cx,{})})}),C.jsx(pn,{path:"/",element:C.jsx(hl,{to:"/projects",replace:!0})}),C.jsx(pn,{path:"*",element:C.jsx(hl,{to:"/projects",replace:!0})})]})]})})}ys.createRoot(document.getElementById("root")).render(C.jsx(Nd.StrictMode,{children:C.jsx(Ex,{})}));
